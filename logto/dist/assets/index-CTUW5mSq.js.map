{"version":3,"file":"index-CTUW5mSq.js","sources":["../../../schemas/lib/foundations/jsonb-types/custom-domain.js","../../../schemas/lib/foundations/jsonb-types/hooks.js","../../../toolkit/core-kit/lib/utils/color.js","../../../toolkit/core-kit/lib/regex.js","../../../toolkit/core-kit/lib/utils/url.js","../../../toolkit/core-kit/lib/openid.js","../../../shared/lib/utils/phone.js","../../../toolkit/core-kit/lib/utils/integration-test.js","../../../toolkit/core-kit/lib/password-policy.js","../../../schemas/lib/foundations/jsonb-types/logs.js","../../../schemas/lib/foundations/jsonb-types/oidc-module.js","../../../schemas/lib/foundations/jsonb-types/phrases.js","../../../toolkit/language-kit/lib/const.js","../../../toolkit/language-kit/lib/utility.js","../../../schemas/lib/types/theme.js","../../../schemas/lib/foundations/jsonb-types/sign-in-experience.js","../../../schemas/lib/foundations/jsonb-types/sentinel.js","../../../toolkit/connector-kit/lib/types/config-form.js","../../../toolkit/connector-kit/lib/types/error.js","../../../toolkit/connector-kit/lib/types/metadata.js","../../../toolkit/connector-kit/lib/types/foundation.js","../../../toolkit/connector-kit/lib/types/passwordless.js","../../../toolkit/connector-kit/lib/types/social.js","../../../toolkit/connector-kit/lib/types/email-template.js","../../../toolkit/connector-kit/lib/types/index.js","../../../toolkit/connector-kit/lib/index.js","../../../schemas/lib/foundations/jsonb-types/users.js","../../../schemas/lib/foundations/jsonb-types/sso-connector.js","../../../schemas/lib/foundations/jsonb-types/applications.js","../../../schemas/lib/foundations/jsonb-types/verification-records.js","../../../schemas/lib/foundations/jsonb-types/account-centers.js","../../../schemas/lib/foundations/jsonb-types/saml-application-configs.js","../../../schemas/lib/foundations/jsonb-types/saml-application-sessions.js","../../../schemas/lib/foundations/jsonb-types/one-time-tokens.js","../../../schemas/lib/foundations/jsonb-types/captcha.js","../../../schemas/lib/db-entries/custom-types.js","../../../schemas/lib/db-entries/account-center.js","../../../schemas/lib/db-entries/application-secret.js","../../../schemas/lib/db-entries/application-sign-in-experience.js","../../../schemas/lib/db-entries/application-user-consent-organization-resource-scope.js","../../../schemas/lib/db-entries/application-user-consent-organization-scope.js","../../../schemas/lib/db-entries/application-user-consent-organization.js","../../../schemas/lib/db-entries/application-user-consent-resource-scope.js","../../../schemas/lib/db-entries/application-user-consent-user-scope.js","../../../schemas/lib/db-entries/application.js","../../../schemas/lib/db-entries/applications-role.js","../../../schemas/lib/db-entries/captcha-provider.js","../../../schemas/lib/db-entries/connector.js","../../../schemas/lib/db-entries/custom-phrase.js","../../../schemas/lib/db-entries/daily-active-user.js","../../../schemas/lib/db-entries/daily-token-usage.js","../../../schemas/lib/db-entries/domain.js","../../../schemas/lib/db-entries/email-template.js","../../../schemas/lib/db-entries/hook.js","../../../schemas/lib/db-entries/idp-initiated-saml-sso-session.js","../../../schemas/lib/db-entries/log.js","../../../schemas/lib/db-entries/logto-config.js","../../../schemas/lib/db-entries/oidc-model-instance.js","../../../schemas/lib/db-entries/one-time-token.js","../../../schemas/lib/db-entries/organization-application-relation.js","../../../schemas/lib/db-entries/organization-invitation-role-relation.js","../../../schemas/lib/db-entries/organization-invitation.js","../../../schemas/lib/db-entries/organization-jit-email-domain.js","../../../schemas/lib/db-entries/organization-jit-role.js","../../../schemas/lib/db-entries/organization-jit-sso-connector.js","../../../schemas/lib/db-entries/organization-role-application-relation.js","../../../schemas/lib/db-entries/organization-role-resource-scope-relation.js","../../../schemas/lib/db-entries/organization-role-scope-relation.js","../../../schemas/lib/db-entries/organization-role-user-relation.js","../../../schemas/lib/db-entries/organization-role.js","../../../schemas/lib/db-entries/organization-scope.js","../../../schemas/lib/db-entries/organization-user-relation.js","../../../schemas/lib/db-entries/organization.js","../../../schemas/lib/db-entries/passcode.js","../../../schemas/lib/db-entries/personal-access-token.js","../../../schemas/lib/db-entries/resource.js","../../../schemas/lib/db-entries/role.js","../../../schemas/lib/db-entries/roles-scope.js","../../../schemas/lib/db-entries/saml-application-config.js","../../../schemas/lib/db-entries/saml-application-secret.js","../../../schemas/lib/db-entries/saml-application-session.js","../../../schemas/lib/db-entries/scope.js","../../../schemas/lib/db-entries/sentinel-activity.js","../../../schemas/lib/db-entries/service-log.js","../../../schemas/lib/db-entries/sign-in-experience.js","../../../schemas/lib/db-entries/sso-connector-idp-initiated-auth-config.js","../../../schemas/lib/db-entries/sso-connector.js","../../../schemas/lib/db-entries/subject-token.js","../../../schemas/lib/db-entries/system.js","../../../schemas/lib/db-entries/user-sso-identity.js","../../../schemas/lib/db-entries/user.js","../../../schemas/lib/db-entries/users-role.js","../../../schemas/lib/db-entries/verification-record.js","../../../schemas/lib/db-entries/verification-status.js","../../../schemas/lib/types/connector.js","../../../schemas/lib/types/log/interaction.js","../../../schemas/lib/types/log/token.js","../../../schemas/lib/types/log/hook.js","../../../schemas/lib/types/log/jwt-customizer.js","../../../schemas/lib/types/log/saml.js","../../../schemas/lib/types/oidc-config.js","../../../schemas/lib/types/user.js","../../../schemas/lib/types/scope.js","../../../schemas/lib/types/logto-config/oidc-provider.js","../../../schemas/lib/types/logto-config/jwt-customizer.js","../../../schemas/lib/types/logto-config/index.js","../../../schemas/lib/types/verification-code.js","../../../schemas/lib/types/interactions.js","../../../schemas/lib/types/search.js","../../../schemas/lib/types/role.js","../../../schemas/lib/types/application.js","../../../schemas/lib/types/system.js","../../../schemas/lib/types/user-assets.js","../../../schemas/lib/types/hook.js","../../../schemas/lib/types/service-log.js","../../../schemas/lib/types/cookie.js","../../../schemas/lib/types/dashboard.js","../../../schemas/lib/types/domain.js","../../../schemas/lib/types/mfa.js","../../../schemas/lib/types/organization.js","../../../schemas/lib/types/sso-connector.js","../../../schemas/lib/types/tenant.js","../../../schemas/lib/seeds/tenant.js","../../../schemas/lib/types/tenant-organization.js","../../../schemas/lib/types/consent.js","../../../schemas/lib/types/onboarding.js","../../../schemas/lib/types/sign-in-experience.js","../../../schemas/lib/types/subject-token.js","../../../schemas/lib/types/saml-application.js","../../../schemas/lib/seeds/cloud-api.js","../../../schemas/lib/seeds/management-api.js","../../../schemas/lib/seeds/sign-in-experience.js","../../../schemas/lib/consts/date.js","../../../schemas/lib/consts/oidc.js","../../../schemas/lib/consts/subscriptions.js","../../../schemas/lib/consts/experience.js","../../src/Providers/PageContextProvider/PageContext.tsx","../../src/assets/icons/logto-logo-dark.svg?react","../../src/assets/icons/logto-logo-light.svg?react","../../src/assets/icons/logto-logo-shadow.svg?react","../../src/components/LogtoSignature/index.tsx","../../src/hooks/use-platform.ts","../../src/utils/consts.ts","../../src/hooks/use-sie.ts","../../src/Layout/AppLayout/CustomContent.tsx","../../src/Layout/AppLayout/index.tsx","../../src/Providers/AppBoundary/use-color-theme.ts","../../src/assets/icons/close-icon.svg?react","../../src/components/DynamicT/index.tsx","../../src/assets/icons/loading-ring.svg?react","../../src/components/Button/RotatingRingIcon.tsx","../../src/components/Button/index.tsx","../../src/components/Button/IconButton.tsx","../../src/utils/a11y.ts","../../src/components/ConfirmModal/AcModal.tsx","../../src/components/ConfirmModal/MobileModal.tsx","../../src/Providers/ConfirmModalProvider/index.tsx","../../src/assets/icons/arrow-prev.svg?react","../../src/assets/icons/nav-close.svg?react","../../src/components/FlipOnRtl/index.tsx","../../src/components/NavBar/index.tsx","../../src/Providers/IframeModalProvider/IframeModal/index.tsx","../../src/Providers/IframeModalProvider/index.tsx","../../src/components/Toast/index.tsx","../../src/Providers/ToastProvider/index.tsx","../../src/assets/apple-touch-icon.png","../../src/assets/favicon.png","../../src/Providers/AppBoundary/AppMeta.tsx","../../src/Providers/AppBoundary/index.tsx","../../src/hooks/use-toast.ts","../../src/Providers/CaptchaContextProvider/CaptchaContext.tsx","../../src/Providers/CaptchaContextProvider/constant.ts","../../src/Providers/CaptchaContextProvider/utils.ts","../../src/Providers/CaptchaContextProvider/index.tsx","../../src/components/LoadingMask/index.tsx","../../src/Providers/LoadingLayerProvider/index.tsx","../../src/Providers/PageContextProvider/index.tsx","../../../phrases-experience/lib/index.js","../../src/utils/search-parameters.ts","../../src/apis/settings.ts","../../src/i18n/utils.ts","../../src/i18n/init.ts","../../src/types/index.ts","../../src/utils/index.ts","../../src/utils/native-sdk.ts","../../src/utils/social-connectors.ts","../../src/Providers/SettingsProvider/use-preview.ts","../../src/utils/sign-in-experience.ts","../../src/Providers/SettingsProvider/use-theme.ts","../../src/Providers/SettingsProvider/use-sign-in-experience.ts","../../src/Providers/SettingsProvider/index.tsx","../../src/types/guard.ts","../../src/hooks/use-session-storages.ts","../../src/Providers/UserInteractionContextProvider/UserInteractionContext.tsx","../../src/Providers/UserInteractionContextProvider/index.tsx","../../src/assets/icons/dev-icon.svg?react","../../src/containers/DevelopmentTenantNotification/index.tsx","../../src/Layout/StaticPageLayout/index.tsx","../../src/assets/icons/loading-icon.svg?react","../../src/components/LoadingLayer/LoadingIcon.tsx","../../src/components/LoadingLayer/index.tsx","../../src/hooks/use-connectors.ts","../../src/containers/SocialLanding/index.tsx","../../src/pages/Callback/use-social-callback-handler.ts","../../src/pages/Callback/index.tsx","../../src/assets/icons/connect-icon.svg?react","../../src/components/BrandingHeader/index.tsx","../../src/utils/logo.ts","../../src/components/PageMeta/index.tsx","../../src/Layout/FirstScreenLayout/index.tsx","../../src/Layout/LandingPageLayout/index.tsx","../../src/apis/api.ts","../../src/apis/consent.ts","../../src/components/TextLink/index.tsx","../../src/components/TermsLinks/index.tsx","../../src/hooks/use-api.ts","../../src/hooks/use-error-handler.ts","../../src/hooks/use-global-redirect-to.ts","../../src/assets/icons/expandable-icon.svg?react","../../src/assets/icons/arrow-down.svg?react","../../src/assets/icons/check-mark.svg?react","../../src/pages/Consent/ScopeGroup/index.tsx","../../src/assets/icons/organization-icon.svg?react","../../src/pages/Consent/OrganizationSelector/OrganizationItem/index.tsx","../../src/pages/Consent/OrganizationSelector/OrganizationSelectorModal/index.tsx","../../src/pages/Consent/OrganizationSelector/index.tsx","../../src/pages/Consent/ScopesListCard/index.tsx","../../src/assets/icons/default-user-avatar.svg?react","../../src/pages/Consent/UserProfile/index.tsx","../../src/pages/Consent/util.ts","../../src/pages/Consent/index.tsx","../../src/assets/icons/empty-state-dark.svg?react","../../src/assets/icons/empty-state.svg?react","../../src/pages/ErrorPage/SupportInfo.tsx","../../src/pages/ErrorPage/index.tsx","../../src/assets/icons/info-icon.svg?react","../../src/components/Notification/AppNotification/index.tsx","../../src/components/Notification/InlineNotification/index.tsx","../../src/Layout/SecondaryPageLayout/index.tsx","../../src/apis/experience/const.ts","../../src/apis/experience/interaction.ts","../../src/apis/experience/mfa.ts","../../src/apis/experience/social.ts","../../src/apis/experience/one-time-token.ts","../../src/apis/experience/index.ts","../../src/apis/utils.ts","../../src/hooks/use-send-verification-code.ts","../../src/components/ErrorMessage/index.tsx","../../src/components/InputFields/InputField/NotchedBorder/index.tsx","../../src/components/InputFields/InputField/index.tsx","../../src/assets/icons/password-hide-icon.svg?react","../../src/assets/icons/password-show-icon.svg?react","../../src/hooks/use-toggle.ts","../../src/components/InputFields/PasswordInputField/index.tsx","../../src/assets/icons/clear-icon.svg?react","../../src/components/InputFields/SmartInputField/AnimatedPrefix/index.tsx","../../src/utils/country-code.ts","../../src/assets/icons/search-icon.svg?react","../../src/hooks/use-debounce.ts","../../src/components/InputFields/SmartInputField/CountryCodeSelector/CountryCodeDropdown/index.tsx","../../src/components/InputFields/SmartInputField/CountryCodeSelector/index.tsx","../../src/utils/form.ts","../../src/components/InputFields/SmartInputField/utils.ts","../../src/components/InputFields/SmartInputField/use-smart-input-field.ts","../../src/components/InputFields/SmartInputField/index.tsx","../../src/pages/Continue/IdentifierProfileForm/index.tsx","../../src/utils/format.ts","../../src/pages/Continue/SetEmailOrPhone/SocialIdentityNotification.tsx","../../src/pages/Continue/SetEmailOrPhone/index.tsx","../../src/containers/SetPassword/HiddenIdentifierInput.tsx","../../src/containers/SetPassword/Lite.tsx","../../src/assets/icons/checkbox-icon.svg?react","../../src/components/Checkbox/index.tsx","../../src/containers/SetPassword/TogglePassword.tsx","../../src/containers/SetPassword/SetPassword.tsx","../../src/containers/SetPassword/index.tsx","../../src/hooks/use-confirm-modal.ts","../../src/hooks/use-password-error-message.ts","../../src/hooks/use-password-policy-checker.ts","../../src/hooks/use-password-rejection-handler.ts","../../src/hooks/use-email-blocked-error-handler.ts","../../src/hooks/use-start-backup-code-binding.ts","../../src/hooks/use-start-totp-binding.ts","../../src/hooks/use-start-webauthn-processing.ts","../../src/hooks/use-mfa-error-handler.ts","../../src/hooks/use-required-profile-error-handler.ts","../../src/hooks/use-submit-interaction-error-handler.ts","../../src/pages/Continue/SetPassword/index.tsx","../../src/pages/Continue/SetUsername/use-set-username.ts","../../src/pages/Continue/SetUsername/index.tsx","../../src/pages/Continue/index.tsx","../../src/containers/TermsAndPrivacyConfirmModalContent/index.tsx","../../src/hooks/use-terms.ts","../../src/containers/SocialSignInList/use-social.ts","../../src/hooks/use-fallback-route.ts","../../src/hooks/use-single-sign-on.ts","../../src/pages/DirectSignIn/index.tsx","../../src/hooks/use-login-hint.ts","../../src/hooks/use-prefilled-identifier.ts","../../src/containers/CaptchaBox/index.tsx","../../src/pages/ForgotPassword/ForgotPasswordForm/index.tsx","../../src/pages/ForgotPassword/index.tsx","../../src/containers/TermsAndPrivacyLinks/index.tsx","../../src/Layout/FocusedAuthPageLayout/index.tsx","../../src/Providers/SingleSignOnFormModeContextProvider/SingleSignOnFormModeContext.tsx","../../src/Providers/SingleSignOnFormModeContextProvider/index.tsx","../../src/assets/icons/lock.svg?react","../../src/containers/TermsAndPrivacyCheckbox/index.tsx","../../src/hooks/use-single-sign-on-watch.ts","../../src/hooks/use-check-single-sign-on.ts","../../src/components/IdentifierRegisterForm/use-register-with-username.ts","../../src/components/IdentifierRegisterForm/use-on-submit.ts","../../src/components/IdentifierRegisterForm/index.tsx","../../src/hooks/use-identifier-params.ts","../../src/pages/IdentifierRegister/use-identifier-sign-up-methods.ts","../../src/pages/IdentifierRegister/index.tsx","../../src/components/IdentifierSignInForm/use-on-submit.ts","../../src/components/IdentifierSignInForm/index.tsx","../../src/containers/ForgotPasswordLink/index.tsx","../../src/hooks/use-password-sign-in.ts","../../src/components/PasswordSignInForm/index.tsx","../../src/pages/IdentifierSignIn/use-identifier-sign-in-methods.ts","../../src/pages/IdentifierSignIn/index.tsx","../../src/assets/icons/arrow-next.svg?react","../../src/assets/icons/factor-backup-code.svg?react","../../src/assets/icons/factor-totp.svg?react","../../src/assets/icons/factor-webauthn.svg?react","../../src/components/Button/MfaFactorButton.tsx","../../src/containers/MfaFactorList/index.tsx","../../src/hooks/use-mfa-factors-state.ts","../../src/hooks/use-skip-mfa.ts","../../src/pages/MfaBinding/index.tsx","../../src/hooks/use-send-mfa-payload.ts","../../src/hooks/use-text-handler.ts","../../src/pages/MfaBinding/BackupCodeBinding/index.tsx","../../src/components/Divider/index.tsx","../../src/assets/icons/switch-icon.svg?react","../../src/components/SwitchMfaFactorsLink/index.tsx","../../src/Layout/SectionLayout/index.tsx","../../src/pages/MfaBinding/TotpBinding/SecretSection/index.tsx","../../src/components/VerificationCode/index.tsx","../../src/containers/TotpCodeVerification/use-totp-code-verification.ts","../../src/containers/TotpCodeVerification/index.tsx","../../src/pages/MfaBinding/TotpBinding/VerificationSection.tsx","../../src/pages/MfaBinding/TotpBinding/index.tsx","../../src/hooks/use-webauthn-operation.ts","../../src/utils/webauthn.ts","../../src/pages/MfaBinding/WebAuthnBinding/index.tsx","../../src/pages/MfaVerification/index.tsx","../../src/pages/MfaVerification/BackupCodeVerification/index.tsx","../../src/pages/MfaVerification/TotpVerification/index.tsx","../../src/pages/MfaVerification/WebAuthnVerification/index.tsx","../../src/pages/OneTimeToken/index.tsx","../../src/components/GoogleOneTap/index.tsx","../../src/components/Button/SocialLinkButton.tsx","../../src/hooks/use-native-message-listener.ts","../../src/containers/SocialSignInList/index.tsx","../../src/pages/Register/index.tsx","../../src/pages/RegisterPassword/index.tsx","../../src/pages/ResetPassword/index.tsx","../../src/pages/ResetPasswordLanding/use-reset-password-methods.ts","../../src/pages/ResetPasswordLanding/index.tsx","../../src/pages/SignIn/Main.tsx","../../src/pages/SignIn/index.tsx","../../src/pages/SignInPassword/PasswordForm/VerificationCodeLink.tsx","../../src/pages/SignInPassword/PasswordForm/index.tsx","../../src/pages/SignInPassword/index.tsx","../../src/pages/SingleSignOnConnectors/index.tsx","../../src/components/SingleSignOnForm/index.tsx","../../src/pages/SingleSignOnEmail/index.tsx","../../src/pages/SingleSignOnLanding/index.tsx","../../src/pages/SocialLanding/use-social-landing-handler.ts","../../src/pages/SocialLanding/index.tsx","../../src/hooks/use-social-register.ts","../../src/containers/SocialLinkAccount/use-social-link-related-user.ts","../../src/containers/SocialLinkAccount/index.tsx","../../src/pages/SocialLinkAccount/index.tsx","../../src/pages/SocialSignInWebCallback/use-single-sign-on-listener.ts","../../src/pages/SocialSignInWebCallback/SingleSignOn.tsx","../../src/pages/SocialSignInWebCallback/use-social-sign-in-listener.ts","../../src/pages/SocialSignInWebCallback/SocialSignIn.tsx","../../src/pages/SocialSignInWebCallback/index.tsx","../../src/pages/Springboard/index.tsx","../../src/pages/SwitchAccount/index.tsx","../../src/containers/VerificationCode/PasswordSignInLink.tsx","../../src/containers/VerificationCode/use-resend-verification-code.ts","../../src/containers/VerificationCode/use-general-verification-code-error-handler.ts","../../src/containers/VerificationCode/use-identifier-error-alert.ts","../../src/hooks/use-social-link-account.ts","../../src/containers/VerificationCode/use-link-social-confirm-modal.ts","../../src/containers/VerificationCode/use-sign-in-with-exist-identifier-confirm-modal.ts","../../src/containers/VerificationCode/use-continue-flow-code-verification.ts","../../src/containers/VerificationCode/use-forgot-password-flow-code-verification.ts","../../src/containers/VerificationCode/use-register-flow-code-verification.ts","../../src/containers/VerificationCode/use-sign-in-flow-code-verification.ts","../../src/containers/VerificationCode/utils.ts","../../src/containers/VerificationCode/index.tsx","../../src/pages/VerificationCode/index.tsx","../../src/App.tsx","../../src/index.tsx"],"sourcesContent":["import { z } from 'zod';\nexport const domainDnsRecordGuard = z.object({\n    name: z.string(),\n    type: z.string(),\n    value: z.string(),\n});\nexport const domainDnsRecordsGuard = domainDnsRecordGuard.array();\n// https://developers.cloudflare.com/api/operations/custom-hostname-for-a-zone-list-custom-hostnames#Responses\n// Predefine the \"useful\" fields\nexport const cloudflareDataGuard = z.object({\n    id: z.string(),\n    status: z.string(),\n    ssl: z.object({\n        status: z.string(),\n        validation_errors: z\n            .object({\n            message: z.string(),\n        })\n            .array()\n            .optional(),\n    }),\n    verification_errors: z.string().array().optional(),\n});\nexport var DomainStatus;\n(function (DomainStatus) {\n    DomainStatus[\"PendingVerification\"] = \"PendingVerification\";\n    DomainStatus[\"PendingSsl\"] = \"PendingSsl\";\n    DomainStatus[\"Active\"] = \"Active\";\n    DomainStatus[\"Error\"] = \"Error\";\n})(DomainStatus || (DomainStatus = {}));\nexport const domainStatusGuard = z.nativeEnum(DomainStatus);\n","import { z } from 'zod';\n/**\n * We categorize the hook events into two types:\n *\n * InteractionHookEvent: The hook events that are triggered by user interactions.\n * DataHookEvent: The hook events that are triggered by Logto data mutations.\n */\n// InteractionHookEvent\nexport var InteractionHookEvent;\n(function (InteractionHookEvent) {\n    InteractionHookEvent[\"PostRegister\"] = \"PostRegister\";\n    InteractionHookEvent[\"PostSignIn\"] = \"PostSignIn\";\n    InteractionHookEvent[\"PostResetPassword\"] = \"PostResetPassword\";\n})(InteractionHookEvent || (InteractionHookEvent = {}));\n// DataHookEvent\nexport var DataHookSchema;\n(function (DataHookSchema) {\n    DataHookSchema[\"User\"] = \"User\";\n    DataHookSchema[\"Role\"] = \"Role\";\n    DataHookSchema[\"Scope\"] = \"Scope\";\n    DataHookSchema[\"Organization\"] = \"Organization\";\n    DataHookSchema[\"OrganizationRole\"] = \"OrganizationRole\";\n    DataHookSchema[\"OrganizationScope\"] = \"OrganizationScope\";\n})(DataHookSchema || (DataHookSchema = {}));\nvar DataHookBasicMutationType;\n(function (DataHookBasicMutationType) {\n    DataHookBasicMutationType[\"Created\"] = \"Created\";\n    DataHookBasicMutationType[\"Deleted\"] = \"Deleted\";\n})(DataHookBasicMutationType || (DataHookBasicMutationType = {}));\nvar DataHookDetailMutationType;\n(function (DataHookDetailMutationType) {\n    DataHookDetailMutationType[\"Updated\"] = \"Updated\";\n})(DataHookDetailMutationType || (DataHookDetailMutationType = {}));\n/** The hook event values that can be registered. */\nexport const hookEvents = Object.freeze([\n    InteractionHookEvent.PostRegister,\n    InteractionHookEvent.PostSignIn,\n    InteractionHookEvent.PostResetPassword,\n    'User.Created',\n    'User.Deleted',\n    'User.Data.Updated',\n    'User.SuspensionStatus.Updated',\n    'Role.Created',\n    'Role.Deleted',\n    'Role.Data.Updated',\n    'Role.Scopes.Updated',\n    'Scope.Created',\n    'Scope.Deleted',\n    'Scope.Data.Updated',\n    'Organization.Created',\n    'Organization.Deleted',\n    'Organization.Data.Updated',\n    'Organization.Membership.Updated',\n    'OrganizationRole.Created',\n    'OrganizationRole.Deleted',\n    'OrganizationRole.Data.Updated',\n    'OrganizationRole.Scopes.Updated',\n    'OrganizationScope.Created',\n    'OrganizationScope.Deleted',\n    'OrganizationScope.Data.Updated',\n]);\nexport const hookEventGuard = z.enum(hookEvents);\nexport const hookEventsGuard = hookEventGuard.array();\nexport const interactionHookEventGuard = z.nativeEnum(InteractionHookEvent);\n/**\n * Hook configuration for web hook.\n */\nexport const hookConfigGuard = z.object({\n    /** We don't need `type` since v1 only has web hook */\n    // type: 'web';\n    /** Method fixed to `POST` */\n    url: z.string(),\n    /** Additional headers that attach to the request */\n    headers: z.record(z.string()).optional(),\n    /**\n     * @deprecated\n     * Retry times when hook response status >= 500.\n     * Now the retry times is fixed to 3.\n     * Keep for backward compatibility.\n     */\n    retries: z.number().gte(0).lte(3).optional(),\n});\n/**\n * Management API hooks registration.\n * Define the hook event that should be triggered when the management API is called.\n */\nexport const managementApiHooksRegistration = Object.freeze({\n    'POST /users': 'User.Created',\n    // `User.Deleted` event is triggered manually in the `DELETE /users/:userId` route for better payload control\n    'PATCH /users/:userId': 'User.Data.Updated',\n    'PATCH /users/:userId/custom-data': 'User.Data.Updated',\n    'PATCH /users/:userId/profile': 'User.Data.Updated',\n    'PATCH /users/:userId/password': 'User.Data.Updated',\n    'PATCH /users/:userId/is-suspended': 'User.SuspensionStatus.Updated',\n    'POST /roles': 'Role.Created',\n    'DELETE /roles/:id': 'Role.Deleted',\n    'PATCH /roles/:id': 'Role.Data.Updated',\n    'POST /roles/:id/scopes': 'Role.Scopes.Updated',\n    'DELETE /roles/:id/scopes/:scopeId': 'Role.Scopes.Updated',\n    'POST /resources/:resourceId/scopes': 'Scope.Created',\n    'DELETE /resources/:resourceId/scopes/:scopeId': 'Scope.Deleted',\n    'PATCH /resources/:resourceId/scopes/:scopeId': 'Scope.Data.Updated',\n    'POST /organizations': 'Organization.Created',\n    'DELETE /organizations/:id': 'Organization.Deleted',\n    'PATCH /organizations/:id': 'Organization.Data.Updated',\n    'POST /organization-roles': 'OrganizationRole.Created',\n    'DELETE /organization-roles/:id': 'OrganizationRole.Deleted',\n    'PATCH /organization-roles/:id': 'OrganizationRole.Data.Updated',\n    'POST /organization-scopes': 'OrganizationScope.Created',\n    'DELETE /organization-scopes/:id': 'OrganizationScope.Deleted',\n    'PATCH /organization-scopes/:id': 'OrganizationScope.Data.Updated',\n    'PUT /organization-roles/:id/scopes': 'OrganizationRole.Scopes.Updated',\n    'POST /organization-roles/:id/scopes': 'OrganizationRole.Scopes.Updated',\n    'DELETE /organization-roles/:id/scopes/:organizationScopeId': 'OrganizationRole.Scopes.Updated',\n});\n","import color from 'color';\n// Color hsl lighten/darken takes percentage value only, need to implement absolute value update\nexport const absoluteLighten = (baseColor, delta) => {\n    const hslArray = baseColor.hsl().round().array();\n    return color([hslArray[0] ?? 0, hslArray[1] ?? 0, (hslArray[2] ?? 0) + delta], 'hsl');\n};\nexport const absoluteDarken = (baseColor, delta) => {\n    const hslArray = baseColor.hsl().round().array();\n    return color([hslArray[0] ?? 0, hslArray[1] ?? 0, (hslArray[2] ?? 0) - delta], 'hsl');\n};\nexport const generateDarkColor = (lightColor) => absoluteLighten(color(lightColor), 10).hex();\n","export const emailRegEx = /^\\S+@\\S+\\.\\S+$/;\n/** Validates full email address or email domain. */\nexport const emailOrEmailDomainRegex = /^\\S+@\\S+\\.\\S+|^@\\S+\\.\\S+$/;\nexport const phoneRegEx = /^\\d+$/;\nexport const phoneInputRegEx = /^\\+?[\\d-( )]+$/;\nexport const usernameRegEx = /^[A-Z_a-z]\\w*$/;\nexport const webRedirectUriProtocolRegEx = /^https?:$/;\nexport const mobileUriSchemeProtocolRegEx = /^(?!http(s)?:)[a-z][\\d+_a-z-]*(\\.[\\d+_a-z-]+)*:$/;\nexport const hexColorRegEx = /^#[\\da-f]{3}([\\da-f]{3})?$/i;\nexport const dateRegex = /^\\d{4}(-\\d{2}){2}/;\nexport const noSpaceRegEx = /^\\S+$/;\n/** Full domain that consists of at least 3 parts, e.g. foo.bar.com or example-foo.bar.com */\nexport const domainRegEx = /^[\\dA-Za-z](?:[\\dA-Za-z-]*[\\dA-Za-z])?(?:\\.[\\dA-Za-z](?:[\\dA-Za-z-]*[\\dA-Za-z])?){2,}$/;\n","import { mobileUriSchemeProtocolRegEx, webRedirectUriProtocolRegEx } from '../regex.js';\nexport const validateRedirectUrl = (url, type) => {\n    try {\n        const { protocol } = new URL(url);\n        const protocolRegEx = type === 'mobile' ? mobileUriSchemeProtocolRegEx : webRedirectUriProtocolRegEx;\n        return protocolRegEx.test(protocol);\n    }\n    catch {\n        return false;\n    }\n};\nexport const validateUriOrigin = (url) => {\n    try {\n        return new URL(url).origin === url;\n    }\n    catch {\n        return false;\n    }\n};\nexport const isValidUrl = (url) => {\n    try {\n        return Boolean(url && new URL(url));\n    }\n    catch {\n        return false;\n    }\n};\n/**\n * Check if the given URL is localhost\n */\nexport const isLocalhost = (url) => {\n    const parsedUrl = new URL(url);\n    return ['localhost', '127.0.0.1', '::1'].includes(parsedUrl.hostname);\n};\n/**\n * Check if the request URL is a file asset path.\n * The check is based on the last segment of the URL path containing a dot, ignoring query params.\n * Example:\n * - `path/scripts.js` -> true\n * - `path/index.html?query=param` -> true\n * - `path` -> false\n * - `path?email=abc@test.com` -> false\n * @param url Request URL\n * @returns Boolean value indicating if the request URL is a file asset path\n */\nexport const isFileAssetPath = (url) => {\n    const pathWithoutQuery = url.split('?')[0];\n    return Boolean(pathWithoutQuery?.split('/').at(-1)?.includes('.'));\n};\n/**\n * Parse the \"range\" request header value to get the start, end, and count values.\n * Example:\n * - `range: bytes=0-499` -> { start: 0, end: 499, count: 500 }\n * - `range: bytes=0-` -> { start: 0, end: undefined, count: undefined }\n * - `range: invalid` -> Error: Range not satisfiable\n * - Without range header -> { start: undefined, end: undefined, count: undefined }\n * @param range Range request header value\n * @returns Object containing start, end, and count values\n */\nexport const parseRange = (range) => {\n    const rangeMatch = /bytes=(\\d+)-(\\d+)?/.exec(range);\n    if (range && !rangeMatch) {\n        throw new Error('Range not satisfiable.');\n    }\n    const start = rangeMatch?.[1] === undefined ? undefined : Number.parseInt(rangeMatch[1], 10);\n    const end = rangeMatch?.[2] === undefined ? undefined : Number.parseInt(rangeMatch[2], 10);\n    const count = end === undefined ? undefined : end - (start ?? 0) + 1;\n    return {\n        start,\n        end,\n        count,\n    };\n};\n","import { z } from 'zod';\n/** Scopes that reserved by Logto, which will be added to the auth request automatically. */\nexport var ReservedScope;\n(function (ReservedScope) {\n    ReservedScope[\"OpenId\"] = \"openid\";\n    ReservedScope[\"OfflineAccess\"] = \"offline_access\";\n})(ReservedScope || (ReservedScope = {}));\n/** Resources that reserved by Logto, which cannot be defined by users. */\nexport var ReservedResource;\n(function (ReservedResource) {\n    /**\n     * The resource for organization template per RFC 0001.\n     *\n     * @see {@link https://github.com/logto-io/rfcs | RFC 0001} for more details.\n     */\n    ReservedResource[\"Organization\"] = \"urn:logto:resource:organizations\";\n})(ReservedResource || (ReservedResource = {}));\n/**\n * A comprehensive list of all available user claims that can be used in SAML applications.\n * This array serves two purposes:\n * 1. Acts as a single source of truth for all possible `UserClaim` values\n * 2. Provides a runtime accessible list of all available claims\n *\n * Previously, `UserClaim` type was defined directly as a union type. Now, we define this array first\n * and derive the `UserClaim` type from it using Zod. This approach maintains type safety while also\n * making the complete list of claims available at runtime.\n *\n * Note: This array must include ALL possible values from `UserClaim` type.\n * TypeScript will throw error if any value is missing.\n */\nexport const userClaimsList = [\n    // OIDC standard claims\n    'name',\n    'given_name',\n    'family_name',\n    'middle_name',\n    'nickname',\n    'preferred_username',\n    'profile',\n    'picture',\n    'website',\n    'email',\n    'email_verified',\n    'gender',\n    'birthdate',\n    'zoneinfo',\n    'locale',\n    'phone_number',\n    'phone_number_verified',\n    'address',\n    'updated_at',\n    // Custom claims\n    'username',\n    'roles',\n    'organizations',\n    'organization_data',\n    'organization_roles',\n    'custom_data',\n    'identities',\n    'sso_identities',\n    'created_at',\n];\n/**\n * Zod guard for `UserClaim` type, using `userClaimsList` as the single source of truth\n */\nexport const userClaimGuard = z.enum(userClaimsList);\n/**\n * Scopes for ID Token and Userinfo Endpoint.\n */\nexport var UserScope;\n(function (UserScope) {\n    /**\n     * Scope for basic user info.\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"Profile\"] = \"profile\";\n    /**\n     * Scope for user email address.\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"Email\"] = \"email\";\n    /**\n     * Scope for user phone number.\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"Phone\"] = \"phone\";\n    /**\n     * Scope for user address.\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"Address\"] = \"address\";\n    /**\n     * Scope for user's custom data.\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"CustomData\"] = \"custom_data\";\n    /**\n     * Scope for user's social and SSO identity details.\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"Identities\"] = \"identities\";\n    /**\n     * Scope for user's roles.\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"Roles\"] = \"roles\";\n    /**\n     * Scope for user's organization IDs and perform organization token grant per [RFC 0001](https://github.com/logto-io/rfcs).\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"Organizations\"] = \"urn:logto:scope:organizations\";\n    /**\n     * Scope for user's organization roles per [RFC 0001](https://github.com/logto-io/rfcs).\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"OrganizationRoles\"] = \"urn:logto:scope:organization_roles\";\n})(UserScope || (UserScope = {}));\n/**\n * Mapped claims that ID Token includes.\n *\n * @see {@link https://openid.net/specs/openid-connect-core-1_0.html#ScopeClaims | OpenID Connect Core 1.0} for standard scope - claim mapping.\n */\nexport const idTokenClaims = Object.freeze({\n    [UserScope.Profile]: [\n        // Standard claims\n        'name',\n        'family_name',\n        'given_name',\n        'middle_name',\n        'nickname',\n        'preferred_username',\n        'profile',\n        'picture',\n        'website',\n        'gender',\n        'birthdate',\n        'zoneinfo',\n        'locale',\n        'updated_at',\n        // Custom claims\n        'username',\n        'created_at',\n    ],\n    [UserScope.Email]: ['email', 'email_verified'],\n    [UserScope.Phone]: ['phone_number', 'phone_number_verified'],\n    [UserScope.Address]: ['address'],\n    [UserScope.Roles]: ['roles'],\n    [UserScope.Organizations]: ['organizations'],\n    [UserScope.OrganizationRoles]: ['organization_roles'],\n    [UserScope.CustomData]: [],\n    [UserScope.Identities]: [],\n});\n/**\n * Additional claims that Userinfo Endpoint returns.\n */\nexport const userinfoClaims = Object.freeze({\n    [UserScope.Profile]: [],\n    [UserScope.Email]: [],\n    [UserScope.Phone]: [],\n    [UserScope.Address]: [],\n    [UserScope.Roles]: [],\n    [UserScope.Organizations]: ['organization_data'],\n    [UserScope.OrganizationRoles]: [],\n    [UserScope.CustomData]: ['custom_data'],\n    [UserScope.Identities]: ['identities', 'sso_identities'],\n});\nexport const userClaims = Object.freeze(\n// Hard to infer type directly, use `as` for a workaround.\n// eslint-disable-next-line no-restricted-syntax\nObject.fromEntries(Object.values(UserScope).map((current) => [\n    current,\n    [...idTokenClaims[current], ...userinfoClaims[current]],\n])));\n/**\n * The prefix of the URN (Uniform Resource Name) for the organization in Logto.\n *\n * @example\n * ```\n * urn:logto:organization:123 // organization with ID 123\n * ```\n * @see {@link https://en.wikipedia.org/wiki/Uniform_Resource_Name | Uniform Resource Name}\n */\nexport const organizationUrnPrefix = 'urn:logto:organization:';\n/**\n * Build the URN (Uniform Resource Name) for the organization in Logto.\n *\n * @param organizationId The ID of the organization.\n * @returns The URN for the organization.\n * @see {@link organizationUrnPrefix} for the prefix of the URN.\n * @example\n * ```ts\n * buildOrganizationUrn('1') // returns 'urn:logto:organization:1'\n * ```\n */\nexport const buildOrganizationUrn = (organizationId) => `${organizationUrnPrefix}${organizationId}`;\n/**\n * Get the organization ID from the URN (Uniform Resource Name) for the organization in Logto.\n *\n * @param urn The URN for the organization. Must start with {@link organizationUrnPrefix}.\n * @returns The ID of the organization.\n * @throws {TypeError} If the URN is invalid.\n * @example\n * ```ts\n * getOrganizationIdFromUrn('1') // throws TypeError\n * getOrganizationIdFromUrn('urn:logto:organization:1') // returns '1'\n * ```\n */\nexport const getOrganizationIdFromUrn = (urn) => {\n    if (!urn.startsWith(organizationUrnPrefix)) {\n        throw new TypeError('Invalid organization URN.');\n    }\n    return urn.slice(organizationUrnPrefix.length);\n};\n","import { parsePhoneNumberWithError } from 'libphonenumber-js';\n/**\n * Parse phone number to E.164 format.\n * This method will add a leading `+` sign if the phone number does not start with it.\n */\nexport const parseE164Number = (phone) => {\n    if (!phone || phone.startsWith('+')) {\n        return phone;\n    }\n    return `+${phone}`;\n};\n/**\n * Parse phone number to number string.\n * This method will strip the:\n *  - leading `+` sign of the country code if any,\n *  - the leading `0` of the phone number if any,\n *  - non-digit characters if any.\n *\n * @params phone - The phone number to parse.\n * @params throwError - If true, throw an error if the phone number is invalid. Otherwise, return the original phone number.\n *\n * @example\n * +1 (650) 253-0000 -> 16502530000\n *\n * @example\n * +61 0412 345 678 -> 61412345678\n */\nexport const parsePhoneNumber = (phone, throwError) => {\n    try {\n        return parsePhoneNumberWithError(parseE164Number(phone)).number.slice(1);\n    }\n    catch (error) {\n        if (throwError) {\n            throw error;\n        }\n        console.error(`Invalid phone number: ${phone}`);\n        return phone;\n    }\n};\n/**\n * Parse phone number to readable international format.\n * E.g. 16502530000 -> +1 650 253 0000\n */\nexport const formatToInternationalPhoneNumber = (phone) => {\n    try {\n        return parsePhoneNumberWithError(parseE164Number(phone)).formatInternational();\n    }\n    catch {\n        console.error(`Invalid phone number: ${phone}`);\n        return phone;\n    }\n};\nexport class PhoneNumberParser {\n    static parse(phone) {\n        return parsePhoneNumberWithError(parseE164Number(phone));\n    }\n    #parsedPhoneNumber;\n    #isValid;\n    constructor(phone) {\n        this.phone = phone;\n        try {\n            this.#parsedPhoneNumber = PhoneNumberParser.parse(phone);\n            this.#isValid = true;\n        }\n        catch {\n            this.#isValid = false;\n        }\n    }\n    get raw() {\n        return this.phone;\n    }\n    get isValid() {\n        return this.#isValid;\n    }\n    get countryCode() {\n        return this.#parsedPhoneNumber?.countryCallingCode;\n    }\n    /**\n     * Local number without country code.\n     */\n    get nationalNumber() {\n        return this.#parsedPhoneNumber?.nationalNumber;\n    }\n    /**\n     * Formatted international number. With\n     * - leading `+` sign stripped,\n     * - leading `0` of the phone number stripped,\n     * - non-digit characters stripped.\n     *\n     * @remarks\n     * Logto use this format to store phone number in the database.\n     *\n     * @example\n     * +1 (650) 253-0000 -> 16502530000\n     */\n    get internationalNumber() {\n        if (!this.#isValid || !this.nationalNumber || !this.countryCode) {\n            // eslint-disable-next-line getter-return\n            return;\n        }\n        return `${this.countryCode}${this.nationalNumber}`;\n    }\n    /**\n     * Formatted international number with leading `0` of the phone number.\n     *\n     * @example\n     * 61 412 345 678 -> 610412345678\n     *\n     * @remarks\n     * In some countries, local phone numbers are often entered with a leading '0'.\n     * However, in the international format that includes the country code, this leading '0' should be removed.\n     *\n     * The previous implementation did not handle this correctly, causing the combination of country code + 0 + local number\n     *  to be treated as different from country code + local number in the Logto system.\n     *\n     * Both formats should be considered the same phone number.\n     *\n     * We use this format to find the legacy phone number in the database incase the user registered the phone number with leading `0`.\n     */\n    get internationalNumberWithLeadingZero() {\n        if (!this.#isValid || !this.nationalNumber || !this.countryCode) {\n            // eslint-disable-next-line getter-return\n            return;\n        }\n        return `${this.countryCode}0${this.nationalNumber}`;\n    }\n}\n","import { yes } from '@silverhand/essentials';\nexport const isIntegrationTest = () => yes(process.env.INTEGRATION_TEST);\nexport const getPwnPasswordsForTest = () => {\n    if (!isIntegrationTest()) {\n        throw new Error('This function should only be called in integration tests');\n    }\n    return Object.freeze(['123456aA', 'test_password']);\n};\n","import { z } from 'zod';\nimport { getPwnPasswordsForTest, isIntegrationTest } from './utils/integration-test.js';\n/** Password policy configuration guard. */\nexport const passwordPolicyGuard = z.object({\n    length: z\n        .object({\n        min: z.number().int().min(1).default(8),\n        max: z.number().int().min(1).default(256),\n    })\n        .default({}),\n    characterTypes: z\n        .object({\n        min: z.number().int().min(1).max(4).optional().default(1),\n    })\n        .default({}),\n    rejects: z\n        .object({\n        pwned: z.boolean().default(true),\n        repetitionAndSequence: z.boolean().default(true),\n        userInfo: z.boolean().default(true),\n        words: z.string().array().default([]),\n    })\n        .default({}),\n});\n/**\n * The class for checking if a password meets the policy. The policy is defined as\n * {@link PasswordPolicy}.\n *\n * @example\n * ```ts\n * const checker = new PasswordPolicyChecker({\n *   length: { min: 8, max: 256 },\n *   characterTypes: { min: 2 },\n *   rejects: { pwned: true, repetitionAndSequence: true, words: [] },\n * });\n *\n * const issues = await checker.check('123456');\n * console.log(issues);\n * // [\n * //   { code: 'password_rejected.too_short' },\n * //   { code: 'password_rejected.character_types', interpolation: { min: 2 } },\n * //   { code: 'password_rejected.pwned' },\n * //   { code: 'password_rejected.restricted.sequence' },\n * // ]\n * ```\n */\nexport class PasswordPolicyChecker {\n    static { this.symbols = Object.freeze('!\"#$%&\\'()*+,-./:;<=>?@[\\\\]^_`{|}~ '); }\n    /** A set of characters that are considered as sequential. */\n    static { this.sequence = Object.freeze([\n        '0123456789',\n        'abcdefghijklmnopqrstuvwxyz',\n        'qwertyuiop',\n        'asdfghjkl',\n        'zxcvbnm',\n        '1qaz',\n        '2wsx',\n        '3edc',\n        '4rfv',\n        '5tgb',\n        '6yhn',\n        '7ujm',\n        '8ik',\n        '9ol',\n    ]); }\n    /** The length threshold for checking repetition and sequence. */\n    static { this.repetitionAndSequenceThreshold = 3; }\n    /**\n     * If the password contains more than such number of characters that are not\n     * in the restricted phrases, it will be accepted.\n     */\n    static { this.restrictedPhrasesTolerance = 3; }\n    /** Get the length threshold for checking restricted phrases. */\n    static getRestrictedPhraseThreshold(password) {\n        const { restrictedPhrasesTolerance } = PasswordPolicyChecker;\n        return Math.max(1, password.length - restrictedPhrasesTolerance);\n    }\n    constructor(policy, \n    /** The Web Crypto API to use. By default, the global `crypto.subtle` will be used. */\n    subtle = crypto.subtle) {\n        this.subtle = subtle;\n        this.policy = passwordPolicyGuard.parse(policy);\n    }\n    /**\n     * Check if a password meets all the policy requirements.\n     *\n     * @param password - Password to check.\n     * @param userInfo - User information to check. Required if the policy\n     * requires to reject passwords that include user information.\n     * @returns An array of issues. If the password meets the policy, an empty array will be returned.\n     * @throws TypeError - If the policy requires to reject passwords that include user information\n     * but the user information is not provided.\n     */\n    /* eslint-disable @silverhand/fp/no-let, @silverhand/fp/no-mutation, @silverhand/fp/no-mutating-methods */\n    async check(password, userInfo) {\n        const issues = this.fastCheck(password);\n        if (this.policy.rejects.pwned && (await this.hasBeenPwned(password))) {\n            issues.push({\n                code: 'password_rejected.pwned',\n            });\n        }\n        // `hashArray[i]` indicates whether the `i`th character violates the restriction.\n        // We'll gradually set the value to `1` if needed.\n        // The algorithm time complexity should be O(n^2), but it's fast enough for a password.\n        const hashArray = Array.from({ length: password.length }).fill(0);\n        const issueCodes = new Set();\n        const { repetitionAndSequence, words, userInfo: rejectUserInfo } = this.policy.rejects;\n        const rejectWords = words.length > 0;\n        const fillHashArray = (startIndex, length, code) => {\n            if (length <= 0) {\n                return;\n            }\n            for (let i = startIndex; i < startIndex + length; i += 1) {\n                hashArray[i] = 1;\n            }\n            issueCodes.add(code);\n        };\n        for (let i = 0; i < password.length; i += 1) {\n            const sliced = password.slice(i);\n            if (repetitionAndSequence) {\n                fillHashArray(i, this.repetitionLength(sliced), 'restricted.repetition');\n                fillHashArray(i, this.sequenceLength(sliced), 'restricted.sequence');\n            }\n            if (rejectWords) {\n                fillHashArray(i, this.wordLength(sliced), 'restricted.words');\n            }\n            if (rejectUserInfo) {\n                if (!userInfo) {\n                    throw new TypeError('User information data is required to check user information.');\n                }\n                fillHashArray(i, this.userInfoLength(sliced, userInfo), 'restricted.user_info');\n            }\n        }\n        return hashArray.reduce((total, current) => total + current, 0) >\n            PasswordPolicyChecker.getRestrictedPhraseThreshold(password)\n            ? [\n                ...issues,\n                ...[...issueCodes].map((code) => ({ code: `password_rejected.${code}` })),\n            ]\n            : issues;\n    }\n    /* eslint-enable @silverhand/fp/no-let, @silverhand/fp/no-mutation, @silverhand/fp/no-mutating-methods */\n    /**\n     * Perform a fast check to see if the password passes the basic requirements.\n     * Only the length and character types will be checked.\n     *\n     * This method is used for frontend validation.\n     *\n     * @param password - Password to check.\n     * @returns Whether the password passes the basic requirements.\n     */\n    /* eslint-disable @silverhand/fp/no-mutating-methods */\n    fastCheck(password) {\n        const issues = [];\n        if (password.length < this.policy.length.min) {\n            issues.push({\n                code: 'password_rejected.too_short',\n                interpolation: { min: this.policy.length.min },\n            });\n        }\n        else if (password.length > this.policy.length.max) {\n            issues.push({\n                code: 'password_rejected.too_long',\n                interpolation: { max: this.policy.length.max },\n            });\n        }\n        const characterTypes = this.checkCharTypes(password);\n        if (characterTypes === 'unsupported') {\n            issues.push({\n                code: 'password_rejected.unsupported_characters',\n            });\n        }\n        else if (!characterTypes) {\n            issues.push({\n                code: 'password_rejected.character_types',\n                interpolation: { min: this.policy.characterTypes.min },\n            });\n        }\n        return issues;\n    }\n    /* eslint-enable @silverhand/fp/no-mutating-methods */\n    /**\n     * Check if the given password contains enough character types.\n     *\n     * @param password - Password to check.\n     * @returns Whether the password contains enough character types; or `'unsupported'`\n     * if the password contains unsupported characters.\n     */\n    checkCharTypes(password) {\n        const characterTypes = new Set();\n        for (const char of password) {\n            if (char >= 'a' && char <= 'z') {\n                characterTypes.add('lowercase');\n            }\n            else if (char >= 'A' && char <= 'Z') {\n                characterTypes.add('uppercase');\n            }\n            else if (char >= '0' && char <= '9') {\n                characterTypes.add('digits');\n            }\n            else if (PasswordPolicyChecker.symbols.includes(char)) {\n                characterTypes.add('symbols');\n            }\n            else {\n                return 'unsupported';\n            }\n        }\n        return characterTypes.size >= this.policy.characterTypes.min;\n    }\n    /**\n     * Check if the given password has been pwned.\n     *\n     * @param password - Password to check.\n     * @returns Whether the password has been pwned.\n     */\n    async hasBeenPwned(password) {\n        if (isIntegrationTest()) {\n            return getPwnPasswordsForTest().includes(password);\n        }\n        const hash = await this.subtle.digest('SHA-1', new TextEncoder().encode(password));\n        const hashHex = Array.from(new Uint8Array(hash))\n            .map((binary) => binary.toString(16).padStart(2, '0'))\n            .join('');\n        const hashPrefix = hashHex.slice(0, 5);\n        const hashSuffix = hashHex.slice(5);\n        const response = await fetch(`https://api.pwnedpasswords.com/range/${hashPrefix}`);\n        const text = await response.text();\n        const hashes = text.split('\\n');\n        const found = hashes.some((hex) => hex.toLowerCase().startsWith(hashSuffix));\n        return found;\n    }\n    /**\n     * Get the length of the repetition at the beginning of the given string.\n     * For example, `repetitionLength('aaaaa')` will return `5`.\n     *\n     * If the length is less than {@link PasswordPolicyChecker.repetitionAndSequenceThreshold},\n     * `0` will be returned.\n     */\n    /* eslint-disable @silverhand/fp/no-let, @silverhand/fp/no-mutation */\n    repetitionLength(password) {\n        const { repetitionAndSequenceThreshold } = PasswordPolicyChecker;\n        const firstChar = password[0];\n        let length = 0;\n        if (firstChar === undefined) {\n            return 0;\n        }\n        for (const char of password) {\n            if (char === firstChar) {\n                length += 1;\n            }\n            else {\n                break;\n            }\n        }\n        return length >= repetitionAndSequenceThreshold ? length : 0;\n    }\n    /* eslint-enable @silverhand/fp/no-let, @silverhand/fp/no-mutation */\n    /**\n     * Get the length of the user information at the beginning of the given string.\n     * For example, `userInfoLength('silverhand', { username: 'silverhand' })` will return `10`.\n     *\n     * For multiple matches, the longest length will be returned.\n     */\n    // eslint-disable-next-line complexity\n    userInfoLength(password, userInfo) {\n        const lowercased = password.toLowerCase();\n        const { name, username, email, phoneNumber } = userInfo;\n        // eslint-disable-next-line @silverhand/fp/no-let\n        let length = 0;\n        const updateLength = (newLength) => {\n            if (newLength > length) {\n                // eslint-disable-next-line @silverhand/fp/no-mutation\n                length = newLength;\n            }\n        };\n        if (name) {\n            const joined = name.replaceAll(/\\s+/g, '');\n            // The original name should be the longest string, so we check it first.\n            if (lowercased.startsWith(name.toLowerCase())) {\n                updateLength(name.length);\n            }\n            else {\n                if (lowercased.startsWith(joined.toLowerCase())) {\n                    updateLength(joined.length);\n                }\n                for (const word of name.split(' ')) {\n                    if (lowercased.startsWith(word.toLowerCase())) {\n                        updateLength(word.length);\n                    }\n                }\n            }\n        }\n        if (username && lowercased.startsWith(username.toLowerCase())) {\n            updateLength(username.length);\n        }\n        if (email) {\n            const emailPrefix = email.split('@')[0];\n            if (emailPrefix && lowercased.startsWith(emailPrefix.toLowerCase())) {\n                updateLength(emailPrefix.length);\n            }\n        }\n        if (phoneNumber && lowercased.startsWith(phoneNumber)) {\n            updateLength(phoneNumber.length);\n        }\n        return length;\n    }\n    /**\n     * Get the length of the word that matches the word list at the beginning of the given string.\n     *\n     * For multiple matches, the longest length will be returned.\n     */\n    /* eslint-disable @silverhand/fp/no-let, @silverhand/fp/no-mutation */\n    wordLength(password) {\n        const sliced = password.toLowerCase();\n        let length = 0;\n        for (const word of this.policy.rejects.words) {\n            if (sliced.startsWith(word.toLowerCase()) && word.length > length) {\n                length = word.length;\n            }\n        }\n        return length;\n    }\n    /* eslint-enable @silverhand/fp/no-let, @silverhand/fp/no-mutation */\n    /**\n     * Get the length of the sequence at the beginning of the given string.\n     * For example, `sequenceLength('12345')` will return `5`.\n     *\n     * If the length is less than {@link PasswordPolicyChecker.repetitionAndSequenceThreshold},\n     * `0` will be returned.\n     */\n    /* eslint-disable @silverhand/fp/no-let, @silverhand/fp/no-mutation */\n    sequenceLength(password) {\n        const { repetitionAndSequenceThreshold } = PasswordPolicyChecker;\n        let value = '';\n        let length = 0;\n        for (const char of password) {\n            if (!value || this.isSequential(value + char)) {\n                value += char;\n                length += 1;\n            }\n            else {\n                break;\n            }\n        }\n        return length >= repetitionAndSequenceThreshold ? length : 0;\n    }\n    /* eslint-enable @silverhand/fp/no-let, @silverhand/fp/no-mutation */\n    /**\n     * Check if the given string is sequential by iterating through the {@link PasswordPolicyChecker.sequence}.\n     */\n    isSequential(value) {\n        const { sequence } = PasswordPolicyChecker;\n        for (const seq of sequence) {\n            // eslint-disable-next-line @silverhand/fp/no-mutating-methods -- created a new array before mutating\n            const reversedSeq = [...seq].reverse().join('');\n            if ([seq, reversedSeq, seq.toUpperCase(), reversedSeq.toUpperCase()].some((item) => item.includes(value))) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n","import { passwordPolicyGuard } from '@logto/core-kit';\nimport { z } from 'zod';\nexport var LogResult;\n(function (LogResult) {\n    LogResult[\"Success\"] = \"Success\";\n    LogResult[\"Error\"] = \"Error\";\n})(LogResult || (LogResult = {}));\nexport const logContextPayloadGuard = z\n    .object({\n    key: z.string(),\n    result: z.nativeEnum(LogResult),\n    error: z.record(z.string(), z.unknown()).or(z.string()).optional(),\n    ip: z.string().optional(),\n    userAgent: z.string().optional(),\n    userId: z.string().optional(),\n    applicationId: z.string().optional(),\n    sessionId: z.string().optional(),\n    params: z.record(z.string(), z.unknown()).optional(),\n})\n    .catchall(z.unknown());\nexport const partialPasswordPolicyGuard = passwordPolicyGuard.deepPartial();\n","import { validateRedirectUrl } from '@logto/core-kit';\nimport { z } from 'zod';\nexport const oidcModelInstancePayloadGuard = z\n    .object({\n    userCode: z.string().optional(),\n    uid: z.string().optional(),\n    grantId: z.string().optional(),\n})\n    /**\n     * Try to use `.passthrough()` if type has been fixed.\n     * https://github.com/colinhacks/zod/issues/452\n     */\n    .catchall(z.unknown());\nexport const oidcClientMetadataGuard = z.object({\n    redirectUris: z\n        .string()\n        .refine((url) => validateRedirectUrl(url, 'web'))\n        .or(z.string().refine((url) => validateRedirectUrl(url, 'mobile')))\n        .array(),\n    postLogoutRedirectUris: z.string().url().array(),\n    backchannelLogoutUri: z.string().url().optional(),\n    backchannelLogoutSessionRequired: z.boolean().optional(),\n    logoUri: z.string().optional(),\n});\nexport var CustomClientMetadataKey;\n(function (CustomClientMetadataKey) {\n    CustomClientMetadataKey[\"CorsAllowedOrigins\"] = \"corsAllowedOrigins\";\n    CustomClientMetadataKey[\"IdTokenTtl\"] = \"idTokenTtl\";\n    /** @deprecated Use {@link RefreshTokenTtlInDays} instead. */\n    CustomClientMetadataKey[\"RefreshTokenTtl\"] = \"refreshTokenTtl\";\n    CustomClientMetadataKey[\"RefreshTokenTtlInDays\"] = \"refreshTokenTtlInDays\";\n    CustomClientMetadataKey[\"TenantId\"] = \"tenantId\";\n    /**\n     * Enabling this configuration will allow Logto to always issue Refresh Tokens, regardless of whether `prompt=consent` is presented in the authentication request.\n     *\n     * It only works for web applications when the client allowed grant types includes `refresh_token`.\n     *\n     * This config is for the third-party integrations that do not strictly follow OpenID Connect standards due to some reasons (e.g. they only know OAuth, but requires a Refresh Token to be returned anyway).\n     */\n    CustomClientMetadataKey[\"AlwaysIssueRefreshToken\"] = \"alwaysIssueRefreshToken\";\n    /**\n     * When enabled (default), Logto will issue a new Refresh Token for token requests when 70% of the original Time to Live (TTL) has passed.\n     *\n     * It can be turned off for only traditional web apps for enhanced security.\n     */\n    CustomClientMetadataKey[\"RotateRefreshToken\"] = \"rotateRefreshToken\";\n})(CustomClientMetadataKey || (CustomClientMetadataKey = {}));\nexport const customClientMetadataGuard = z.object({\n    [CustomClientMetadataKey.CorsAllowedOrigins]: z.string().min(1).array().optional(),\n    [CustomClientMetadataKey.IdTokenTtl]: z.number().optional(),\n    [CustomClientMetadataKey.RefreshTokenTtl]: z.number().optional(),\n    [CustomClientMetadataKey.RefreshTokenTtlInDays]: z.number().int().min(1).max(90).optional(),\n    [CustomClientMetadataKey.TenantId]: z.string().optional(),\n    [CustomClientMetadataKey.AlwaysIssueRefreshToken]: z.boolean().optional(),\n    [CustomClientMetadataKey.RotateRefreshToken]: z.boolean().optional(),\n});\n","import { z } from 'zod';\nexport const translationGuard = z.lazy(() => z.record(z.string().or(translationGuard)));\n","export const languages = Object.freeze({\n    'af-ZA': 'Afrikaans',\n    'am-ET': '',\n    ar: '',\n    /** @deprecated Use 'ar' instead. */\n    'ar-AR': ' ()',\n    'as-IN': '',\n    'az-AZ': 'Azrbaycan dili',\n    'be-BY': '',\n    'bg-BG': '',\n    'bn-IN': '',\n    'br-FR': 'Brezhoneg',\n    'bs-BA': 'Bosanski',\n    'ca-ES': 'Catal',\n    'cb-IQ': ' ',\n    'co-FR': 'Corsu',\n    'cs-CZ': 'etina',\n    'cx-PH': 'Bisaya',\n    'cy-GB': 'Cymraeg',\n    'da-DK': 'Dansk',\n    de: 'Deutsch',\n    'de-DE': 'Deutsch (Deutschland)',\n    'el-GR': '',\n    en: 'English',\n    'en-GB': 'English (UK)',\n    'en-US': 'English (US)',\n    'eo-EO': 'Esperanto',\n    es: 'Espaol',\n    'es-ES': 'Espaol (Espaa)',\n    'es-419': 'Espaol (Latinoamrica)',\n    'et-EE': 'Eesti',\n    'eu-ES': 'Euskara',\n    'fa-IR': '',\n    'ff-NG': 'Fula',\n    fi: 'Suomi',\n    'fi-FI': 'Suomi',\n    'fo-FO': 'Froyskt',\n    fr: 'Franais',\n    'fr-CA': 'Franais (Canada)',\n    'fr-FR': 'Franais (France)',\n    'fy-NL': 'Frysk',\n    'ga-IE': 'Gaeilge',\n    'gl-ES': 'Galego',\n    'gn-PY': 'Guarani',\n    'gu-IN': '',\n    'ha-NG': 'Hausa',\n    'he-IL': '',\n    'hi-IN': '',\n    'hr-HR': 'Hrvatski',\n    'ht-HT': 'Kreyl Ayisyen',\n    'hu-HU': 'Magyar',\n    'hy-AM': '',\n    'id-ID': 'Bahasa Indonesia',\n    'ik-US': 'Iupiatun',\n    'is-IS': 'slenska',\n    it: 'Italiano',\n    'it-IT': 'Italiano (Italia)',\n    'iu-CA': 'Inuktitut',\n    ja: '',\n    'ja-JP': '',\n    'ja-KS': '()',\n    'jv-ID': 'Basa Jawa',\n    'ka-GE': '',\n    'kk-KZ': '',\n    'km-KH': '',\n    'kn-IN': '',\n    ko: '',\n    'ko-KR': '',\n    'ku-TR': 'Kurd (Kurmanc)',\n    'ky-KG': '',\n    'lo-LA': '',\n    'lt-LT': 'Lietuvi',\n    'lv-LV': 'Latvieu',\n    'mg-MG': 'Malagasy',\n    'mk-MK': '',\n    'ml-IN': '',\n    'mn-MN': '',\n    'mr-IN': '',\n    'ms-MY': 'Bahasa Melayu',\n    'mt-MT': 'Malti',\n    'my-MM': '',\n    'nb-NO': 'Norsk (bokml)',\n    'ne-NP': '',\n    nl: 'Nederlands',\n    'nl-BE': 'Vlaams',\n    'nl-NL': 'Nederlands',\n    'nn-NO': 'Norsk (nynorsk)',\n    'or-IN': '',\n    'pa-IN': '',\n    'pl-PL': 'Polski',\n    'ps-AF': '',\n    pt: 'portugus',\n    'pt-BR': 'Portugus (Brasil)',\n    'pt-PT': 'Portugus (Portugal)',\n    'ro-RO': 'Romn',\n    ru: '',\n    'ru-RU': '',\n    'rw-RW': 'Ikinyarwanda',\n    'sc-IT': 'Sardu',\n    'si-LK': '',\n    'sk-SK': 'Slovenina',\n    'sl-SI': 'Slovenina',\n    'sn-ZW': 'Shona',\n    'sq-AL': 'Shqip',\n    'sr-RS': '',\n    sv: 'Svenska',\n    'sv-SE': 'Svenska',\n    'sw-KE': 'Kiswahili',\n    'sy-SY': '',\n    'sz-PL': 'lnsk gdka',\n    'ta-IN': '',\n    'te-IN': '',\n    'tg-TJ': '',\n    th: '',\n    'th-TH': '',\n    'tl-PH': 'Filipino',\n    tr: 'Trke',\n    'tr-TR': 'Trke',\n    'tt-RU': '',\n    'tz-MA': '',\n    'uk-UA': '',\n    'ur-PK': '',\n    'uz-UZ': \"O'zbek\",\n    'vi-VN': 'Ting Vit',\n    zh: '',\n    'zh-CN': '',\n    'zh-HK': '',\n    'zh-MO': '',\n    'zh-TW': '',\n    'zz-TR': 'Zaza',\n});\n","import { z, any } from 'zod';\nimport { languages } from './const.js';\nexport const isLanguageTag = (value) => typeof value === 'string' &&\n    Object.keys(languages)\n        .map((key) => key.toLowerCase())\n        .includes(value.toLowerCase());\nexport const languageTagGuard = z\n    .any()\n    .refine((value) => isLanguageTag(value));\n/**\n * https://github.com/colinhacks/zod/issues/316#issuecomment-850906479\n * Create a schema matches anything and returns a value. Use it with `or`:\n *\n * const schema = zod.number();\n * const tolerant = schema.or(fallback(-1));\n *\n * schema.parse('foo')      // => ZodError\n * tolerant.parse('foo')    // -1\n */\nexport function fallback(value) {\n    return any().transform(() => value);\n}\n","export var Theme;\n(function (Theme) {\n    Theme[\"Light\"] = \"light\";\n    Theme[\"Dark\"] = \"dark\";\n})(Theme || (Theme = {}));\n","import { hexColorRegEx } from '@logto/core-kit';\nimport { languageTagGuard } from '@logto/language-kit';\nimport { z } from 'zod';\nimport { Theme } from '../../types/theme.js';\nexport const colorGuard = z.object({\n    primaryColor: z.string().regex(hexColorRegEx),\n    isDarkModeEnabled: z.boolean(),\n    darkPrimaryColor: z.string().regex(hexColorRegEx),\n});\nexport const partialColorGuard = colorGuard.partial();\n/** Maps a theme to the key of the logo URL in the {@link Branding} object. */\nexport const themeToLogoKey = Object.freeze({\n    [Theme.Light]: 'logoUrl',\n    [Theme.Dark]: 'darkLogoUrl',\n});\nexport const brandingGuard = z\n    .object({\n    logoUrl: z.string().url(),\n    darkLogoUrl: z.string().url(),\n    favicon: z.string().url(),\n    darkFavicon: z.string().url(),\n})\n    .partial();\nexport const languageInfoGuard = z.object({\n    autoDetect: z.boolean(),\n    fallbackLanguage: languageTagGuard,\n});\nexport var SignInIdentifier;\n(function (SignInIdentifier) {\n    SignInIdentifier[\"Username\"] = \"username\";\n    SignInIdentifier[\"Email\"] = \"email\";\n    SignInIdentifier[\"Phone\"] = \"phone\";\n})(SignInIdentifier || (SignInIdentifier = {}));\nexport const signInIdentifierGuard = z.nativeEnum(SignInIdentifier);\nexport var AdditionalIdentifier;\n(function (AdditionalIdentifier) {\n    AdditionalIdentifier[\"UserId\"] = \"userId\";\n})(AdditionalIdentifier || (AdditionalIdentifier = {}));\nexport var AlternativeSignUpIdentifier;\n(function (AlternativeSignUpIdentifier) {\n    AlternativeSignUpIdentifier[\"EmailOrPhone\"] = \"emailOrPhone\";\n})(AlternativeSignUpIdentifier || (AlternativeSignUpIdentifier = {}));\nexport const signUpGuard = z.object({\n    identifiers: z.nativeEnum(SignInIdentifier).array(),\n    password: z.boolean(),\n    verify: z.boolean(),\n    secondaryIdentifiers: z\n        .object({\n        identifier: z.union([signInIdentifierGuard, z.nativeEnum(AlternativeSignUpIdentifier)]),\n        verify: z.boolean().optional(),\n    })\n        .array()\n        .optional(),\n});\nexport const signInGuard = z.object({\n    methods: z\n        .object({\n        identifier: z.nativeEnum(SignInIdentifier),\n        password: z.boolean(),\n        verificationCode: z.boolean(),\n        isPasswordPrimary: z.boolean(),\n    })\n        .array(),\n});\nexport const socialSignInGuard = z.object({\n    automaticAccountLinking: z.boolean().optional(),\n});\nexport const connectorTargetsGuard = z.string().array();\nexport const customContentGuard = z.record(z.string());\nexport var MfaFactor;\n(function (MfaFactor) {\n    MfaFactor[\"TOTP\"] = \"Totp\";\n    MfaFactor[\"WebAuthn\"] = \"WebAuthn\";\n    MfaFactor[\"BackupCode\"] = \"BackupCode\";\n})(MfaFactor || (MfaFactor = {}));\nexport const mfaFactorsGuard = z.nativeEnum(MfaFactor).array();\nexport var MfaPolicy;\n(function (MfaPolicy) {\n    /** @deprecated, use `PromptAtSignInAndSignUp` instead */\n    MfaPolicy[\"UserControlled\"] = \"UserControlled\";\n    /** MFA is required for all users */\n    MfaPolicy[\"Mandatory\"] = \"Mandatory\";\n    /** Ask users to set up MFA on their sign-in after registration (skippable, one-time prompt) */\n    MfaPolicy[\"PromptOnlyAtSignIn\"] = \"PromptOnlyAtSignIn\";\n    /** Ask users to set up MFA during registration (skippable, one-time prompt) */\n    MfaPolicy[\"PromptAtSignInAndSignUp\"] = \"PromptAtSignInAndSignUp\";\n    /** Do not ask users to set up MFA */\n    MfaPolicy[\"NoPrompt\"] = \"NoPrompt\";\n})(MfaPolicy || (MfaPolicy = {}));\nexport var OrganizationRequiredMfaPolicy;\n(function (OrganizationRequiredMfaPolicy) {\n    /** Do not ask users to set up MFA */\n    OrganizationRequiredMfaPolicy[\"NoPrompt\"] = \"NoPrompt\";\n    /** MFA is required for all users */\n    OrganizationRequiredMfaPolicy[\"Mandatory\"] = \"Mandatory\";\n})(OrganizationRequiredMfaPolicy || (OrganizationRequiredMfaPolicy = {}));\nexport const mfaGuard = z.object({\n    factors: mfaFactorsGuard,\n    policy: z.nativeEnum(MfaPolicy),\n    organizationRequiredMfaPolicy: z.nativeEnum(OrganizationRequiredMfaPolicy).optional(),\n});\nexport const customUiAssetsGuard = z.object({\n    id: z.string(),\n    createdAt: z.number(),\n});\nexport const captchaPolicyGuard = z.object({\n    enabled: z.boolean().optional(),\n});\nexport const sentinelPolicyGuard = z.object({\n    maxAttempts: z.number().optional(),\n    lockoutDuration: z.number().optional(),\n});\nexport const emailBlocklistPolicyGuard = z.object({\n    blockDisposableAddresses: z.boolean().optional(),\n    blockSubaddressing: z.boolean().optional(),\n    customBlocklist: z.string().array().optional(),\n});\n","import { z } from 'zod';\n/** The action target type of a sentinel activity. */\nexport var SentinelActivityTargetType;\n(function (SentinelActivityTargetType) {\n    SentinelActivityTargetType[\"User\"] = \"User\";\n    SentinelActivityTargetType[\"App\"] = \"App\";\n})(SentinelActivityTargetType || (SentinelActivityTargetType = {}));\nexport const sentinelActivityTargetTypeGuard = z.nativeEnum(SentinelActivityTargetType);\n/** The action type of a sentinel activity. */\nexport var SentinelActivityAction;\n(function (SentinelActivityAction) {\n    /**\n     * The subject tries to pass a verification by inputting a password.\n     *\n     * For example, a user (subject) who inputted a password (action) to authenticate themselves\n     * (target).\n     */\n    SentinelActivityAction[\"Password\"] = \"Password\";\n    /**\n     * The subject tries to pass a verification by inputting a verification code.\n     *\n     * For example, a user (subject) who inputted a verification code (action) to authenticate\n     * themselves (target).\n     */\n    SentinelActivityAction[\"VerificationCode\"] = \"VerificationCode\";\n    /**\n     * The subject tries to pass a verification by inputting a one-time token.\n     *\n     * For example, a user (subject) who inputted a one-time token (action) to authenticate\n     * themselves (target), e.g. Magic Link.\n     */\n    SentinelActivityAction[\"OneTimeToken\"] = \"OneTimeToken\";\n})(SentinelActivityAction || (SentinelActivityAction = {}));\nexport const sentinelActivityActionGuard = z.nativeEnum(SentinelActivityAction);\nexport const sentinelActivityPayloadGuard = z.record(z.unknown());\n","import { z } from 'zod';\nexport var ConnectorConfigFormItemType;\n(function (ConnectorConfigFormItemType) {\n    ConnectorConfigFormItemType[\"Text\"] = \"Text\";\n    ConnectorConfigFormItemType[\"Number\"] = \"Number\";\n    ConnectorConfigFormItemType[\"MultilineText\"] = \"MultilineText\";\n    ConnectorConfigFormItemType[\"Switch\"] = \"Switch\";\n    ConnectorConfigFormItemType[\"Select\"] = \"Select\";\n    ConnectorConfigFormItemType[\"MultiSelect\"] = \"MultiSelect\";\n    ConnectorConfigFormItemType[\"Json\"] = \"Json\";\n})(ConnectorConfigFormItemType || (ConnectorConfigFormItemType = {}));\nconst baseConfigFormItem = {\n    key: z.string(),\n    label: z.string(),\n    placeholder: z.string().optional(),\n    required: z.boolean().optional(),\n    defaultValue: z.unknown().optional(),\n    showConditions: z\n        .array(z.object({ targetKey: z.string(), expectValue: z.unknown().optional() }))\n        .optional(),\n    description: z.string().optional(),\n    tooltip: z.string().optional(),\n    isConfidential: z.boolean().optional(), // For `Text` type only.\n};\nexport const connectorConfigFormItemGuard = z.discriminatedUnion('type', [\n    z.object({\n        type: z.literal(ConnectorConfigFormItemType.Select),\n        selectItems: z.array(z.object({ value: z.string(), title: z.string() })),\n        ...baseConfigFormItem,\n    }),\n    z.object({\n        type: z.literal(ConnectorConfigFormItemType.MultiSelect),\n        selectItems: z.array(z.object({ value: z.string() })),\n        ...baseConfigFormItem,\n    }),\n    z.object({\n        type: z.enum([\n            ConnectorConfigFormItemType.Text,\n            ConnectorConfigFormItemType.Number,\n            ConnectorConfigFormItemType.MultilineText,\n            ConnectorConfigFormItemType.Switch,\n            ConnectorConfigFormItemType.Json,\n        ]),\n        ...baseConfigFormItem,\n    }),\n]);\n","export var ConnectorErrorCodes;\n(function (ConnectorErrorCodes) {\n    ConnectorErrorCodes[\"General\"] = \"general\";\n    ConnectorErrorCodes[\"InvalidMetadata\"] = \"invalid_metadata\";\n    ConnectorErrorCodes[\"UnexpectedType\"] = \"unexpected_type\";\n    ConnectorErrorCodes[\"InvalidConfigGuard\"] = \"invalid_config_guard\";\n    ConnectorErrorCodes[\"InvalidRequestParameters\"] = \"invalid_request_parameters\";\n    ConnectorErrorCodes[\"InsufficientRequestParameters\"] = \"insufficient_request_parameters\";\n    ConnectorErrorCodes[\"InvalidConfig\"] = \"invalid_config\";\n    ConnectorErrorCodes[\"InvalidCertificate\"] = \"invalid_certificate\";\n    ConnectorErrorCodes[\"InvalidResponse\"] = \"invalid_response\";\n    /** The template is not found for the given type. */\n    ConnectorErrorCodes[\"TemplateNotFound\"] = \"template_not_found\";\n    /**\n     * The template type is not supported by the connector.\n     *\n     * @deprecated Connector should be able to handle dynamic template type.\n     */\n    ConnectorErrorCodes[\"TemplateNotSupported\"] = \"template_not_supported\";\n    ConnectorErrorCodes[\"RateLimitExceeded\"] = \"rate_limit_exceeded\";\n    ConnectorErrorCodes[\"NotImplemented\"] = \"not_implemented\";\n    ConnectorErrorCodes[\"SocialAuthCodeInvalid\"] = \"social_auth_code_invalid\";\n    ConnectorErrorCodes[\"SocialAccessTokenInvalid\"] = \"social_invalid_access_token\";\n    ConnectorErrorCodes[\"SocialIdTokenInvalid\"] = \"social_invalid_id_token\";\n    ConnectorErrorCodes[\"AuthorizationFailed\"] = \"authorization_failed\";\n})(ConnectorErrorCodes || (ConnectorErrorCodes = {}));\nexport class ConnectorError extends Error {\n    constructor(code, data) {\n        const message = `ConnectorError: ${data ? JSON.stringify(data) : code}`;\n        super(message);\n        this.code = code;\n        this.data = typeof data === 'string' ? { message: data } : data;\n    }\n}\n","import { isLanguageTag } from '@logto/language-kit';\nimport { z } from 'zod';\nimport { connectorConfigFormItemGuard } from './config-form.js';\nexport var ConnectorPlatform;\n(function (ConnectorPlatform) {\n    ConnectorPlatform[\"Native\"] = \"Native\";\n    ConnectorPlatform[\"Universal\"] = \"Universal\";\n    ConnectorPlatform[\"Web\"] = \"Web\";\n})(ConnectorPlatform || (ConnectorPlatform = {}));\nexport const i18nPhrasesGuard = z\n    .object({ en: z.string() })\n    .and(z.record(z.string()))\n    .refine((i18nObject) => {\n    const keys = Object.keys(i18nObject);\n    if (!keys.includes('en')) {\n        return false;\n    }\n    for (const value of keys) {\n        if (!isLanguageTag(value)) {\n            return false;\n        }\n    }\n    return true;\n});\nexport const socialConnectorMetadataGuard = z.object({\n    // Social connector platform. TODO: @darcyYe considering remove the nullable and make all the social connector field optional\n    platform: z.nativeEnum(ConnectorPlatform).nullable(),\n    // Indicates custom connector that follows standard protocol. Currently supported standard connectors are OIDC, OAuth2, and SAML2\n    isStandard: z.boolean().optional(),\n});\nexport const connectorMetadataGuard = z\n    .object({\n    // Unique connector factory id\n    id: z.string(),\n    /* Connector provider. Unique for each provider. Users can have only one social identity per provider\n      For Social connectors, it's manually set on connector creation\n      For SSO connectors, it's the same as the issuer\n    */\n    target: z.string(),\n    name: i18nPhrasesGuard,\n    description: i18nPhrasesGuard,\n    logo: z.string(),\n    logoDark: z.string().nullable(),\n    readme: z.string(),\n    configTemplate: z.string().optional(), // Connector config template\n    formItems: connectorConfigFormItemGuard.array().optional(),\n    customData: z.record(z.unknown()).optional(),\n    fromEmail: z.string().optional(),\n})\n    .merge(socialConnectorMetadataGuard);\n// Configurable connector metadata guard. Stored in DB metadata field\nexport const configurableConnectorMetadataGuard = connectorMetadataGuard\n    .pick({\n    target: true,\n    name: true,\n    logo: true,\n    logoDark: true,\n})\n    .partial();\n","export var ConnectorType;\n(function (ConnectorType) {\n    ConnectorType[\"Email\"] = \"Email\";\n    ConnectorType[\"Sms\"] = \"Sms\";\n    ConnectorType[\"Social\"] = \"Social\";\n})(ConnectorType || (ConnectorType = {}));\n","// MARK: SMS + Email connector\nimport { z } from 'zod';\n/** @deprecated Use {@link TemplateType} instead. */\nexport var VerificationCodeType;\n(function (VerificationCodeType) {\n    VerificationCodeType[\"SignIn\"] = \"SignIn\";\n    VerificationCodeType[\"Register\"] = \"Register\";\n    VerificationCodeType[\"ForgotPassword\"] = \"ForgotPassword\";\n    VerificationCodeType[\"Generic\"] = \"Generic\";\n    VerificationCodeType[\"UserPermissionValidation\"] = \"UserPermissionValidation\";\n    VerificationCodeType[\"BindNewIdentifier\"] = \"BindNewIdentifier\";\n    /** @deprecated Use `Generic` type template for sending test sms/email use case */\n    VerificationCodeType[\"Test\"] = \"Test\";\n})(VerificationCodeType || (VerificationCodeType = {}));\n/** @deprecated Use {@link templateTypeGuard} instead. */\nexport const verificationCodeTypeGuard = z.nativeEnum(VerificationCodeType);\nexport var TemplateType;\n(function (TemplateType) {\n    /** The template for sending verification code when user is signing in. */\n    TemplateType[\"SignIn\"] = \"SignIn\";\n    /** The template for sending verification code when user is registering. */\n    TemplateType[\"Register\"] = \"Register\";\n    /** The template for sending verification code when user is resetting password. */\n    TemplateType[\"ForgotPassword\"] = \"ForgotPassword\";\n    /** The template for sending organization invitation. */\n    TemplateType[\"OrganizationInvitation\"] = \"OrganizationInvitation\";\n    /** The template for generic usage. */\n    TemplateType[\"Generic\"] = \"Generic\";\n    /** The template for validating user permission for sensitive operations. */\n    TemplateType[\"UserPermissionValidation\"] = \"UserPermissionValidation\";\n    /** The template for binding a new identifier to an existing account. */\n    TemplateType[\"BindNewIdentifier\"] = \"BindNewIdentifier\";\n})(TemplateType || (TemplateType = {}));\nexport const templateTypeGuard = z.nativeEnum(TemplateType);\n/** The guard for {@link SendMessagePayload}. */\nexport const sendMessagePayloadGuard = z\n    .object({\n    code: z.string().optional(),\n    link: z.string().optional(),\n    locale: z.string().optional(),\n})\n    .catchall(z.unknown());\nexport const urlRegEx = /(https?:\\/\\/)?(?:www\\.)?[\\w#%+.:=@~-]{1,256}\\.[\\d()A-Za-z]{1,6}\\b[\\w#%&()+./:=?@~-]*/;\nexport const emailServiceBrandingGuard = z\n    .object({\n    senderName: z\n        .string()\n        .refine((address) => !urlRegEx.test(address), 'URL is not allowed in sender name.'),\n    companyInformation: z\n        .string()\n        .refine((address) => !urlRegEx.test(address), 'URL is not allowed in company information.'),\n    appLogo: z.string().url(),\n})\n    .partial();\nexport const sendMessageDataGuard = z.object({\n    to: z.string(),\n    type: templateTypeGuard,\n    payload: sendMessagePayloadGuard,\n});\n","import { z } from 'zod';\n// Ref: `prompt` in https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest\nexport var OidcPrompt;\n(function (OidcPrompt) {\n    OidcPrompt[\"None\"] = \"none\";\n    OidcPrompt[\"Login\"] = \"login\";\n    OidcPrompt[\"Consent\"] = \"consent\";\n    OidcPrompt[\"SelectAccount\"] = \"select_account\";\n})(OidcPrompt || (OidcPrompt = {}));\nexport const oidcPromptsGuard = z\n    .nativeEnum(OidcPrompt)\n    .array()\n    .optional();\n// Copied from https://github.com/colinhacks/zod#json-type\nconst literalSchema = z.union([z.string(), z.number(), z.boolean(), z.null()]);\nexport const jsonGuard = z.lazy(() => z.union([literalSchema, z.array(jsonGuard), z.record(jsonGuard)]));\nexport const jsonObjectGuard = z.record(jsonGuard);\nexport const socialUserInfoGuard = z.object({\n    id: z.string(),\n    email: z.string().optional(),\n    phone: z.string().optional(),\n    name: z.string().optional(),\n    avatar: z.string().optional(),\n    rawData: jsonGuard.optional(),\n});\nexport const connectorSessionGuard = z\n    .object({\n    nonce: z.string(),\n    redirectUri: z.string(),\n    connectorId: z.string(),\n    connectorFactoryId: z.string(),\n    jti: z.string(),\n    state: z.string(),\n})\n    .partial()\n    // Accept arbitrary unspecified keys so developers who can not publish @logto/connector-kit can more flexibly utilize connector session.\n    .catchall(z.unknown());\nexport const googleOneTapConfigGuard = z.object({\n    isEnabled: z.boolean().optional(),\n    autoSelect: z.boolean().optional(),\n    closeOnTapOutside: z.boolean().optional(),\n    itpSupport: z.boolean().optional(),\n});\n/**\n * An object that contains the configuration for the official Google connector.\n *\n * @remarks\n * Unlike other connectors, the Google connector supports Google One Tap which needs additional\n * configuration and special handling in our system. So we put the constants and configuration\n * in this package for reusability, rather than hardcoding them in our system.\n *\n * Other connectors should not follow this pattern unless there is a strong reason to do so.\n */\nexport const GoogleConnector = Object.freeze({\n    /** The target of Google connectors. */\n    target: 'google',\n    /** The factory ID of the official Google connector. */\n    factoryId: 'google-universal',\n    oneTapParams: Object.freeze({\n        /** The parameter Google One Tap uses to prevent CSRF attacks. */\n        csrfToken: 'g_csrf_token',\n        /** The parameter Google One Tap uses to carry the ID token. */\n        credential: 'credential',\n    }),\n    configGuard: z.object({\n        clientId: z.string(),\n        clientSecret: z.string(),\n        scope: z.string().optional(),\n        prompts: oidcPromptsGuard,\n        oneTap: googleOneTapConfigGuard.optional(),\n    }),\n});\n","import { z } from 'zod';\nexport const emailTemplateDetailsGuard = z.object({\n    subject: z.string(),\n    content: z.string(),\n    contentType: z.union([z.literal('text/html'), z.literal('text/plain')]).optional(),\n    replyTo: z.string().optional(),\n    sendFrom: z.string().optional(),\n});\n","export * from './config-form.js';\nexport * from './error.js';\nexport * from './metadata.js';\nexport * from './foundation.js';\nexport * from './passwordless.js';\nexport * from './social.js';\nexport * from './email-template.js';\nexport var DemoConnector;\n(function (DemoConnector) {\n    DemoConnector[\"Sms\"] = \"logto-sms\";\n    DemoConnector[\"Social\"] = \"logto-social-demo\";\n})(DemoConnector || (DemoConnector = {}));\nexport const demoConnectorIds = Object.freeze([\n    DemoConnector.Sms,\n    DemoConnector.Social,\n]);\nexport var ServiceConnector;\n(function (ServiceConnector) {\n    ServiceConnector[\"Email\"] = \"logto-email\";\n})(ServiceConnector || (ServiceConnector = {}));\nexport const serviceConnectorIds = Object.freeze([ServiceConnector.Email]);\n","import { ConnectorError, ConnectorErrorCodes, ConnectorType, jsonGuard, jsonObjectGuard, } from './types/index.js';\nexport * from './types/index.js';\nexport function validateConfig(config, guard) {\n    const result = guard.safeParse(config);\n    if (!result.success) {\n        throw new ConnectorError(ConnectorErrorCodes.InvalidConfig, result.error);\n    }\n}\nexport const parseJson = (jsonString, errorCode = ConnectorErrorCodes.InvalidResponse, errorPayload) => {\n    try {\n        return jsonGuard.parse(JSON.parse(jsonString));\n    }\n    catch {\n        throw new ConnectorError(errorCode, errorPayload ?? jsonString);\n    }\n};\nexport const parseJsonObject = (...[jsonString, errorCode = ConnectorErrorCodes.InvalidResponse, errorPayload]) => {\n    try {\n        return jsonObjectGuard.parse(JSON.parse(jsonString));\n    }\n    catch {\n        throw new ConnectorError(errorCode, errorPayload ?? jsonString);\n    }\n};\n/** @deprecated Use {@link mockConnectorFilePaths} instead. */\nexport const mockSmsVerificationCodeFileName = 'logto_mock_verification_code_record.txt';\n/**\n * The file paths for storing the mock sms/email connector records. You can use these file paths to\n * read the records for testing.\n */\nexport const mockConnectorFilePaths = Object.freeze({\n    [ConnectorType.Sms]: '/tmp/logto_mock_sms_record.txt',\n    [ConnectorType.Email]: '/tmp/logto_mock_email_record.txt',\n});\n/**\n * Replace all handlebars that match the keys in {@link SendMessagePayload} with the payload\n * values.\n *\n * - If the payload does not contain the root property, the handlebars will not be replaced.\n * - If the payload contains the root property but does not contain the nested property,\n *  the handlebars will be replaced with an empty string.\n *\n * @param template The template to replace the handlebars with.\n * @param payload The payload to replace the handlebars with.\n * @returns The replaced template.\n *\n * @example\n * ```ts\n * replaceSendMessageKeysWithPayload('Your verification code is {{code}}', { code: '123456' });\n * // 'Your verification code is 123456'\n *\n * replaceSendMessageKeysWithPayload('Your application name is {{application.name}}', { application: { name: 'Logto' } });\n * // 'Your application name is Logto'\n *\n * replaceSendMessageKeysWithPayload('Your application name is {{application.name}}', { application: {}});\n * // 'Your application name is '\n * ```\n *\n * @example\n * ```ts\n * replaceSendMessageKeysWithPayload('Your verification code is {{code}}', {});\n * // 'Your verification code is {{code}}'\n *\n * replaceSendMessageKeysWithPayload('Your application name is {{application.name}}', {});\n * // 'Your application name is {{application.name}}'\n * ```\n */\nexport const replaceSendMessageHandlebars = (template, payload) => {\n    const regex = /{{\\s*([\\w.]+)\\s*}}/g;\n    return template.replaceAll(regex, (handleBar, key) => {\n        const baseKey = key.split('.')[0];\n        // If the root variable does not exist in the payload, return the original key\n        if (!(baseKey && baseKey in payload)) {\n            return handleBar;\n        }\n        const value = getValue(payload, key);\n        return String(value ?? '');\n    });\n};\nexport const getValue = (object, path) => {\n    return path.split('.').reduce((current, part) => {\n        // Return undefined if the current value is not an object\n        if (!current || typeof current !== 'object') {\n            return;\n        }\n        // eslint-disable-next-line no-restricted-syntax\n        return current[part];\n    }, object);\n};\n","import { jsonObjectGuard } from '@logto/connector-kit';\nimport { z } from 'zod';\nimport { MfaFactor } from './sign-in-experience.js';\nexport const userProfileGuard = z.object({\n    familyName: z.string(),\n    givenName: z.string(),\n    middleName: z.string(),\n    nickname: z.string(),\n    preferredUsername: z.string(),\n    profile: z.string(),\n    website: z.string(),\n    gender: z.string(),\n    birthdate: z.string(),\n    zoneinfo: z.string(),\n    locale: z.string(),\n    address: z\n        .object({\n        formatted: z.string(),\n        streetAddress: z.string(),\n        locality: z.string(),\n        region: z.string(),\n        postalCode: z.string(),\n        country: z.string(),\n    })\n        .partial(),\n}).partial();\nexport const userProfileKeys = Object.freeze(userProfileGuard.keyof().options);\nexport const roleNamesGuard = z.string().array();\nexport const identityGuard = z.object({\n    userId: z.string(),\n    details: jsonObjectGuard.optional(), // Connector's userinfo details, schemaless\n});\nexport const identitiesGuard = z.record(identityGuard);\nexport const baseMfaVerification = {\n    id: z.string(),\n    createdAt: z.string(),\n    lastUsedAt: z.string().optional(),\n};\nexport const mfaVerificationTotp = z.object({\n    type: z.literal(MfaFactor.TOTP),\n    ...baseMfaVerification,\n    key: z.string(),\n});\nexport const webAuthnTransportGuard = z.enum([\n    'usb',\n    'nfc',\n    'ble',\n    'internal',\n    'cable',\n    'hybrid',\n    'smart-card',\n]);\nexport const mfaVerificationWebAuthn = z.object({\n    type: z.literal(MfaFactor.WebAuthn),\n    ...baseMfaVerification,\n    credentialId: z.string(),\n    publicKey: z.string(),\n    transports: webAuthnTransportGuard.array().optional(),\n    counter: z.number(),\n    agent: z.string(),\n});\nexport const mfaVerificationBackupCode = z.object({\n    type: z.literal(MfaFactor.BackupCode),\n    ...baseMfaVerification,\n    codes: z.object({ code: z.string(), usedAt: z.string().optional() }).array(),\n});\nexport const mfaVerificationGuard = z.discriminatedUnion('type', [\n    mfaVerificationTotp,\n    mfaVerificationWebAuthn,\n    mfaVerificationBackupCode,\n]);\nexport const mfaVerificationsGuard = mfaVerificationGuard.array();\n","import { z } from 'zod';\nexport const ssoDomainsGuard = z.array(z.string());\nexport const ssoBrandingGuard = z.object({\n    displayName: z.string().optional(),\n    logo: z.string().optional(),\n    darkLogo: z.string().optional(),\n});\nexport const idpInitiatedAuthParamsGuard = z\n    .object({\n    scope: z.string().optional(),\n})\n    .catchall(z.string());\nexport const ssoSamlAssertionContentGuard = z\n    .object({\n    nameID: z.string().optional(),\n    attributes: z.record(z.string().or(z.array(z.string()))).optional(),\n    conditions: z\n        .object({\n        notBefore: z.string().optional(),\n        notOnOrAfter: z.string().optional(),\n    })\n        .optional(),\n})\n    .catchall(z.unknown());\n","import { z } from 'zod';\nimport { cloudflareDataGuard, domainDnsRecordsGuard, domainStatusGuard } from './custom-domain.js';\nexport const customDomainGuard = z.object({\n    /* The domain name, e.g app.example.com */\n    domain: z.string(),\n    /* The status of the domain in Cloudflare */\n    status: domainStatusGuard,\n    /* The error message if any */\n    errorMessage: z.string().nullable(),\n    /* The DNS records of the domain */\n    dnsRecords: domainDnsRecordsGuard,\n    /* The remote Cloudflare data */\n    cloudflareData: cloudflareDataGuard.nullable(),\n});\nexport const customDomainsGuard = z.array(customDomainGuard);\nexport const protectedAppMetadataGuard = z.object({\n    /* The host of the site */\n    host: z.string(),\n    /* The origin of the site */\n    origin: z.string(),\n    /* Session duration in seconds */\n    sessionDuration: z.number(),\n    pageRules: z.array(z.object({\n        /* The path pattern (regex) to match */\n        path: z.string(),\n    })),\n    /* Custom domain */\n    customDomains: customDomainsGuard.optional(),\n});\n","import { z } from 'zod';\nexport var VerificationType;\n(function (VerificationType) {\n    VerificationType[\"Password\"] = \"Password\";\n    VerificationType[\"EmailVerificationCode\"] = \"EmailVerificationCode\";\n    VerificationType[\"PhoneVerificationCode\"] = \"PhoneVerificationCode\";\n    VerificationType[\"Social\"] = \"Social\";\n    VerificationType[\"EnterpriseSso\"] = \"EnterpriseSso\";\n    VerificationType[\"TOTP\"] = \"Totp\";\n    VerificationType[\"WebAuthn\"] = \"WebAuthn\";\n    VerificationType[\"BackupCode\"] = \"BackupCode\";\n    VerificationType[\"NewPasswordIdentity\"] = \"NewPasswordIdentity\";\n    VerificationType[\"OneTimeToken\"] = \"OneTimeToken\";\n})(VerificationType || (VerificationType = {}));\nexport const verificationTypeGuard = z.nativeEnum(VerificationType);\n","import { z } from 'zod';\nexport var AccountCenterControlValue;\n(function (AccountCenterControlValue) {\n    AccountCenterControlValue[\"Off\"] = \"Off\";\n    AccountCenterControlValue[\"ReadOnly\"] = \"ReadOnly\";\n    AccountCenterControlValue[\"Edit\"] = \"Edit\";\n})(AccountCenterControlValue || (AccountCenterControlValue = {}));\n/**\n * Control list of each field in the account center (profile API)\n * all fields are optional, if not set, the default value is `Off`\n * this can make the alteration of the field control easier\n */\nexport const accountCenterFieldControlGuard = z\n    .object({\n    name: z.nativeEnum(AccountCenterControlValue),\n    avatar: z.nativeEnum(AccountCenterControlValue),\n    profile: z.nativeEnum(AccountCenterControlValue),\n    email: z.nativeEnum(AccountCenterControlValue),\n    phone: z.nativeEnum(AccountCenterControlValue),\n    password: z.nativeEnum(AccountCenterControlValue),\n    username: z.nativeEnum(AccountCenterControlValue),\n    social: z.nativeEnum(AccountCenterControlValue),\n    customData: z.nativeEnum(AccountCenterControlValue),\n})\n    .partial();\n","import { userClaimsList } from '@logto/core-kit';\nimport { z } from 'zod';\nexport const samlAttributeMappingKeys = Object.freeze(['sub', ...userClaimsList]);\nexport const samlAttributeMappingGuard = z\n    .object(Object.fromEntries(samlAttributeMappingKeys.map((claim) => [claim, z.string()])))\n    .partial();\nexport var BindingType;\n(function (BindingType) {\n    BindingType[\"Post\"] = \"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\";\n    BindingType[\"Redirect\"] = \"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\";\n})(BindingType || (BindingType = {}));\nexport const samlAcsUrlGuard = z.object({\n    binding: z.nativeEnum(BindingType),\n    url: z.string().url(),\n});\nexport const samlEncryptionGuard = z\n    .object({\n    encryptAssertion: z.boolean().optional(),\n    encryptThenSign: z.boolean().optional(),\n    certificate: z.string().optional(),\n})\n    .superRefine(({ encryptAssertion, encryptThenSign, certificate }, ctx) => {\n    if (encryptAssertion && (encryptThenSign === undefined || certificate === undefined)) {\n        ctx.addIssue({\n            code: z.ZodIssueCode.custom,\n            message: '`encryptThenSign` and `certificate` are required when `encryptAssertion` is `true`',\n        });\n        return z.NEVER;\n    }\n});\nexport var NameIdFormat;\n(function (NameIdFormat) {\n    /** Uses unique and persistent identifiers for the user. */\n    NameIdFormat[\"Persistent\"] = \"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\";\n    /** Returns the email address of the user. */\n    NameIdFormat[\"EmailAddress\"] = \"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress\";\n    /** Uses unique and transient identifiers for the user, which can be different for each session. */\n    NameIdFormat[\"Transient\"] = \"urn:oasis:names:tc:SAML:2.0:nameid-format:transient\";\n    /** The Identity Provider can determine the format. */\n    NameIdFormat[\"Unspecified\"] = \"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\";\n})(NameIdFormat || (NameIdFormat = {}));\nexport const nameIdFormatGuard = z.nativeEnum(NameIdFormat);\n","import { z } from 'zod';\nexport const authRequestInfoGuard = z.object({\n    issuer: z.string(),\n    request: z.object({\n        id: z.string(),\n        destination: z.string().optional(),\n        issueInstant: z.string(),\n        assertionConsumerServiceUrl: z.string(),\n    }),\n});\n","import { z } from 'zod';\nexport const oneTimeTokenContextGuard = z\n    .object({\n    jitOrganizationIds: z.string().array(),\n})\n    .partial();\nexport var OneTimeTokenStatus;\n(function (OneTimeTokenStatus) {\n    OneTimeTokenStatus[\"Active\"] = \"active\";\n    OneTimeTokenStatus[\"Consumed\"] = \"consumed\";\n    OneTimeTokenStatus[\"Revoked\"] = \"revoked\";\n    OneTimeTokenStatus[\"Expired\"] = \"expired\";\n})(OneTimeTokenStatus || (OneTimeTokenStatus = {}));\nexport const oneTimeTokenStatusGuard = z.nativeEnum(OneTimeTokenStatus);\n","import { z } from 'zod';\nexport var CaptchaType;\n(function (CaptchaType) {\n    CaptchaType[\"RecaptchaEnterprise\"] = \"RecaptchaEnterprise\";\n    CaptchaType[\"Turnstile\"] = \"Turnstile\";\n})(CaptchaType || (CaptchaType = {}));\nexport const turnstileConfigGuard = z.object({\n    type: z.literal(CaptchaType.Turnstile),\n    siteKey: z.string(),\n    secretKey: z.string(),\n});\nexport const recaptchaEnterpriseConfigGuard = z.object({\n    type: z.literal(CaptchaType.RecaptchaEnterprise),\n    siteKey: z.string(),\n    secretKey: z.string(),\n    projectId: z.string(),\n});\nexport const captchaConfigGuard = z.discriminatedUnion('type', [\n    turnstileConfigGuard,\n    recaptchaEnterpriseConfigGuard,\n]);\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nexport var ApplicationType;\n(function (ApplicationType) {\n    ApplicationType[\"Native\"] = \"Native\";\n    ApplicationType[\"SPA\"] = \"SPA\";\n    ApplicationType[\"Traditional\"] = \"Traditional\";\n    ApplicationType[\"MachineToMachine\"] = \"MachineToMachine\";\n    ApplicationType[\"Protected\"] = \"Protected\";\n    ApplicationType[\"SAML\"] = \"SAML\";\n})(ApplicationType || (ApplicationType = {}));\nexport var OrganizationInvitationStatus;\n(function (OrganizationInvitationStatus) {\n    OrganizationInvitationStatus[\"Pending\"] = \"Pending\";\n    OrganizationInvitationStatus[\"Accepted\"] = \"Accepted\";\n    OrganizationInvitationStatus[\"Expired\"] = \"Expired\";\n    OrganizationInvitationStatus[\"Revoked\"] = \"Revoked\";\n})(OrganizationInvitationStatus || (OrganizationInvitationStatus = {}));\nexport var RoleType;\n(function (RoleType) {\n    RoleType[\"User\"] = \"User\";\n    RoleType[\"MachineToMachine\"] = \"MachineToMachine\";\n})(RoleType || (RoleType = {}));\nexport var SentinelActionResult;\n(function (SentinelActionResult) {\n    SentinelActionResult[\"Success\"] = \"Success\";\n    SentinelActionResult[\"Failed\"] = \"Failed\";\n})(SentinelActionResult || (SentinelActionResult = {}));\nexport var SentinelDecision;\n(function (SentinelDecision) {\n    SentinelDecision[\"Undecided\"] = \"Undecided\";\n    SentinelDecision[\"Allowed\"] = \"Allowed\";\n    SentinelDecision[\"Blocked\"] = \"Blocked\";\n    SentinelDecision[\"Challenge\"] = \"Challenge\";\n})(SentinelDecision || (SentinelDecision = {}));\nexport var SignInMode;\n(function (SignInMode) {\n    SignInMode[\"SignIn\"] = \"SignIn\";\n    SignInMode[\"Register\"] = \"Register\";\n    SignInMode[\"SignInAndRegister\"] = \"SignInAndRegister\";\n})(SignInMode || (SignInMode = {}));\nexport var AgreeToTermsPolicy;\n(function (AgreeToTermsPolicy) {\n    AgreeToTermsPolicy[\"Automatic\"] = \"Automatic\";\n    AgreeToTermsPolicy[\"ManualRegistrationOnly\"] = \"ManualRegistrationOnly\";\n    AgreeToTermsPolicy[\"Manual\"] = \"Manual\";\n})(AgreeToTermsPolicy || (AgreeToTermsPolicy = {}));\nexport var UsersPasswordEncryptionMethod;\n(function (UsersPasswordEncryptionMethod) {\n    UsersPasswordEncryptionMethod[\"Argon2i\"] = \"Argon2i\";\n    UsersPasswordEncryptionMethod[\"Argon2id\"] = \"Argon2id\";\n    UsersPasswordEncryptionMethod[\"Argon2d\"] = \"Argon2d\";\n    UsersPasswordEncryptionMethod[\"SHA1\"] = \"SHA1\";\n    UsersPasswordEncryptionMethod[\"SHA256\"] = \"SHA256\";\n    UsersPasswordEncryptionMethod[\"MD5\"] = \"MD5\";\n    UsersPasswordEncryptionMethod[\"Bcrypt\"] = \"Bcrypt\";\n    UsersPasswordEncryptionMethod[\"Legacy\"] = \"Legacy\";\n})(UsersPasswordEncryptionMethod || (UsersPasswordEncryptionMethod = {}));\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { accountCenterFieldControlGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    enabled: z.boolean().optional(),\n    fields: accountCenterFieldControlGuard.optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    enabled: z.boolean(),\n    fields: accountCenterFieldControlGuard,\n});\nexport const AccountCenters = Object.freeze({\n    table: 'account_centers',\n    tableSingular: 'account_center',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        enabled: 'enabled',\n        fields: 'fields',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'enabled',\n        'fields',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    applicationId: z.string().min(1).max(21),\n    name: z.string().min(1).max(256),\n    value: z.string().min(1).max(64),\n    createdAt: z.number().optional(),\n    expiresAt: z.number().nullable().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    applicationId: z.string().min(1).max(21),\n    name: z.string().min(1).max(256),\n    value: z.string().min(1).max(64),\n    createdAt: z.number(),\n    expiresAt: z.number().nullable(),\n});\nexport const ApplicationSecrets = Object.freeze({\n    table: 'application_secrets',\n    tableSingular: 'application_secret',\n    fields: {\n        tenantId: 'tenant_id',\n        applicationId: 'application_id',\n        name: 'name',\n        value: 'value',\n        createdAt: 'created_at',\n        expiresAt: 'expires_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'applicationId',\n        'name',\n        'value',\n        'createdAt',\n        'expiresAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { partialColorGuard, brandingGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    applicationId: z.string().min(1).max(21),\n    color: partialColorGuard.optional(),\n    branding: brandingGuard.optional(),\n    termsOfUseUrl: z.string().max(2048).nullable().optional(),\n    privacyPolicyUrl: z.string().max(2048).nullable().optional(),\n    displayName: z.string().max(256).nullable().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    applicationId: z.string().min(1).max(21),\n    color: partialColorGuard,\n    branding: brandingGuard,\n    termsOfUseUrl: z.string().max(2048).nullable(),\n    privacyPolicyUrl: z.string().max(2048).nullable(),\n    displayName: z.string().max(256).nullable(),\n});\nexport const ApplicationSignInExperiences = Object.freeze({\n    table: 'application_sign_in_experiences',\n    tableSingular: 'application_sign_in_experience',\n    fields: {\n        tenantId: 'tenant_id',\n        applicationId: 'application_id',\n        color: 'color',\n        branding: 'branding',\n        termsOfUseUrl: 'terms_of_use_url',\n        privacyPolicyUrl: 'privacy_policy_url',\n        displayName: 'display_name',\n    },\n    fieldKeys: [\n        'tenantId',\n        'applicationId',\n        'color',\n        'branding',\n        'termsOfUseUrl',\n        'privacyPolicyUrl',\n        'displayName',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    applicationId: z.string().min(1).max(21),\n    scopeId: z.string().min(1).max(21),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    applicationId: z.string().min(1).max(21),\n    scopeId: z.string().min(1).max(21),\n});\nexport const ApplicationUserConsentOrganizationResourceScopes = Object.freeze({\n    table: 'application_user_consent_organization_resource_scopes',\n    tableSingular: 'application_user_consent_organization_resource_scope',\n    fields: {\n        tenantId: 'tenant_id',\n        applicationId: 'application_id',\n        scopeId: 'scope_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'applicationId',\n        'scopeId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    applicationId: z.string().min(1).max(21),\n    organizationScopeId: z.string().min(1).max(21),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    applicationId: z.string().min(1).max(21),\n    organizationScopeId: z.string().min(1).max(21),\n});\nexport const ApplicationUserConsentOrganizationScopes = Object.freeze({\n    table: 'application_user_consent_organization_scopes',\n    tableSingular: 'application_user_consent_organization_scope',\n    fields: {\n        tenantId: 'tenant_id',\n        applicationId: 'application_id',\n        organizationScopeId: 'organization_scope_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'applicationId',\n        'organizationScopeId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    applicationId: z.string().min(1).max(21),\n    organizationId: z.string().min(1).max(21),\n    userId: z.string().min(1).max(21),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    applicationId: z.string().min(1).max(21),\n    organizationId: z.string().min(1).max(21),\n    userId: z.string().min(1).max(21),\n});\nexport const ApplicationUserConsentOrganizations = Object.freeze({\n    table: 'application_user_consent_organizations',\n    tableSingular: 'application_user_consent_organization',\n    fields: {\n        tenantId: 'tenant_id',\n        applicationId: 'application_id',\n        organizationId: 'organization_id',\n        userId: 'user_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'applicationId',\n        'organizationId',\n        'userId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    applicationId: z.string().min(1).max(21),\n    scopeId: z.string().min(1).max(21),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    applicationId: z.string().min(1).max(21),\n    scopeId: z.string().min(1).max(21),\n});\nexport const ApplicationUserConsentResourceScopes = Object.freeze({\n    table: 'application_user_consent_resource_scopes',\n    tableSingular: 'application_user_consent_resource_scope',\n    fields: {\n        tenantId: 'tenant_id',\n        applicationId: 'application_id',\n        scopeId: 'scope_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'applicationId',\n        'scopeId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    applicationId: z.string().min(1).max(21),\n    userScope: z.string().min(1).max(64),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    applicationId: z.string().min(1).max(21),\n    userScope: z.string().min(1).max(64),\n});\nexport const ApplicationUserConsentUserScopes = Object.freeze({\n    table: 'application_user_consent_user_scopes',\n    tableSingular: 'application_user_consent_user_scope',\n    fields: {\n        tenantId: 'tenant_id',\n        applicationId: 'application_id',\n        userScope: 'user_scope',\n    },\n    fieldKeys: [\n        'tenantId',\n        'applicationId',\n        'userScope',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { oidcClientMetadataGuard, customClientMetadataGuard, protectedAppMetadataGuard, jsonObjectGuard } from './../foundations/index.js';\nimport { ApplicationType } from './custom-types.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    name: z.string().min(1).max(256),\n    secret: z.string().min(1).max(64),\n    description: z.string().nullable().optional(),\n    type: z.nativeEnum(ApplicationType),\n    oidcClientMetadata: oidcClientMetadataGuard,\n    customClientMetadata: customClientMetadataGuard.optional(),\n    protectedAppMetadata: protectedAppMetadataGuard.nullable().optional(),\n    customData: jsonObjectGuard.optional(),\n    isThirdParty: z.boolean().optional(),\n    createdAt: z.number().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    name: z.string().min(1).max(256),\n    secret: z.string().min(1).max(64),\n    description: z.string().nullable(),\n    type: z.nativeEnum(ApplicationType),\n    oidcClientMetadata: oidcClientMetadataGuard,\n    customClientMetadata: customClientMetadataGuard,\n    protectedAppMetadata: protectedAppMetadataGuard.nullable(),\n    customData: jsonObjectGuard,\n    isThirdParty: z.boolean(),\n    createdAt: z.number(),\n});\nexport const Applications = Object.freeze({\n    table: 'applications',\n    tableSingular: 'application',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        name: 'name',\n        secret: 'secret',\n        description: 'description',\n        type: 'type',\n        oidcClientMetadata: 'oidc_client_metadata',\n        customClientMetadata: 'custom_client_metadata',\n        protectedAppMetadata: 'protected_app_metadata',\n        customData: 'custom_data',\n        isThirdParty: 'is_third_party',\n        createdAt: 'created_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'name',\n        'secret',\n        'description',\n        'type',\n        'oidcClientMetadata',\n        'customClientMetadata',\n        'protectedAppMetadata',\n        'customData',\n        'isThirdParty',\n        'createdAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    applicationId: z.string().min(1).max(21),\n    roleId: z.string().min(1).max(21),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    applicationId: z.string().min(1).max(21),\n    roleId: z.string().min(1).max(21),\n});\nexport const ApplicationsRoles = Object.freeze({\n    table: 'applications_roles',\n    tableSingular: 'applications_role',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        applicationId: 'application_id',\n        roleId: 'role_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'applicationId',\n        'roleId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { captchaConfigGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(128),\n    config: captchaConfigGuard.optional(),\n    createdAt: z.number().optional(),\n    updatedAt: z.number().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(128),\n    config: captchaConfigGuard,\n    createdAt: z.number(),\n    updatedAt: z.number(),\n});\nexport const CaptchaProviders = Object.freeze({\n    table: 'captcha_providers',\n    tableSingular: 'captcha_provider',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        config: 'config',\n        createdAt: 'created_at',\n        updatedAt: 'updated_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'config',\n        'createdAt',\n        'updatedAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { jsonObjectGuard, configurableConnectorMetadataGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(128),\n    syncProfile: z.boolean().optional(),\n    connectorId: z.string().min(1).max(128),\n    config: jsonObjectGuard.optional(),\n    metadata: configurableConnectorMetadataGuard.optional(),\n    createdAt: z.number().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(128),\n    syncProfile: z.boolean(),\n    connectorId: z.string().min(1).max(128),\n    config: jsonObjectGuard,\n    metadata: configurableConnectorMetadataGuard,\n    createdAt: z.number(),\n});\nexport const Connectors = Object.freeze({\n    table: 'connectors',\n    tableSingular: 'connector',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        syncProfile: 'sync_profile',\n        connectorId: 'connector_id',\n        config: 'config',\n        metadata: 'metadata',\n        createdAt: 'created_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'syncProfile',\n        'connectorId',\n        'config',\n        'metadata',\n        'createdAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { translationGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    languageTag: z.string().min(1).max(16),\n    translation: translationGuard,\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    languageTag: z.string().min(1).max(16),\n    translation: translationGuard,\n});\nexport const CustomPhrases = Object.freeze({\n    table: 'custom_phrases',\n    tableSingular: 'custom_phrase',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        languageTag: 'language_tag',\n        translation: 'translation',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'languageTag',\n        'translation',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    id: z.string().min(1).max(21),\n    tenantId: z.string().max(21).optional(),\n    userId: z.string().min(1).max(21),\n    date: z.number().optional(),\n});\nconst guard = z.object({\n    id: z.string().min(1).max(21),\n    tenantId: z.string().max(21),\n    userId: z.string().min(1).max(21),\n    date: z.number(),\n});\nexport const DailyActiveUsers = Object.freeze({\n    table: 'daily_active_users',\n    tableSingular: 'daily_active_user',\n    fields: {\n        id: 'id',\n        tenantId: 'tenant_id',\n        userId: 'user_id',\n        date: 'date',\n    },\n    fieldKeys: [\n        'id',\n        'tenantId',\n        'userId',\n        'date',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    id: z.string().min(1).max(21),\n    tenantId: z.string().max(21).optional(),\n    usage: z.number().optional(),\n    date: z.number(),\n});\nconst guard = z.object({\n    id: z.string().min(1).max(21),\n    tenantId: z.string().max(21),\n    usage: z.number(),\n    date: z.number(),\n});\nexport const DailyTokenUsage = Object.freeze({\n    table: 'daily_token_usage',\n    tableSingular: 'daily_token_usage',\n    fields: {\n        id: 'id',\n        tenantId: 'tenant_id',\n        usage: 'usage',\n        date: 'date',\n    },\n    fieldKeys: [\n        'id',\n        'tenantId',\n        'usage',\n        'date',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { domainStatusGuard, domainDnsRecordsGuard, cloudflareDataGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    domain: z.string().min(1).max(256),\n    status: domainStatusGuard.optional(),\n    errorMessage: z.string().max(1024).nullable().optional(),\n    dnsRecords: domainDnsRecordsGuard.optional(),\n    cloudflareData: cloudflareDataGuard.nullable().optional(),\n    updatedAt: z.number().optional(),\n    createdAt: z.number().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    domain: z.string().min(1).max(256),\n    status: domainStatusGuard,\n    errorMessage: z.string().max(1024).nullable(),\n    dnsRecords: domainDnsRecordsGuard,\n    cloudflareData: cloudflareDataGuard.nullable(),\n    updatedAt: z.number(),\n    createdAt: z.number(),\n});\nexport const Domains = Object.freeze({\n    table: 'domains',\n    tableSingular: 'domain',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        domain: 'domain',\n        status: 'status',\n        errorMessage: 'error_message',\n        dnsRecords: 'dns_records',\n        cloudflareData: 'cloudflare_data',\n        updatedAt: 'updated_at',\n        createdAt: 'created_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'domain',\n        'status',\n        'errorMessage',\n        'dnsRecords',\n        'cloudflareData',\n        'updatedAt',\n        'createdAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { templateTypeGuard, emailTemplateDetailsGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    languageTag: z.string().min(1).max(16),\n    templateType: templateTypeGuard,\n    details: emailTemplateDetailsGuard,\n    createdAt: z.number().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    languageTag: z.string().min(1).max(16),\n    templateType: templateTypeGuard,\n    details: emailTemplateDetailsGuard,\n    createdAt: z.number(),\n});\nexport const EmailTemplates = Object.freeze({\n    table: 'email_templates',\n    tableSingular: 'email_template',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        languageTag: 'language_tag',\n        templateType: 'template_type',\n        details: 'details',\n        createdAt: 'created_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'languageTag',\n        'templateType',\n        'details',\n        'createdAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { hookEventGuard, hookEventsGuard, hookConfigGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    name: z.string().min(1).max(256).optional(),\n    event: hookEventGuard.nullable().optional(),\n    events: hookEventsGuard.optional(),\n    config: hookConfigGuard,\n    signingKey: z.string().min(1).max(64).optional(),\n    enabled: z.boolean().optional(),\n    createdAt: z.number().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    name: z.string().max(256),\n    event: hookEventGuard.nullable(),\n    events: hookEventsGuard,\n    config: hookConfigGuard,\n    signingKey: z.string().max(64),\n    enabled: z.boolean(),\n    createdAt: z.number(),\n});\nexport const Hooks = Object.freeze({\n    table: 'hooks',\n    tableSingular: 'hook',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        name: 'name',\n        event: 'event',\n        events: 'events',\n        config: 'config',\n        signingKey: 'signing_key',\n        enabled: 'enabled',\n        createdAt: 'created_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'name',\n        'event',\n        'events',\n        'config',\n        'signingKey',\n        'enabled',\n        'createdAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { ssoSamlAssertionContentGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    connectorId: z.string().min(1).max(128),\n    assertionContent: ssoSamlAssertionContentGuard.optional(),\n    createdAt: z.number().optional(),\n    expiresAt: z.number(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    connectorId: z.string().min(1).max(128),\n    assertionContent: ssoSamlAssertionContentGuard,\n    createdAt: z.number(),\n    expiresAt: z.number(),\n});\nexport const IdpInitiatedSamlSsoSessions = Object.freeze({\n    table: 'idp_initiated_saml_sso_sessions',\n    tableSingular: 'idp_initiated_saml_sso_session',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        connectorId: 'connector_id',\n        assertionContent: 'assertion_content',\n        createdAt: 'created_at',\n        expiresAt: 'expires_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'connectorId',\n        'assertionContent',\n        'createdAt',\n        'expiresAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { logContextPayloadGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    key: z.string().min(1).max(128),\n    payload: logContextPayloadGuard.optional(),\n    createdAt: z.number().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    key: z.string().min(1).max(128),\n    payload: logContextPayloadGuard,\n    createdAt: z.number(),\n});\nexport const Logs = Object.freeze({\n    table: 'logs',\n    tableSingular: 'log',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        key: 'key',\n        payload: 'payload',\n        createdAt: 'created_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'key',\n        'payload',\n        'createdAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { jsonGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    key: z.string().min(1).max(256),\n    value: jsonGuard.optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    key: z.string().min(1).max(256),\n    value: jsonGuard,\n});\nexport const LogtoConfigs = Object.freeze({\n    table: 'logto_configs',\n    tableSingular: 'logto_config',\n    fields: {\n        tenantId: 'tenant_id',\n        key: 'key',\n        value: 'value',\n    },\n    fieldKeys: [\n        'tenantId',\n        'key',\n        'value',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { oidcModelInstancePayloadGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    modelName: z.string().min(1).max(64),\n    id: z.string().min(1).max(128),\n    payload: oidcModelInstancePayloadGuard,\n    expiresAt: z.number(),\n    consumedAt: z.number().nullable().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    modelName: z.string().min(1).max(64),\n    id: z.string().min(1).max(128),\n    payload: oidcModelInstancePayloadGuard,\n    expiresAt: z.number(),\n    consumedAt: z.number().nullable(),\n});\nexport const OidcModelInstances = Object.freeze({\n    table: 'oidc_model_instances',\n    tableSingular: 'oidc_model_instance',\n    fields: {\n        tenantId: 'tenant_id',\n        modelName: 'model_name',\n        id: 'id',\n        payload: 'payload',\n        expiresAt: 'expires_at',\n        consumedAt: 'consumed_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'modelName',\n        'id',\n        'payload',\n        'expiresAt',\n        'consumedAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { oneTimeTokenContextGuard, oneTimeTokenStatusGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    email: z.string().min(1).max(128),\n    token: z.string().min(1).max(256),\n    context: oneTimeTokenContextGuard.optional(),\n    status: oneTimeTokenStatusGuard.optional(),\n    createdAt: z.number().optional(),\n    expiresAt: z.number(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    email: z.string().min(1).max(128),\n    token: z.string().min(1).max(256),\n    context: oneTimeTokenContextGuard,\n    status: oneTimeTokenStatusGuard,\n    createdAt: z.number(),\n    expiresAt: z.number(),\n});\nexport const OneTimeTokens = Object.freeze({\n    table: 'one_time_tokens',\n    tableSingular: 'one_time_token',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        email: 'email',\n        token: 'token',\n        context: 'context',\n        status: 'status',\n        createdAt: 'created_at',\n        expiresAt: 'expires_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'email',\n        'token',\n        'context',\n        'status',\n        'createdAt',\n        'expiresAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    organizationId: z.string().min(1).max(21),\n    applicationId: z.string().min(1).max(21),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    organizationId: z.string().min(1).max(21),\n    applicationId: z.string().min(1).max(21),\n});\nexport const OrganizationApplicationRelations = Object.freeze({\n    table: 'organization_application_relations',\n    tableSingular: 'organization_application_relation',\n    fields: {\n        tenantId: 'tenant_id',\n        organizationId: 'organization_id',\n        applicationId: 'application_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'organizationId',\n        'applicationId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    organizationInvitationId: z.string().min(1).max(21),\n    organizationRoleId: z.string().min(1).max(21),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    organizationInvitationId: z.string().min(1).max(21),\n    organizationRoleId: z.string().min(1).max(21),\n});\nexport const OrganizationInvitationRoleRelations = Object.freeze({\n    table: 'organization_invitation_role_relations',\n    tableSingular: 'organization_invitation_role_relation',\n    fields: {\n        tenantId: 'tenant_id',\n        organizationInvitationId: 'organization_invitation_id',\n        organizationRoleId: 'organization_role_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'organizationInvitationId',\n        'organizationRoleId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { OrganizationInvitationStatus } from './custom-types.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    inviterId: z.string().max(21).nullable().optional(),\n    invitee: z.string().min(1).max(256),\n    acceptedUserId: z.string().max(21).nullable().optional(),\n    organizationId: z.string().min(1).max(21),\n    status: z.nativeEnum(OrganizationInvitationStatus),\n    createdAt: z.number().optional(),\n    updatedAt: z.number().optional(),\n    expiresAt: z.number(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    inviterId: z.string().max(21).nullable(),\n    invitee: z.string().min(1).max(256),\n    acceptedUserId: z.string().max(21).nullable(),\n    organizationId: z.string().min(1).max(21),\n    status: z.nativeEnum(OrganizationInvitationStatus),\n    createdAt: z.number(),\n    updatedAt: z.number(),\n    expiresAt: z.number(),\n});\nexport const OrganizationInvitations = Object.freeze({\n    table: 'organization_invitations',\n    tableSingular: 'organization_invitation',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        inviterId: 'inviter_id',\n        invitee: 'invitee',\n        acceptedUserId: 'accepted_user_id',\n        organizationId: 'organization_id',\n        status: 'status',\n        createdAt: 'created_at',\n        updatedAt: 'updated_at',\n        expiresAt: 'expires_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'inviterId',\n        'invitee',\n        'acceptedUserId',\n        'organizationId',\n        'status',\n        'createdAt',\n        'updatedAt',\n        'expiresAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    organizationId: z.string().min(1).max(21),\n    emailDomain: z.string().min(1).max(128),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    organizationId: z.string().min(1).max(21),\n    emailDomain: z.string().min(1).max(128),\n});\nexport const OrganizationJitEmailDomains = Object.freeze({\n    table: 'organization_jit_email_domains',\n    tableSingular: 'organization_jit_email_domain',\n    fields: {\n        tenantId: 'tenant_id',\n        organizationId: 'organization_id',\n        emailDomain: 'email_domain',\n    },\n    fieldKeys: [\n        'tenantId',\n        'organizationId',\n        'emailDomain',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    organizationId: z.string().min(1).max(21),\n    organizationRoleId: z.string().min(1).max(21),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    organizationId: z.string().min(1).max(21),\n    organizationRoleId: z.string().min(1).max(21),\n});\nexport const OrganizationJitRoles = Object.freeze({\n    table: 'organization_jit_roles',\n    tableSingular: 'organization_jit_role',\n    fields: {\n        tenantId: 'tenant_id',\n        organizationId: 'organization_id',\n        organizationRoleId: 'organization_role_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'organizationId',\n        'organizationRoleId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    organizationId: z.string().min(1).max(21),\n    ssoConnectorId: z.string().min(1).max(128),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    organizationId: z.string().min(1).max(21),\n    ssoConnectorId: z.string().min(1).max(128),\n});\nexport const OrganizationJitSsoConnectors = Object.freeze({\n    table: 'organization_jit_sso_connectors',\n    tableSingular: 'organization_jit_sso_connector',\n    fields: {\n        tenantId: 'tenant_id',\n        organizationId: 'organization_id',\n        ssoConnectorId: 'sso_connector_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'organizationId',\n        'ssoConnectorId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    organizationId: z.string().min(1).max(21),\n    organizationRoleId: z.string().min(1).max(21),\n    applicationId: z.string().min(1).max(21),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    organizationId: z.string().min(1).max(21),\n    organizationRoleId: z.string().min(1).max(21),\n    applicationId: z.string().min(1).max(21),\n});\nexport const OrganizationRoleApplicationRelations = Object.freeze({\n    table: 'organization_role_application_relations',\n    tableSingular: 'organization_role_application_relation',\n    fields: {\n        tenantId: 'tenant_id',\n        organizationId: 'organization_id',\n        organizationRoleId: 'organization_role_id',\n        applicationId: 'application_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'organizationId',\n        'organizationRoleId',\n        'applicationId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    organizationRoleId: z.string().min(1).max(21),\n    scopeId: z.string().min(1).max(21),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    organizationRoleId: z.string().min(1).max(21),\n    scopeId: z.string().min(1).max(21),\n});\nexport const OrganizationRoleResourceScopeRelations = Object.freeze({\n    table: 'organization_role_resource_scope_relations',\n    tableSingular: 'organization_role_resource_scope_relation',\n    fields: {\n        tenantId: 'tenant_id',\n        organizationRoleId: 'organization_role_id',\n        scopeId: 'scope_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'organizationRoleId',\n        'scopeId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    organizationRoleId: z.string().min(1).max(21),\n    organizationScopeId: z.string().min(1).max(21),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    organizationRoleId: z.string().min(1).max(21),\n    organizationScopeId: z.string().min(1).max(21),\n});\nexport const OrganizationRoleScopeRelations = Object.freeze({\n    table: 'organization_role_scope_relations',\n    tableSingular: 'organization_role_scope_relation',\n    fields: {\n        tenantId: 'tenant_id',\n        organizationRoleId: 'organization_role_id',\n        organizationScopeId: 'organization_scope_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'organizationRoleId',\n        'organizationScopeId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    organizationId: z.string().min(1).max(21),\n    organizationRoleId: z.string().min(1).max(21),\n    userId: z.string().min(1).max(21),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    organizationId: z.string().min(1).max(21),\n    organizationRoleId: z.string().min(1).max(21),\n    userId: z.string().min(1).max(21),\n});\nexport const OrganizationRoleUserRelations = Object.freeze({\n    table: 'organization_role_user_relations',\n    tableSingular: 'organization_role_user_relation',\n    fields: {\n        tenantId: 'tenant_id',\n        organizationId: 'organization_id',\n        organizationRoleId: 'organization_role_id',\n        userId: 'user_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'organizationId',\n        'organizationRoleId',\n        'userId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { RoleType } from './custom-types.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    name: z.string().min(1).max(128),\n    description: z.string().max(256).nullable().optional(),\n    type: z.nativeEnum(RoleType).optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    name: z.string().min(1).max(128),\n    description: z.string().max(256).nullable(),\n    type: z.nativeEnum(RoleType),\n});\nexport const OrganizationRoles = Object.freeze({\n    table: 'organization_roles',\n    tableSingular: 'organization_role',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        name: 'name',\n        description: 'description',\n        type: 'type',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'name',\n        'description',\n        'type',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    name: z.string().min(1).max(128),\n    description: z.string().max(256).nullable().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    name: z.string().min(1).max(128),\n    description: z.string().max(256).nullable(),\n});\nexport const OrganizationScopes = Object.freeze({\n    table: 'organization_scopes',\n    tableSingular: 'organization_scope',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        name: 'name',\n        description: 'description',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'name',\n        'description',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    organizationId: z.string().min(1).max(21),\n    userId: z.string().min(1).max(21),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    organizationId: z.string().min(1).max(21),\n    userId: z.string().min(1).max(21),\n});\nexport const OrganizationUserRelations = Object.freeze({\n    table: 'organization_user_relations',\n    tableSingular: 'organization_user_relation',\n    fields: {\n        tenantId: 'tenant_id',\n        organizationId: 'organization_id',\n        userId: 'user_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'organizationId',\n        'userId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { jsonObjectGuard, brandingGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    name: z.string().min(1).max(128),\n    description: z.string().max(256).nullable().optional(),\n    customData: jsonObjectGuard.optional(),\n    isMfaRequired: z.boolean().optional(),\n    branding: brandingGuard.optional(),\n    createdAt: z.number().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    name: z.string().min(1).max(128),\n    description: z.string().max(256).nullable(),\n    customData: jsonObjectGuard,\n    isMfaRequired: z.boolean(),\n    branding: brandingGuard,\n    createdAt: z.number(),\n});\nexport const Organizations = Object.freeze({\n    table: 'organizations',\n    tableSingular: 'organization',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        name: 'name',\n        description: 'description',\n        customData: 'custom_data',\n        isMfaRequired: 'is_mfa_required',\n        branding: 'branding',\n        createdAt: 'created_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'name',\n        'description',\n        'customData',\n        'isMfaRequired',\n        'branding',\n        'createdAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    interactionJti: z.string().max(128).nullable().optional(),\n    phone: z.string().max(32).nullable().optional(),\n    email: z.string().max(128).nullable().optional(),\n    type: z.string().min(1).max(32),\n    code: z.string().min(1).max(6),\n    consumed: z.boolean().optional(),\n    tryCount: z.number().optional(),\n    createdAt: z.number().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    interactionJti: z.string().max(128).nullable(),\n    phone: z.string().max(32).nullable(),\n    email: z.string().max(128).nullable(),\n    type: z.string().min(1).max(32),\n    code: z.string().min(1).max(6),\n    consumed: z.boolean(),\n    tryCount: z.number(),\n    createdAt: z.number(),\n});\nexport const Passcodes = Object.freeze({\n    table: 'passcodes',\n    tableSingular: 'passcode',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        interactionJti: 'interaction_jti',\n        phone: 'phone',\n        email: 'email',\n        type: 'type',\n        code: 'code',\n        consumed: 'consumed',\n        tryCount: 'try_count',\n        createdAt: 'created_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'interactionJti',\n        'phone',\n        'email',\n        'type',\n        'code',\n        'consumed',\n        'tryCount',\n        'createdAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    userId: z.string().min(1).max(21),\n    name: z.string().min(1).max(256),\n    value: z.string().min(1).max(64),\n    createdAt: z.number().optional(),\n    expiresAt: z.number().nullable().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    userId: z.string().min(1).max(21),\n    name: z.string().min(1).max(256),\n    value: z.string().min(1).max(64),\n    createdAt: z.number(),\n    expiresAt: z.number().nullable(),\n});\nexport const PersonalAccessTokens = Object.freeze({\n    table: 'personal_access_tokens',\n    tableSingular: 'personal_access_token',\n    fields: {\n        tenantId: 'tenant_id',\n        userId: 'user_id',\n        name: 'name',\n        value: 'value',\n        createdAt: 'created_at',\n        expiresAt: 'expires_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'userId',\n        'name',\n        'value',\n        'createdAt',\n        'expiresAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    name: z.string().min(1),\n    indicator: z.string().min(1),\n    isDefault: z.boolean().optional(),\n    accessTokenTtl: z.number().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    name: z.string().min(1),\n    indicator: z.string().min(1),\n    isDefault: z.boolean(),\n    accessTokenTtl: z.number(),\n});\nexport const Resources = Object.freeze({\n    table: 'resources',\n    tableSingular: 'resource',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        name: 'name',\n        indicator: 'indicator',\n        isDefault: 'is_default',\n        accessTokenTtl: 'access_token_ttl',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'name',\n        'indicator',\n        'isDefault',\n        'accessTokenTtl',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { RoleType } from './custom-types.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    name: z.string().min(1).max(128),\n    description: z.string().min(1).max(128),\n    type: z.nativeEnum(RoleType).optional(),\n    isDefault: z.boolean().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    name: z.string().min(1).max(128),\n    description: z.string().min(1).max(128),\n    type: z.nativeEnum(RoleType),\n    isDefault: z.boolean(),\n});\nexport const Roles = Object.freeze({\n    table: 'roles',\n    tableSingular: 'role',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        name: 'name',\n        description: 'description',\n        type: 'type',\n        isDefault: 'is_default',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'name',\n        'description',\n        'type',\n        'isDefault',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    roleId: z.string().min(1).max(21),\n    scopeId: z.string().min(1).max(21),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    roleId: z.string().min(1).max(21),\n    scopeId: z.string().min(1).max(21),\n});\nexport const RolesScopes = Object.freeze({\n    table: 'roles_scopes',\n    tableSingular: 'roles_scope',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        roleId: 'role_id',\n        scopeId: 'scope_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'roleId',\n        'scopeId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { samlAttributeMappingGuard, samlAcsUrlGuard, samlEncryptionGuard, nameIdFormatGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    applicationId: z.string().min(1).max(21),\n    tenantId: z.string().max(21).optional(),\n    attributeMapping: samlAttributeMappingGuard.optional(),\n    entityId: z.string().max(128).nullable().optional(),\n    acsUrl: samlAcsUrlGuard.nullable().optional(),\n    encryption: samlEncryptionGuard.nullable().optional(),\n    nameIdFormat: nameIdFormatGuard,\n});\nconst guard = z.object({\n    applicationId: z.string().min(1).max(21),\n    tenantId: z.string().max(21),\n    attributeMapping: samlAttributeMappingGuard,\n    entityId: z.string().max(128).nullable(),\n    acsUrl: samlAcsUrlGuard.nullable(),\n    encryption: samlEncryptionGuard.nullable(),\n    nameIdFormat: nameIdFormatGuard,\n});\nexport const SamlApplicationConfigs = Object.freeze({\n    table: 'saml_application_configs',\n    tableSingular: 'saml_application_config',\n    fields: {\n        applicationId: 'application_id',\n        tenantId: 'tenant_id',\n        attributeMapping: 'attribute_mapping',\n        entityId: 'entity_id',\n        acsUrl: 'acs_url',\n        encryption: 'encryption',\n        nameIdFormat: 'name_id_format',\n    },\n    fieldKeys: [\n        'applicationId',\n        'tenantId',\n        'attributeMapping',\n        'entityId',\n        'acsUrl',\n        'encryption',\n        'nameIdFormat',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    id: z.string().min(1).max(21),\n    tenantId: z.string().max(21).optional(),\n    applicationId: z.string().min(1).max(21),\n    privateKey: z.string().min(1),\n    certificate: z.string().min(1),\n    createdAt: z.number().optional(),\n    expiresAt: z.number(),\n    active: z.boolean(),\n});\nconst guard = z.object({\n    id: z.string().min(1).max(21),\n    tenantId: z.string().max(21),\n    applicationId: z.string().min(1).max(21),\n    privateKey: z.string().min(1),\n    certificate: z.string().min(1),\n    createdAt: z.number(),\n    expiresAt: z.number(),\n    active: z.boolean(),\n});\nexport const SamlApplicationSecrets = Object.freeze({\n    table: 'saml_application_secrets',\n    tableSingular: 'saml_application_secret',\n    fields: {\n        id: 'id',\n        tenantId: 'tenant_id',\n        applicationId: 'application_id',\n        privateKey: 'private_key',\n        certificate: 'certificate',\n        createdAt: 'created_at',\n        expiresAt: 'expires_at',\n        active: 'active',\n    },\n    fieldKeys: [\n        'id',\n        'tenantId',\n        'applicationId',\n        'privateKey',\n        'certificate',\n        'createdAt',\n        'expiresAt',\n        'active',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(32),\n    applicationId: z.string().min(1).max(21),\n    samlRequestId: z.string().min(1).max(128),\n    oidcState: z.string().max(32).nullable().optional(),\n    relayState: z.string().max(256).nullable().optional(),\n    rawAuthRequest: z.string().min(1),\n    createdAt: z.number().optional(),\n    expiresAt: z.number(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(32),\n    applicationId: z.string().min(1).max(21),\n    samlRequestId: z.string().min(1).max(128),\n    oidcState: z.string().max(32).nullable(),\n    relayState: z.string().max(256).nullable(),\n    rawAuthRequest: z.string().min(1),\n    createdAt: z.number(),\n    expiresAt: z.number(),\n});\nexport const SamlApplicationSessions = Object.freeze({\n    table: 'saml_application_sessions',\n    tableSingular: 'saml_application_session',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        applicationId: 'application_id',\n        samlRequestId: 'saml_request_id',\n        oidcState: 'oidc_state',\n        relayState: 'relay_state',\n        rawAuthRequest: 'raw_auth_request',\n        createdAt: 'created_at',\n        expiresAt: 'expires_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'applicationId',\n        'samlRequestId',\n        'oidcState',\n        'relayState',\n        'rawAuthRequest',\n        'createdAt',\n        'expiresAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    resourceId: z.string().min(1).max(21),\n    name: z.string().min(1).max(256),\n    description: z.string().nullable().optional(),\n    createdAt: z.number().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    resourceId: z.string().min(1).max(21),\n    name: z.string().min(1).max(256),\n    description: z.string().nullable(),\n    createdAt: z.number(),\n});\nexport const Scopes = Object.freeze({\n    table: 'scopes',\n    tableSingular: 'scope',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        resourceId: 'resource_id',\n        name: 'name',\n        description: 'description',\n        createdAt: 'created_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'resourceId',\n        'name',\n        'description',\n        'createdAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { sentinelActivityTargetTypeGuard, sentinelActivityActionGuard, sentinelActivityPayloadGuard } from './../foundations/index.js';\nimport { SentinelActionResult, SentinelDecision } from './custom-types.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    targetType: sentinelActivityTargetTypeGuard,\n    targetHash: z.string().min(1).max(64),\n    action: sentinelActivityActionGuard,\n    actionResult: z.nativeEnum(SentinelActionResult),\n    payload: sentinelActivityPayloadGuard,\n    decision: z.nativeEnum(SentinelDecision),\n    decisionExpiresAt: z.number().optional(),\n    createdAt: z.number().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    targetType: sentinelActivityTargetTypeGuard,\n    targetHash: z.string().min(1).max(64),\n    action: sentinelActivityActionGuard,\n    actionResult: z.nativeEnum(SentinelActionResult),\n    payload: sentinelActivityPayloadGuard,\n    decision: z.nativeEnum(SentinelDecision),\n    decisionExpiresAt: z.number(),\n    createdAt: z.number(),\n});\nexport const SentinelActivities = Object.freeze({\n    table: 'sentinel_activities',\n    tableSingular: 'sentinel_activity',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        targetType: 'target_type',\n        targetHash: 'target_hash',\n        action: 'action',\n        actionResult: 'action_result',\n        payload: 'payload',\n        decision: 'decision',\n        decisionExpiresAt: 'decision_expires_at',\n        createdAt: 'created_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'targetType',\n        'targetHash',\n        'action',\n        'actionResult',\n        'payload',\n        'decision',\n        'decisionExpiresAt',\n        'createdAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { jsonObjectGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    id: z.string().min(1).max(21),\n    tenantId: z.string().max(21).optional(),\n    type: z.string().min(1).max(64),\n    payload: jsonObjectGuard.optional(),\n    createdAt: z.number().optional(),\n});\nconst guard = z.object({\n    id: z.string().min(1).max(21),\n    tenantId: z.string().max(21),\n    type: z.string().min(1).max(64),\n    payload: jsonObjectGuard,\n    createdAt: z.number(),\n});\nexport const ServiceLogs = Object.freeze({\n    table: 'service_logs',\n    tableSingular: 'service_log',\n    fields: {\n        id: 'id',\n        tenantId: 'tenant_id',\n        type: 'type',\n        payload: 'payload',\n        createdAt: 'created_at',\n    },\n    fieldKeys: [\n        'id',\n        'tenantId',\n        'type',\n        'payload',\n        'createdAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { colorGuard, brandingGuard, languageInfoGuard, signInGuard, signUpGuard, socialSignInGuard, connectorTargetsGuard, customContentGuard, customUiAssetsGuard, partialPasswordPolicyGuard, mfaGuard, captchaPolicyGuard, sentinelPolicyGuard, emailBlocklistPolicyGuard } from './../foundations/index.js';\nimport { AgreeToTermsPolicy, SignInMode } from './custom-types.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    color: colorGuard,\n    branding: brandingGuard,\n    languageInfo: languageInfoGuard,\n    termsOfUseUrl: z.string().max(2048).nullable().optional(),\n    privacyPolicyUrl: z.string().max(2048).nullable().optional(),\n    agreeToTermsPolicy: z.nativeEnum(AgreeToTermsPolicy).optional(),\n    signIn: signInGuard,\n    signUp: signUpGuard,\n    socialSignIn: socialSignInGuard.optional(),\n    socialSignInConnectorTargets: connectorTargetsGuard.optional(),\n    signInMode: z.nativeEnum(SignInMode).optional(),\n    customCss: z.string().nullable().optional(),\n    customContent: customContentGuard.optional(),\n    customUiAssets: customUiAssetsGuard.nullable().optional(),\n    passwordPolicy: partialPasswordPolicyGuard.optional(),\n    mfa: mfaGuard.optional(),\n    singleSignOnEnabled: z.boolean().optional(),\n    supportEmail: z.string().nullable().optional(),\n    supportWebsiteUrl: z.string().nullable().optional(),\n    unknownSessionRedirectUrl: z.string().nullable().optional(),\n    captchaPolicy: captchaPolicyGuard.optional(),\n    sentinelPolicy: sentinelPolicyGuard.optional(),\n    emailBlocklistPolicy: emailBlocklistPolicyGuard.optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    color: colorGuard,\n    branding: brandingGuard,\n    languageInfo: languageInfoGuard,\n    termsOfUseUrl: z.string().max(2048).nullable(),\n    privacyPolicyUrl: z.string().max(2048).nullable(),\n    agreeToTermsPolicy: z.nativeEnum(AgreeToTermsPolicy),\n    signIn: signInGuard,\n    signUp: signUpGuard,\n    socialSignIn: socialSignInGuard,\n    socialSignInConnectorTargets: connectorTargetsGuard,\n    signInMode: z.nativeEnum(SignInMode),\n    customCss: z.string().nullable(),\n    customContent: customContentGuard,\n    customUiAssets: customUiAssetsGuard.nullable(),\n    passwordPolicy: partialPasswordPolicyGuard,\n    mfa: mfaGuard,\n    singleSignOnEnabled: z.boolean(),\n    supportEmail: z.string().nullable(),\n    supportWebsiteUrl: z.string().nullable(),\n    unknownSessionRedirectUrl: z.string().nullable(),\n    captchaPolicy: captchaPolicyGuard,\n    sentinelPolicy: sentinelPolicyGuard,\n    emailBlocklistPolicy: emailBlocklistPolicyGuard,\n});\nexport const SignInExperiences = Object.freeze({\n    table: 'sign_in_experiences',\n    tableSingular: 'sign_in_experience',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        color: 'color',\n        branding: 'branding',\n        languageInfo: 'language_info',\n        termsOfUseUrl: 'terms_of_use_url',\n        privacyPolicyUrl: 'privacy_policy_url',\n        agreeToTermsPolicy: 'agree_to_terms_policy',\n        signIn: 'sign_in',\n        signUp: 'sign_up',\n        socialSignIn: 'social_sign_in',\n        socialSignInConnectorTargets: 'social_sign_in_connector_targets',\n        signInMode: 'sign_in_mode',\n        customCss: 'custom_css',\n        customContent: 'custom_content',\n        customUiAssets: 'custom_ui_assets',\n        passwordPolicy: 'password_policy',\n        mfa: 'mfa',\n        singleSignOnEnabled: 'single_sign_on_enabled',\n        supportEmail: 'support_email',\n        supportWebsiteUrl: 'support_website_url',\n        unknownSessionRedirectUrl: 'unknown_session_redirect_url',\n        captchaPolicy: 'captcha_policy',\n        sentinelPolicy: 'sentinel_policy',\n        emailBlocklistPolicy: 'email_blocklist_policy',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'color',\n        'branding',\n        'languageInfo',\n        'termsOfUseUrl',\n        'privacyPolicyUrl',\n        'agreeToTermsPolicy',\n        'signIn',\n        'signUp',\n        'socialSignIn',\n        'socialSignInConnectorTargets',\n        'signInMode',\n        'customCss',\n        'customContent',\n        'customUiAssets',\n        'passwordPolicy',\n        'mfa',\n        'singleSignOnEnabled',\n        'supportEmail',\n        'supportWebsiteUrl',\n        'unknownSessionRedirectUrl',\n        'captchaPolicy',\n        'sentinelPolicy',\n        'emailBlocklistPolicy',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { idpInitiatedAuthParamsGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    connectorId: z.string().min(1).max(128),\n    defaultApplicationId: z.string().min(1).max(21),\n    redirectUri: z.string().nullable().optional(),\n    authParameters: idpInitiatedAuthParamsGuard.optional(),\n    autoSendAuthorizationRequest: z.boolean().optional(),\n    clientIdpInitiatedAuthCallbackUri: z.string().nullable().optional(),\n    createdAt: z.number().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    connectorId: z.string().min(1).max(128),\n    defaultApplicationId: z.string().min(1).max(21),\n    redirectUri: z.string().nullable(),\n    authParameters: idpInitiatedAuthParamsGuard,\n    autoSendAuthorizationRequest: z.boolean(),\n    clientIdpInitiatedAuthCallbackUri: z.string().nullable(),\n    createdAt: z.number(),\n});\nexport const SsoConnectorIdpInitiatedAuthConfigs = Object.freeze({\n    table: 'sso_connector_idp_initiated_auth_configs',\n    tableSingular: 'sso_connector_idp_initiated_auth_config',\n    fields: {\n        tenantId: 'tenant_id',\n        connectorId: 'connector_id',\n        defaultApplicationId: 'default_application_id',\n        redirectUri: 'redirect_uri',\n        authParameters: 'auth_parameters',\n        autoSendAuthorizationRequest: 'auto_send_authorization_request',\n        clientIdpInitiatedAuthCallbackUri: 'client_idp_initiated_auth_callback_uri',\n        createdAt: 'created_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'connectorId',\n        'defaultApplicationId',\n        'redirectUri',\n        'authParameters',\n        'autoSendAuthorizationRequest',\n        'clientIdpInitiatedAuthCallbackUri',\n        'createdAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { jsonObjectGuard, ssoDomainsGuard, ssoBrandingGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(128),\n    providerName: z.string().min(1).max(128),\n    connectorName: z.string().min(1).max(128),\n    config: jsonObjectGuard.optional(),\n    domains: ssoDomainsGuard.optional(),\n    branding: ssoBrandingGuard.optional(),\n    syncProfile: z.boolean().optional(),\n    createdAt: z.number().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(128),\n    providerName: z.string().min(1).max(128),\n    connectorName: z.string().min(1).max(128),\n    config: jsonObjectGuard,\n    domains: ssoDomainsGuard,\n    branding: ssoBrandingGuard,\n    syncProfile: z.boolean(),\n    createdAt: z.number(),\n});\nexport const SsoConnectors = Object.freeze({\n    table: 'sso_connectors',\n    tableSingular: 'sso_connector',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        providerName: 'provider_name',\n        connectorName: 'connector_name',\n        config: 'config',\n        domains: 'domains',\n        branding: 'branding',\n        syncProfile: 'sync_profile',\n        createdAt: 'created_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'providerName',\n        'connectorName',\n        'config',\n        'domains',\n        'branding',\n        'syncProfile',\n        'createdAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { jsonObjectGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(25),\n    context: jsonObjectGuard.optional(),\n    expiresAt: z.number(),\n    consumedAt: z.number().nullable().optional(),\n    userId: z.string().min(1).max(21),\n    createdAt: z.number().optional(),\n    creatorId: z.string().min(1).max(32),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(25),\n    context: jsonObjectGuard,\n    expiresAt: z.number(),\n    consumedAt: z.number().nullable(),\n    userId: z.string().min(1).max(21),\n    createdAt: z.number(),\n    creatorId: z.string().min(1).max(32),\n});\nexport const SubjectTokens = Object.freeze({\n    table: 'subject_tokens',\n    tableSingular: 'subject_token',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        context: 'context',\n        expiresAt: 'expires_at',\n        consumedAt: 'consumed_at',\n        userId: 'user_id',\n        createdAt: 'created_at',\n        creatorId: 'creator_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'context',\n        'expiresAt',\n        'consumedAt',\n        'userId',\n        'createdAt',\n        'creatorId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { jsonObjectGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    key: z.string().min(1).max(256),\n    value: jsonObjectGuard.optional(),\n});\nconst guard = z.object({\n    key: z.string().min(1).max(256),\n    value: jsonObjectGuard,\n});\nexport const Systems = Object.freeze({\n    table: 'systems',\n    tableSingular: 'system',\n    fields: {\n        key: 'key',\n        value: 'value',\n    },\n    fieldKeys: [\n        'key',\n        'value',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { jsonObjectGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    userId: z.string().min(1).max(12),\n    issuer: z.string().min(1).max(256),\n    identityId: z.string().min(1).max(128),\n    detail: jsonObjectGuard.optional(),\n    createdAt: z.number().optional(),\n    ssoConnectorId: z.string().min(1).max(128),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    userId: z.string().min(1).max(12),\n    issuer: z.string().min(1).max(256),\n    identityId: z.string().min(1).max(128),\n    detail: jsonObjectGuard,\n    createdAt: z.number(),\n    ssoConnectorId: z.string().min(1).max(128),\n});\nexport const UserSsoIdentities = Object.freeze({\n    table: 'user_sso_identities',\n    tableSingular: 'user_sso_identity',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        userId: 'user_id',\n        issuer: 'issuer',\n        identityId: 'identity_id',\n        detail: 'detail',\n        createdAt: 'created_at',\n        ssoConnectorId: 'sso_connector_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'userId',\n        'issuer',\n        'identityId',\n        'detail',\n        'createdAt',\n        'ssoConnectorId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { userProfileGuard, identitiesGuard, jsonObjectGuard, mfaVerificationsGuard } from './../foundations/index.js';\nimport { UsersPasswordEncryptionMethod } from './custom-types.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(12),\n    username: z.string().max(128).nullable().optional(),\n    primaryEmail: z.string().max(128).nullable().optional(),\n    primaryPhone: z.string().max(128).nullable().optional(),\n    passwordEncrypted: z.string().max(128).nullable().optional(),\n    passwordEncryptionMethod: z.nativeEnum(UsersPasswordEncryptionMethod).nullable().optional(),\n    name: z.string().max(128).nullable().optional(),\n    avatar: z.string().max(2048).nullable().optional(),\n    profile: userProfileGuard.optional(),\n    applicationId: z.string().max(21).nullable().optional(),\n    identities: identitiesGuard.optional(),\n    customData: jsonObjectGuard.optional(),\n    logtoConfig: jsonObjectGuard.optional(),\n    mfaVerifications: mfaVerificationsGuard.optional(),\n    isSuspended: z.boolean().optional(),\n    lastSignInAt: z.number().nullable().optional(),\n    createdAt: z.number().optional(),\n    updatedAt: z.number().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(12),\n    username: z.string().max(128).nullable(),\n    primaryEmail: z.string().max(128).nullable(),\n    primaryPhone: z.string().max(128).nullable(),\n    passwordEncrypted: z.string().max(128).nullable(),\n    passwordEncryptionMethod: z.nativeEnum(UsersPasswordEncryptionMethod).nullable(),\n    name: z.string().max(128).nullable(),\n    avatar: z.string().max(2048).nullable(),\n    profile: userProfileGuard,\n    applicationId: z.string().max(21).nullable(),\n    identities: identitiesGuard,\n    customData: jsonObjectGuard,\n    logtoConfig: jsonObjectGuard,\n    mfaVerifications: mfaVerificationsGuard,\n    isSuspended: z.boolean(),\n    lastSignInAt: z.number().nullable(),\n    createdAt: z.number(),\n    updatedAt: z.number(),\n});\nexport const Users = Object.freeze({\n    table: 'users',\n    tableSingular: 'user',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        username: 'username',\n        primaryEmail: 'primary_email',\n        primaryPhone: 'primary_phone',\n        passwordEncrypted: 'password_encrypted',\n        passwordEncryptionMethod: 'password_encryption_method',\n        name: 'name',\n        avatar: 'avatar',\n        profile: 'profile',\n        applicationId: 'application_id',\n        identities: 'identities',\n        customData: 'custom_data',\n        logtoConfig: 'logto_config',\n        mfaVerifications: 'mfa_verifications',\n        isSuspended: 'is_suspended',\n        lastSignInAt: 'last_sign_in_at',\n        createdAt: 'created_at',\n        updatedAt: 'updated_at',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'username',\n        'primaryEmail',\n        'primaryPhone',\n        'passwordEncrypted',\n        'passwordEncryptionMethod',\n        'name',\n        'avatar',\n        'profile',\n        'applicationId',\n        'identities',\n        'customData',\n        'logtoConfig',\n        'mfaVerifications',\n        'isSuspended',\n        'lastSignInAt',\n        'createdAt',\n        'updatedAt',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    userId: z.string().min(1).max(21),\n    roleId: z.string().min(1).max(21),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    userId: z.string().min(1).max(21),\n    roleId: z.string().min(1).max(21),\n});\nexport const UsersRoles = Object.freeze({\n    table: 'users_roles',\n    tableSingular: 'users_role',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        userId: 'user_id',\n        roleId: 'role_id',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'userId',\n        'roleId',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nimport { jsonObjectGuard } from './../foundations/index.js';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    userId: z.string().max(21).nullable().optional(),\n    createdAt: z.number().optional(),\n    expiresAt: z.number(),\n    data: jsonObjectGuard.optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    userId: z.string().max(21).nullable(),\n    createdAt: z.number(),\n    expiresAt: z.number(),\n    data: jsonObjectGuard,\n});\nexport const VerificationRecords = Object.freeze({\n    table: 'verification_records',\n    tableSingular: 'verification_record',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        userId: 'user_id',\n        createdAt: 'created_at',\n        expiresAt: 'expires_at',\n        data: 'data',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'userId',\n        'createdAt',\n        'expiresAt',\n        'data',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\nimport { z } from 'zod';\nconst createGuard = z.object({\n    tenantId: z.string().max(21).optional(),\n    id: z.string().min(1).max(21),\n    userId: z.string().min(1).max(21),\n    createdAt: z.number().optional(),\n    verifiedIdentifier: z.string().max(255).nullable().optional(),\n});\nconst guard = z.object({\n    tenantId: z.string().max(21),\n    id: z.string().min(1).max(21),\n    userId: z.string().min(1).max(21),\n    createdAt: z.number(),\n    verifiedIdentifier: z.string().max(255).nullable(),\n});\nexport const VerificationStatuses = Object.freeze({\n    table: 'verification_statuses',\n    tableSingular: 'verification_status',\n    fields: {\n        tenantId: 'tenant_id',\n        id: 'id',\n        userId: 'user_id',\n        createdAt: 'created_at',\n        verifiedIdentifier: 'verified_identifier',\n    },\n    fieldKeys: [\n        'tenantId',\n        'id',\n        'userId',\n        'createdAt',\n        'verifiedIdentifier',\n    ],\n    createGuard,\n    guard,\n    updateGuard: guard.partial(),\n});\n","import { ConnectorType, connectorMetadataGuard } from '@logto/connector-kit';\nimport { z } from 'zod';\nimport { Connectors } from '../db-entries/index.js';\nexport { ConnectorType, ConnectorPlatform } from '@logto/connector-kit';\nexport const connectorResponseGuard = Connectors.guard\n    .pick({\n    id: true,\n    syncProfile: true,\n    config: true,\n    metadata: true,\n    connectorId: true,\n})\n    .merge(connectorMetadataGuard)\n    .merge(z.object({\n    type: z.nativeEnum(ConnectorType),\n    isDemo: z.boolean().optional(),\n    extraInfo: z.record(z.unknown()).optional(),\n    usage: z.number().optional(),\n}));\nexport const connectorFactoryResponseGuard = z\n    .object({\n    type: z.nativeEnum(ConnectorType), // Omit<BaseConnector<ConnectorType>, 'configGuard' | 'metadata'>\n    isDemo: z.boolean().optional(),\n})\n    .merge(connectorMetadataGuard);\n","export const prefix = 'Interaction';\n/** The interaction field to update. This is valid based on we only allow users update one field at a time. */\nexport var Field;\n(function (Field) {\n    Field[\"Event\"] = \"Event\";\n    Field[\"Identifier\"] = \"Identifier\";\n    Field[\"Profile\"] = \"Profile\";\n    Field[\"BindMfa\"] = \"BindMfa\";\n    Field[\"Mfa\"] = \"Mfa\";\n    Field[\"Verification\"] = \"Verification\";\n    Field[\"Captcha\"] = \"Captcha\";\n})(Field || (Field = {}));\n/** Method to verify the identifier */\nexport var Method;\n(function (Method) {\n    Method[\"Password\"] = \"Password\";\n    Method[\"VerificationCode\"] = \"VerificationCode\";\n    Method[\"Social\"] = \"Social\";\n    Method[\"SingleSignOn\"] = \"SingleSignOn\";\n})(Method || (Method = {}));\nexport var Action;\n(function (Action) {\n    /** Create a new entity. (E.g. create an interaction, create a verification code) */\n    Action[\"Create\"] = \"Create\";\n    /** Update an existing entity. (E.g. change interaction type) */\n    Action[\"Update\"] = \"Update\";\n    /** Submit updated info to an entity, or submit to the system. (E.g. submit an interaction, submit a verification code to get verified) */\n    Action[\"Submit\"] = \"Submit\";\n    /** Delete a existing entity. (E.g delete profile ) */\n    Action[\"Delete\"] = \"Delete\";\n    /** Change an entity to the end state. (E.g. end an interaction) */\n    Action[\"End\"] = \"End\";\n})(Action || (Action = {}));\n","/** The type of a token event. */\nexport var Type;\n(function (Type) {\n    Type[\"ExchangeTokenBy\"] = \"ExchangeTokenBy\";\n    Type[\"RevokeToken\"] = \"RevokeToken\";\n})(Type || (Type = {}));\n/** Available grant token types extracted from [oidc-provider](https://github.com/panva/node-oidc-provider/blob/564b1095ee869c89381d63dfdb5875c99f870f5f/lib/helpers/revoke.js#L13). */\nexport var TokenType;\n(function (TokenType) {\n    TokenType[\"AccessToken\"] = \"AccessToken\";\n    TokenType[\"RefreshToken\"] = \"RefreshToken\";\n    TokenType[\"IdToken\"] = \"IdToken\";\n    TokenType[\"AuthorizationCode\"] = \"AuthorizationCode\";\n    TokenType[\"DeviceCode\"] = \"DeviceCode\";\n    TokenType[\"BackchannelAuthenticationRequest\"] = \"BackchannelAuthenticationRequest\";\n})(TokenType || (TokenType = {}));\n/** The credential to request a grant. */\nexport var ExchangeByType;\n(function (ExchangeByType) {\n    ExchangeByType[\"Unknown\"] = \"Unknown\";\n    ExchangeByType[\"AuthorizationCode\"] = \"AuthorizationCode\";\n    ExchangeByType[\"RefreshToken\"] = \"RefreshToken\";\n    ExchangeByType[\"ClientCredentials\"] = \"ClientCredentials\";\n    ExchangeByType[\"TokenExchange\"] = \"TokenExchange\";\n})(ExchangeByType || (ExchangeByType = {}));\n","/** The type of a hook event. */\nexport var Type;\n(function (Type) {\n    Type[\"TriggerHook\"] = \"TriggerHook\";\n})(Type || (Type = {}));\n","export const prefix = 'JwtCustomizer';\n/** The type of a custom JWT scenario. */\nexport var Type;\n(function (Type) {\n    Type[\"AccessToken\"] = \"AccessToken\";\n    Type[\"ClientCredentials\"] = \"ClientCredentials\";\n})(Type || (Type = {}));\n","export const prefix = 'SamlApplication';\nexport var Scenario;\n(function (Scenario) {\n    Scenario[\"Callback\"] = \"Callback\";\n    Scenario[\"AuthnRequest\"] = \"AuthnRequest\";\n})(Scenario || (Scenario = {}));\n","export var GrantType;\n(function (GrantType) {\n    GrantType[\"AuthorizationCode\"] = \"authorization_code\";\n    GrantType[\"RefreshToken\"] = \"refresh_token\";\n    GrantType[\"ClientCredentials\"] = \"client_credentials\";\n    GrantType[\"TokenExchange\"] = \"urn:ietf:params:oauth:grant-type:token-exchange\";\n})(GrantType || (GrantType = {}));\n","import { z } from 'zod';\nimport { Users, UserSsoIdentities } from '../db-entries/index.js';\nimport { MfaFactor } from '../foundations/index.js';\nexport const userInfoSelectFields = Object.freeze([\n    'id',\n    'username',\n    'primaryEmail',\n    'primaryPhone',\n    'name',\n    'avatar',\n    'customData',\n    'identities',\n    'lastSignInAt',\n    'createdAt',\n    'updatedAt',\n    'profile',\n    'applicationId',\n    'isSuspended',\n]);\nexport const userInfoGuard = Users.guard.pick(\n// eslint-disable-next-line no-restricted-syntax\nObject.fromEntries(userInfoSelectFields.map((field) => [field, true])));\nexport const userProfileResponseGuard = userInfoGuard.extend({\n    hasPassword: z.boolean().optional(),\n    ssoIdentities: z.array(UserSsoIdentities.guard).optional(),\n});\nexport const userMfaVerificationResponseGuard = z\n    .object({\n    id: z.string(),\n    createdAt: z.string(),\n    type: z.nativeEnum(MfaFactor),\n    agent: z.string().optional(),\n    remainCodes: z.number().optional(),\n})\n    .array();\n/**\n * Internal read-only roles for user tenants.\n *\n * @deprecated We don't use internal roles anymore.\n */\nexport var InternalRole;\n(function (InternalRole) {\n    /**\n     * Internal admin role for Machine-to-Machine apps in Logto user tenants.\n     *\n     * It should NOT be assigned to any user.\n     */\n    InternalRole[\"Admin\"] = \"#internal:admin\";\n})(InternalRole || (InternalRole = {}));\nexport var AdminTenantRole;\n(function (AdminTenantRole) {\n    /** Common user role in admin tenant. */\n    AdminTenantRole[\"User\"] = \"user\";\n    /** The role for machine to machine applications that represent a user tenant and send requests to Logto Cloud. */\n    AdminTenantRole[\"TenantApplication\"] = \"tenantApplication\";\n})(AdminTenantRole || (AdminTenantRole = {}));\nexport var PredefinedScope;\n(function (PredefinedScope) {\n    PredefinedScope[\"All\"] = \"all\";\n})(PredefinedScope || (PredefinedScope = {}));\n/** The guard for {@link FeaturedUser}. */\nexport const featuredUserGuard = Users.guard.pick({\n    id: true,\n    avatar: true,\n    name: true,\n});\n","import { Resources, Scopes } from '../db-entries/index.js';\nexport const scopeResponseGuard = Scopes.guard.extend({\n    resource: Resources.guard,\n});\n","/**\n * Manually implement zod guards of some node OIDC provider types.\n *\n * Please note that we defined `accessTokenPayloadGuard` and `clientCredentialsPayloadGuard` in this file, they are used to make the user-defined token\n * sample to be aligned with the real token payload given by the OIDC provider in a real use case.\n *\n * Only keep the least necessary fields in the guards to align with the raw token payload that can be used for `extraTokenClaims` method.\n */\nimport { z } from 'zod';\nconst baseTokenPayloadGuardObject = {\n    jti: z.string(),\n    aud: z.union([z.string(), z.string().array()]),\n    scope: z.string().optional(),\n    clientId: z.string().optional(),\n};\nexport const accessTokenPayloadGuard = z\n    .object({\n    ...baseTokenPayloadGuardObject,\n    accountId: z.string(),\n    expiresWithSession: z.boolean().optional(),\n    grantId: z.string(),\n    gty: z.string(),\n    sessionUid: z.string().optional(),\n    sid: z.string().optional(),\n    kind: z.literal('AccessToken'),\n})\n    .strict();\nexport const clientCredentialsPayloadGuard = z\n    .object({\n    ...baseTokenPayloadGuardObject,\n    kind: z.literal('ClientCredentials'),\n})\n    .strict();\n","import { jsonObjectGuard } from '@logto/connector-kit';\nimport { z } from 'zod';\nimport { Organizations, Roles, UserSsoIdentities, } from '../../db-entries/index.js';\nimport { mfaFactorsGuard } from '../../foundations/index.js';\nimport { GrantType } from '../oidc-config.js';\nimport { scopeResponseGuard } from '../scope.js';\nimport { userInfoGuard } from '../user.js';\nimport { accessTokenPayloadGuard, clientCredentialsPayloadGuard } from './oidc-provider.js';\nexport const jwtCustomizerGuard = z.object({\n    script: z.string(),\n    environmentVariables: z.record(z.string()).optional(),\n    contextSample: jsonObjectGuard.optional(),\n});\nexport var LogtoJwtTokenKeyType;\n(function (LogtoJwtTokenKeyType) {\n    LogtoJwtTokenKeyType[\"AccessToken\"] = \"access-token\";\n    LogtoJwtTokenKeyType[\"ClientCredentials\"] = \"client-credentials\";\n})(LogtoJwtTokenKeyType || (LogtoJwtTokenKeyType = {}));\nexport const jwtCustomizerUserContextGuard = userInfoGuard.extend({\n    hasPassword: z.boolean(),\n    ssoIdentities: UserSsoIdentities.guard\n        .pick({ issuer: true, identityId: true, detail: true })\n        .array(),\n    mfaVerificationFactors: mfaFactorsGuard,\n    roles: Roles.guard\n        .pick({ id: true, name: true, description: true })\n        .extend({\n        scopes: scopeResponseGuard\n            .pick({ id: true, name: true, description: true, resourceId: true, resource: true })\n            .array(),\n    })\n        .array(),\n    organizations: Organizations.guard.pick({ id: true, name: true, description: true }).array(),\n    organizationRoles: z\n        .object({\n        organizationId: z.string(),\n        roleId: z.string(),\n        roleName: z.string(),\n    })\n        .array(),\n});\nexport const jwtCustomizerGrantContextGuard = z.object({\n    type: z.literal(GrantType.TokenExchange), // Only support token exchange for now\n    subjectTokenContext: jsonObjectGuard,\n});\nexport const accessTokenJwtCustomizerGuard = jwtCustomizerGuard\n    .extend({\n    // Use partial token guard since users customization may not rely on all fields.\n    tokenSample: accessTokenPayloadGuard.partial().optional(),\n    contextSample: z\n        .object({\n        user: jwtCustomizerUserContextGuard.partial(),\n        grant: jwtCustomizerGrantContextGuard.partial().optional(),\n    })\n        .optional(),\n})\n    .strict();\nexport const clientCredentialsJwtCustomizerGuard = jwtCustomizerGuard\n    .extend({\n    // Use partial token guard since users customization may not rely on all fields.\n    tokenSample: clientCredentialsPayloadGuard.partial().optional(),\n})\n    .strict();\n/**\n * This guard is for the core JWT customizer testing API request body guard.\n * Unlike the DB guard\n *\n * - rename the `tokenSample` to `token` and is required for testing.\n * - rename the `contextSample` to `context` and is required for AccessToken testing.\n */\nexport const jwtCustomizerTestRequestBodyGuard = z.discriminatedUnion('tokenType', [\n    z.object({\n        tokenType: z.literal(LogtoJwtTokenKeyType.AccessToken),\n        ...accessTokenJwtCustomizerGuard.pick({ environmentVariables: true, script: true }).shape,\n        token: accessTokenJwtCustomizerGuard.required().shape.tokenSample,\n        context: accessTokenJwtCustomizerGuard.required().shape.contextSample,\n    }),\n    z.object({\n        tokenType: z.literal(LogtoJwtTokenKeyType.ClientCredentials),\n        ...clientCredentialsJwtCustomizerGuard.pick({ environmentVariables: true, script: true }).shape,\n        token: clientCredentialsJwtCustomizerGuard.required().shape.tokenSample,\n    }),\n]);\n/**\n * This guard is for cloud API use (request body guard).\n * Since the cloud API will be use by both testing and production, should keep the fields as general as possible.\n * The response guard for the cloud API is `jsonObjectGuard` since it extends the `token` with extra claims.\n */\nconst commonJwtCustomizerGuard = jwtCustomizerGuard\n    .pick({ script: true, environmentVariables: true })\n    .required({ script: true })\n    .extend({\n    token: jsonObjectGuard,\n});\nexport const customJwtFetcherGuard = z.discriminatedUnion('tokenType', [\n    commonJwtCustomizerGuard.extend({\n        tokenType: z.literal(LogtoJwtTokenKeyType.AccessToken),\n        context: jsonObjectGuard,\n    }),\n    commonJwtCustomizerGuard.extend({\n        tokenType: z.literal(LogtoJwtTokenKeyType.ClientCredentials),\n    }),\n]);\nexport var CustomJwtErrorCode;\n(function (CustomJwtErrorCode) {\n    /**\n     * The `AccessDenied` error explicitly thrown\n     * by calling the `api.denyAccess` function in the custom JWT script.\n     */\n    CustomJwtErrorCode[\"AccessDenied\"] = \"AccessDenied\";\n    /** General JWT customizer error,\n     * this is the fallback custom jwt error code\n     * for any internal error thrown by the JWT customizer (localVM, azure function, or CF worker).\n     */\n    CustomJwtErrorCode[\"General\"] = \"General\";\n})(CustomJwtErrorCode || (CustomJwtErrorCode = {}));\nexport const customJwtErrorBodyGuard = z.object({\n    code: z.nativeEnum(CustomJwtErrorCode),\n    message: z.string(),\n});\n","import { z } from 'zod';\nimport { accessTokenJwtCustomizerGuard, clientCredentialsJwtCustomizerGuard, } from './jwt-customizer.js';\nexport * from './oidc-provider.js';\nexport * from './jwt-customizer.js';\n/**\n * Logto OIDC signing key types, used mainly in REST API routes.\n */\nexport var LogtoOidcConfigKeyType;\n(function (LogtoOidcConfigKeyType) {\n    LogtoOidcConfigKeyType[\"PrivateKeys\"] = \"private-keys\";\n    LogtoOidcConfigKeyType[\"CookieKeys\"] = \"cookie-keys\";\n})(LogtoOidcConfigKeyType || (LogtoOidcConfigKeyType = {}));\n/**\n * Value maps to config key names in `logto_configs` table. Used mainly in DB SQL related scenarios.\n */\nexport var LogtoOidcConfigKey;\n(function (LogtoOidcConfigKey) {\n    LogtoOidcConfigKey[\"PrivateKeys\"] = \"oidc.privateKeys\";\n    LogtoOidcConfigKey[\"CookieKeys\"] = \"oidc.cookieKeys\";\n})(LogtoOidcConfigKey || (LogtoOidcConfigKey = {}));\n/**\n * Logto supported signing key algorithms for OIDC private keys that sign JWT tokens.\n */\nexport var SupportedSigningKeyAlgorithm;\n(function (SupportedSigningKeyAlgorithm) {\n    SupportedSigningKeyAlgorithm[\"RSA\"] = \"RSA\";\n    SupportedSigningKeyAlgorithm[\"EC\"] = \"EC\";\n})(SupportedSigningKeyAlgorithm || (SupportedSigningKeyAlgorithm = {}));\nexport const oidcConfigKeyGuard = z.object({\n    id: z.string(),\n    value: z.string(),\n    createdAt: z.number(),\n});\nexport const logtoOidcConfigGuard = Object.freeze({\n    [LogtoOidcConfigKey.PrivateKeys]: oidcConfigKeyGuard.array(),\n    [LogtoOidcConfigKey.CookieKeys]: oidcConfigKeyGuard.array(),\n});\nexport var LogtoJwtTokenKey;\n(function (LogtoJwtTokenKey) {\n    LogtoJwtTokenKey[\"AccessToken\"] = \"jwt.accessToken\";\n    LogtoJwtTokenKey[\"ClientCredentials\"] = \"jwt.clientCredentials\";\n})(LogtoJwtTokenKey || (LogtoJwtTokenKey = {}));\nexport const jwtCustomizerConfigGuard = Object.freeze({\n    [LogtoJwtTokenKey.AccessToken]: accessTokenJwtCustomizerGuard,\n    [LogtoJwtTokenKey.ClientCredentials]: clientCredentialsJwtCustomizerGuard,\n});\nexport const jwtCustomizerConfigsGuard = z.discriminatedUnion('key', [\n    z.object({\n        key: z.literal(LogtoJwtTokenKey.AccessToken),\n        value: accessTokenJwtCustomizerGuard,\n    }),\n    z.object({\n        key: z.literal(LogtoJwtTokenKey.ClientCredentials),\n        value: clientCredentialsJwtCustomizerGuard,\n    }),\n]);\n/* --- Logto tenant configs --- */\nexport const adminConsoleDataGuard = z.object({\n    signInExperienceCustomized: z.boolean(),\n    organizationCreated: z.boolean(),\n    developmentTenantMigrationNotification: z\n        .object({\n        isPaidTenant: z.boolean(),\n        /**\n         * Tag is used to store the original tenant tag before dev tenant migration.\n         * This field is only used for DB rollback and because the `TenantTag` may change, so we don't guard it as the `TenantTag` type.\n         */\n        tag: z.string(),\n        readAt: z.number().optional(),\n    })\n        .optional(),\n    checkedChargeNotification: z\n        .object({\n        token: z.boolean().optional(),\n        apiResource: z.boolean().optional(),\n        machineToMachineApp: z.boolean().optional(),\n        tenantMember: z.boolean().optional(),\n    })\n        .optional(),\n});\n/* --- Logto tenant cloud connection config --- */\nexport const cloudConnectionDataGuard = z.object({\n    appId: z.string(),\n    appSecret: z.string(),\n    resource: z.string(),\n});\nexport var LogtoTenantConfigKey;\n(function (LogtoTenantConfigKey) {\n    LogtoTenantConfigKey[\"AdminConsole\"] = \"adminConsole\";\n    LogtoTenantConfigKey[\"CloudConnection\"] = \"cloudConnection\";\n    /** The URL to redirect when session not found in Sign-in Experience. */\n    LogtoTenantConfigKey[\"SessionNotFoundRedirectUrl\"] = \"sessionNotFoundRedirectUrl\";\n})(LogtoTenantConfigKey || (LogtoTenantConfigKey = {}));\nexport const logtoTenantConfigGuard = Object.freeze({\n    [LogtoTenantConfigKey.AdminConsole]: adminConsoleDataGuard,\n    [LogtoTenantConfigKey.CloudConnection]: cloudConnectionDataGuard,\n    [LogtoTenantConfigKey.SessionNotFoundRedirectUrl]: z.object({ url: z.string() }),\n});\nexport const logtoConfigKeys = Object.freeze([\n    ...Object.values(LogtoOidcConfigKey),\n    ...Object.values(LogtoJwtTokenKey),\n    ...Object.values(LogtoTenantConfigKey),\n]);\nexport const logtoConfigGuards = Object.freeze({\n    ...logtoOidcConfigGuard,\n    ...jwtCustomizerConfigGuard,\n    ...logtoTenantConfigGuard,\n});\nexport const oidcConfigKeysResponseGuard = oidcConfigKeyGuard\n    .omit({ value: true })\n    .merge(z.object({ signingKeyAlgorithm: z.nativeEnum(SupportedSigningKeyAlgorithm).optional() }));\n","import { emailRegEx, phoneRegEx } from '@logto/core-kit';\nimport { z } from 'zod';\nconst emailIdentifierGuard = z.string().regex(emailRegEx);\nconst phoneIdentifierGuard = z.string().regex(phoneRegEx);\nconst codeGuard = z.string().min(1);\n// Used when requesting Logto to send a verification code to email or phone\nexport const requestVerificationCodePayloadGuard = z.union([\n    z.object({ email: emailIdentifierGuard }),\n    z.object({ phone: phoneIdentifierGuard }),\n]);\nexport const emailVerificationCodePayloadGuard = z.object({\n    email: emailIdentifierGuard,\n    verificationCode: codeGuard,\n});\nexport const phoneVerificationCodePayloadGuard = z.object({\n    phone: phoneIdentifierGuard,\n    verificationCode: codeGuard,\n});\n// Used when requesting Logto to verify the validity of a verification code\nexport const verifyVerificationCodePayloadGuard = z.union([\n    emailVerificationCodePayloadGuard,\n    phoneVerificationCodePayloadGuard,\n]);\n","/* eslint-disable max-lines */\nimport { emailRegEx, phoneRegEx, usernameRegEx } from '@logto/core-kit';\nimport { z } from 'zod';\nimport { AdditionalIdentifier, MfaFactor, SignInIdentifier, jsonObjectGuard, webAuthnTransportGuard, } from '../foundations/index.js';\nimport { emailVerificationCodePayloadGuard, phoneVerificationCodePayloadGuard, } from './verification-code.js';\n/**\n * User interaction events defined in Logto RFC 0004.\n * @see {@link https://github.com/logto-io/rfcs | Logto RFCs} for more information.\n */\nexport var InteractionEvent;\n(function (InteractionEvent) {\n    InteractionEvent[\"SignIn\"] = \"SignIn\";\n    InteractionEvent[\"Register\"] = \"Register\";\n    InteractionEvent[\"ForgotPassword\"] = \"ForgotPassword\";\n})(InteractionEvent || (InteractionEvent = {}));\nexport const verificationIdentifierGuard = z.object({\n    type: z.union([z.nativeEnum(SignInIdentifier), z.nativeEnum(AdditionalIdentifier)]),\n    value: z.string(),\n});\nexport const interactionIdentifierGuard = z.object({\n    type: z.nativeEnum(SignInIdentifier),\n    value: z.string(),\n});\nexport const verificationCodeIdentifierGuard = z.object({\n    type: z.enum([SignInIdentifier.Email, SignInIdentifier.Phone]),\n    value: z.string(),\n});\nexport const socialAuthorizationUrlPayloadGuard = z.object({\n    state: z.string(),\n    redirectUri: z.string(),\n});\nexport const socialVerificationCallbackPayloadGuard = z.object({\n    connectorData: jsonObjectGuard,\n    verificationId: z.string().optional(),\n});\nexport const passwordVerificationPayloadGuard = z.object({\n    identifier: interactionIdentifierGuard,\n    password: z.string().min(1),\n});\nexport const totpVerificationVerifyPayloadGuard = z.object({\n    code: z.string().min(1),\n    verificationId: z.string().optional(),\n});\nexport const backupCodeVerificationVerifyPayloadGuard = z.object({\n    code: z.string().min(1),\n});\nexport const oneTimeTokenVerificationVerifyPayloadGuard = z.object({\n    identifier: z.object({\n        type: z.literal(SignInIdentifier.Email),\n        value: z.string().regex(emailRegEx),\n    }),\n    token: z.string().min(1),\n});\nexport const identificationApiPayloadGuard = z.object({\n    verificationId: z.string().optional(),\n    linkSocialIdentity: z.boolean().optional(),\n});\nexport const CreateExperienceApiPayloadGuard = z.object({\n    interactionEvent: z.nativeEnum(InteractionEvent),\n    captchaToken: z.string().optional(),\n});\n/** Payload type for `POST /api/experience/profile */\nexport const updateProfileApiPayloadGuard = z.discriminatedUnion('type', [\n    z.object({\n        type: z.literal(SignInIdentifier.Username),\n        value: z.string().regex(usernameRegEx),\n    }),\n    z.object({\n        type: z.literal('password'),\n        value: z.string(),\n    }),\n    z.object({\n        type: z.literal(SignInIdentifier.Email),\n        verificationId: z.string(),\n    }),\n    z.object({\n        type: z.literal(SignInIdentifier.Phone),\n        verificationId: z.string(),\n    }),\n    z.object({\n        type: z.literal('social'),\n        verificationId: z.string(),\n    }),\n]);\n// ====== Experience API payload guard and types definitions end ======\n/**\n * Legacy interaction identifier payload guard\n *\n * @remark\n * Following are the types for legacy interaction APIs. They are all treated as deprecated, and can be removed\n * once the new Experience API are fully implemented and migrated.\n * =================================================================================================================\n */\n/**\n * Detailed interaction identifier payload guard\n */\nconst usernamePasswordPayloadGuard = z.object({\n    username: z.string().min(1),\n    password: z.string().min(1),\n});\nexport const emailPasswordPayloadGuard = z.object({\n    email: z.string().min(1),\n    password: z.string().min(1),\n});\nexport const phonePasswordPayloadGuard = z.object({\n    phone: z.string().min(1),\n    password: z.string().min(1),\n});\nexport const socialConnectorPayloadGuard = z.object({\n    connectorId: z.string(),\n    connectorData: jsonObjectGuard,\n});\nexport const socialEmailPayloadGuard = z.object({\n    connectorId: z.string(),\n    email: z.string(),\n});\nexport const socialPhonePayloadGuard = z.object({\n    connectorId: z.string(),\n    phone: z.string(),\n});\nexport const eventGuard = z.nativeEnum(InteractionEvent);\nexport const identifierPayloadGuard = z.union([\n    usernamePasswordPayloadGuard,\n    emailPasswordPayloadGuard,\n    phonePasswordPayloadGuard,\n    emailVerificationCodePayloadGuard,\n    phoneVerificationCodePayloadGuard,\n    socialConnectorPayloadGuard,\n    socialEmailPayloadGuard,\n    socialPhonePayloadGuard,\n]);\nexport const profileGuard = z.object({\n    username: z.string().regex(usernameRegEx).optional(),\n    email: z.string().regex(emailRegEx).optional(),\n    phone: z.string().regex(phoneRegEx).optional(),\n    connectorId: z.string().optional(),\n    password: z.string().optional(),\n});\nexport var MissingProfile;\n(function (MissingProfile) {\n    MissingProfile[\"username\"] = \"username\";\n    MissingProfile[\"email\"] = \"email\";\n    MissingProfile[\"phone\"] = \"phone\";\n    MissingProfile[\"password\"] = \"password\";\n    MissingProfile[\"emailOrPhone\"] = \"emailOrPhone\";\n})(MissingProfile || (MissingProfile = {}));\nexport const bindTotpPayloadGuard = z.object({\n    // Unlike identifier payload which has indicator like \"email\",\n    // mfa payload must have an additional type field to indicate type\n    type: z.literal(MfaFactor.TOTP),\n    code: z.string(),\n});\nexport const bindWebAuthnPayloadGuard = z.object({\n    type: z.literal(MfaFactor.WebAuthn),\n    id: z.string(),\n    rawId: z.string(),\n    /**\n     * The response from WebAuthn API\n     *\n     * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/PublicKeyCredential}\n     */\n    response: z.object({\n        clientDataJSON: z.string(),\n        attestationObject: z.string(),\n        authenticatorData: z.string().optional(),\n        transports: webAuthnTransportGuard.array().optional(),\n        publicKeyAlgorithm: z.number().optional(),\n        publicKey: z.string().optional(),\n    }),\n    authenticatorAttachment: z.enum(['cross-platform', 'platform']).optional(),\n    clientExtensionResults: z.object({\n        appid: z.boolean().optional(),\n        crepProps: z\n            .object({\n            rk: z.boolean().optional(),\n        })\n            .optional(),\n        hmacCreateSecret: z.boolean().optional(),\n    }),\n});\nexport const bindBackupCodePayloadGuard = z.object({\n    type: z.literal(MfaFactor.BackupCode),\n});\nexport const bindMfaPayloadGuard = z.discriminatedUnion('type', [\n    bindTotpPayloadGuard,\n    bindWebAuthnPayloadGuard,\n    bindBackupCodePayloadGuard,\n]);\n/** @deprecated  Legacy interaction API use only */\nexport const totpVerificationPayloadGuard = bindTotpPayloadGuard;\nexport const webAuthnVerificationPayloadGuard = bindWebAuthnPayloadGuard\n    .omit({ response: true })\n    .extend({\n    response: z.object({\n        clientDataJSON: z.string(),\n        authenticatorData: z.string(),\n        signature: z.string(),\n        userHandle: z.string().optional(),\n    }),\n});\nexport const backupCodeVerificationPayloadGuard = z.object({\n    type: z.literal(MfaFactor.BackupCode),\n    code: z.string(),\n});\nexport const verifyMfaPayloadGuard = z.discriminatedUnion('type', [\n    totpVerificationPayloadGuard,\n    webAuthnVerificationPayloadGuard,\n    backupCodeVerificationPayloadGuard,\n]);\nexport const pendingTotpGuard = z.object({\n    type: z.literal(MfaFactor.TOTP),\n    secret: z.string(),\n});\nexport const pendingWebAuthnGuard = z.object({\n    type: z.literal(MfaFactor.WebAuthn),\n    challenge: z.string(),\n});\nexport const pendingBackupCodeGuard = z.object({\n    type: z.literal(MfaFactor.BackupCode),\n    codes: z.array(z.string()),\n});\n// Some information like TOTP secret should be generated in the backend\n// and stored in the interaction temporarily.\nexport const pendingMfaGuard = z.discriminatedUnion('type', [\n    pendingTotpGuard,\n    pendingWebAuthnGuard,\n    pendingBackupCodeGuard,\n]);\nexport const bindTotpGuard = pendingTotpGuard;\nexport const bindWebAuthnGuard = z.object({\n    type: z.literal(MfaFactor.WebAuthn),\n    credentialId: z.string(),\n    publicKey: z.string(),\n    transports: webAuthnTransportGuard.array(),\n    counter: z.number(),\n    agent: z.string(),\n});\nexport const bindBackupCodeGuard = pendingBackupCodeGuard;\n// The type for binding new mfa verification to a user, not always equals to the pending type.\nexport const bindMfaGuard = z.discriminatedUnion('type', [\n    bindTotpGuard,\n    bindWebAuthnGuard,\n    bindBackupCodeGuard,\n]);\nexport const verifyMfaResultGuard = z.object({\n    type: z.nativeEnum(MfaFactor),\n    id: z.string(),\n});\n/* eslint-enable max-lines */\n","/** Mode for matching the given value(s) and database entries. */\nexport var SearchMatchMode;\n(function (SearchMatchMode) {\n    /** Use `=` or in-array checking. */\n    SearchMatchMode[\"Exact\"] = \"exact\";\n    /** Use the keyword `LIKE`. See [Postgres docs](https://www.postgresql.org/docs/current/functions-matching.html#FUNCTIONS-LIKE). */\n    SearchMatchMode[\"Like\"] = \"like\";\n    /** Use the keyword `SIMILAR TO` for regular expression matching. See [Postgres docs](https://www.postgresql.org/docs/current/functions-matching.html#FUNCTIONS-SIMILARTO-REGEXP). */\n    SearchMatchMode[\"SimilarTo\"] = \"similar_to\";\n    /** Use the keyword `POSIX` for regular expression matching. See [Postgres docs](https://www.postgresql.org/docs/current/functions-matching.html#FUNCTIONS-POSIX-REGEXP). */\n    SearchMatchMode[\"Posix\"] = \"posix\";\n})(SearchMatchMode || (SearchMatchMode = {}));\n/** Mode for joining multiple expressions when searching. */\nexport var SearchJointMode;\n(function (SearchJointMode) {\n    SearchJointMode[\"Or\"] = \"or\";\n    SearchJointMode[\"And\"] = \"and\";\n})(SearchJointMode || (SearchJointMode = {}));\n","import { RoleType } from '../db-entries/index.js';\n/** The role type to i18n key mapping. */\nexport const roleTypeToKey = Object.freeze({\n    [RoleType.User]: 'user',\n    [RoleType.MachineToMachine]: 'machine_to_machine',\n});\n","import { UserScope } from '@logto/core-kit';\nimport { z } from 'zod';\nimport { Applications, OrganizationScopes, Resources, Scopes, ApplicationSignInExperiences, } from '../db-entries/index.js';\n/** The guard for {@link FeaturedApplication}. */\nexport const featuredApplicationGuard = Applications.guard.pick({\n    id: true,\n    name: true,\n    type: true,\n});\nexport const applicationCreateGuard = Applications.createGuard\n    .omit({\n    id: true,\n    createdAt: true,\n    secret: true,\n    tenantId: true,\n})\n    .partial()\n    .merge(Applications.createGuard.pick({ name: true, type: true }));\nexport const applicationPatchGuard = applicationCreateGuard.partial().omit({\n    type: true,\n    isThirdParty: true,\n});\nconst resourceScopesGuard = z.array(z.object({\n    resource: Resources.guard.pick({ id: true, name: true, indicator: true }),\n    scopes: z.array(Scopes.guard.pick({ id: true, name: true, description: true })),\n}));\nexport const applicationUserConsentScopesResponseGuard = z.object({\n    organizationScopes: z.array(OrganizationScopes.guard.pick({ id: true, name: true, description: true })),\n    resourceScopes: resourceScopesGuard,\n    organizationResourceScopes: resourceScopesGuard,\n    userScopes: z.array(z.nativeEnum(UserScope)),\n});\nexport var ApplicationUserConsentScopeType;\n(function (ApplicationUserConsentScopeType) {\n    ApplicationUserConsentScopeType[\"OrganizationScopes\"] = \"organization-scopes\";\n    ApplicationUserConsentScopeType[\"ResourceScopes\"] = \"resource-scopes\";\n    ApplicationUserConsentScopeType[\"OrganizationResourceScopes\"] = \"organization-resource-scopes\";\n    ApplicationUserConsentScopeType[\"UserScopes\"] = \"user-scopes\";\n})(ApplicationUserConsentScopeType || (ApplicationUserConsentScopeType = {}));\nexport const applicationSignInExperienceCreateGuard = ApplicationSignInExperiences.createGuard\n    .omit({\n    applicationId: true,\n    tenantId: true,\n    termsOfUseUrl: true,\n    privacyPolicyUrl: true,\n})\n    // Align with the sign-in-experience create guard.\n    .merge(z.object({\n    termsOfUseUrl: z.string().max(2048).url().optional().nullable().or(z.literal('')),\n    privacyPolicyUrl: z.string().max(2048).url().optional().nullable().or(z.literal('')),\n}));\n","import { z } from 'zod';\n// Alteration state\nexport var AlterationStateKey;\n(function (AlterationStateKey) {\n    AlterationStateKey[\"AlterationState\"] = \"alterationState\";\n})(AlterationStateKey || (AlterationStateKey = {}));\nexport const alterationStateGuard = Object.freeze({\n    [AlterationStateKey.AlterationState]: z.object({\n        timestamp: z.number(),\n        updatedAt: z.string().optional(),\n    }),\n});\n// Storage provider\nexport var StorageProvider;\n(function (StorageProvider) {\n    StorageProvider[\"AzureStorage\"] = \"AzureStorage\";\n    StorageProvider[\"S3Storage\"] = \"S3Storage\";\n    StorageProvider[\"GoogleStorage\"] = \"GoogleStorage\";\n})(StorageProvider || (StorageProvider = {}));\nconst basicConfig = {\n    publicUrl: z.string().optional(),\n};\nexport const storageProviderDataGuard = z.discriminatedUnion('provider', [\n    z.object({\n        provider: z.literal(StorageProvider.AzureStorage),\n        connectionString: z.string(),\n        container: z.string(),\n        ...basicConfig,\n    }),\n    z.object({\n        provider: z.literal(StorageProvider.S3Storage),\n        endpoint: z.string().optional(),\n        region: z.string().optional(),\n        bucket: z.string(),\n        forcePathStyle: z.boolean().optional(),\n        accessKeyId: z.string(),\n        accessSecretKey: z.string(),\n        ...basicConfig,\n    }),\n    z.object({\n        provider: z.literal(StorageProvider.GoogleStorage),\n        projectId: z.string(),\n        keyFilename: z.string(),\n        bucketName: z.string(),\n        ...basicConfig,\n    }),\n]);\nexport var StorageProviderKey;\n(function (StorageProviderKey) {\n    StorageProviderKey[\"StorageProvider\"] = \"storageProvider\";\n    StorageProviderKey[\"ExperienceBlobsProvider\"] = \"experienceBlobsProvider\";\n    StorageProviderKey[\"ExperienceZipsProvider\"] = \"experienceZipsProvider\";\n})(StorageProviderKey || (StorageProviderKey = {}));\nexport const storageProviderGuard = Object.freeze({\n    [StorageProviderKey.StorageProvider]: storageProviderDataGuard,\n    [StorageProviderKey.ExperienceBlobsProvider]: storageProviderDataGuard,\n    [StorageProviderKey.ExperienceZipsProvider]: storageProviderDataGuard,\n});\n// Email service provider\nexport var EmailServiceProvider;\n(function (EmailServiceProvider) {\n    EmailServiceProvider[\"SendGrid\"] = \"SendGrid\";\n})(EmailServiceProvider || (EmailServiceProvider = {}));\nexport const sendgridEmailServiceConfigGuard = z.object({\n    provider: z.literal(EmailServiceProvider.SendGrid),\n    apiKey: z.string(),\n    templateId: z.string(),\n    fromName: z.string(),\n    fromEmail: z.string(),\n});\nexport const emailServiceConfigGuard = z.discriminatedUnion('provider', [\n    sendgridEmailServiceConfigGuard,\n]);\nexport var EmailServiceProviderKey;\n(function (EmailServiceProviderKey) {\n    EmailServiceProviderKey[\"EmailServiceProvider\"] = \"emailServiceProvider\";\n})(EmailServiceProviderKey || (EmailServiceProviderKey = {}));\nexport const emailServiceProviderGuard = Object.freeze({\n    [EmailServiceProviderKey.EmailServiceProvider]: emailServiceConfigGuard,\n});\n// Demo social connectors\nexport var DemoSocialProvider;\n(function (DemoSocialProvider) {\n    DemoSocialProvider[\"Google\"] = \"google\";\n    DemoSocialProvider[\"GitHub\"] = \"github\";\n    DemoSocialProvider[\"Discord\"] = \"discord\";\n})(DemoSocialProvider || (DemoSocialProvider = {}));\nexport const demoSocialDataGuard = z\n    .object({\n    name: z.string(),\n    logo: z.string(),\n    logoDark: z.string(),\n    provider: z.nativeEnum(DemoSocialProvider),\n    clientId: z.string(),\n})\n    .array();\nexport var DemoSocialKey;\n(function (DemoSocialKey) {\n    DemoSocialKey[\"DemoSocial\"] = \"demoSocial\";\n})(DemoSocialKey || (DemoSocialKey = {}));\nexport const demoSocialGuard = Object.freeze({\n    [DemoSocialKey.DemoSocial]: demoSocialDataGuard,\n});\n// Cloudflare Hostnames\nexport const hostnameProviderDataGuard = z.object({\n    zoneId: z.string(),\n    apiToken: z.string(), // Requires zone permission for \"SSL and Certificates Edit\"\n    blockedDomains: z.string().array().optional(), // Optional list of blocked domains\n});\n// Cloudflare KV for protected app config\nexport const protectedAppConfigProviderDataGuard = z.object({\n    /* Cloudflare Workers & Pages account ID */\n    accountIdentifier: z.string(),\n    /* KV namespace ID */\n    namespaceIdentifier: z.string(),\n    /* Key prefix for protected app config */\n    keyName: z.string(),\n    /* The default domain (e.g protected.app) for the protected app */\n    domain: z.string(),\n    apiToken: z.string(), // Requires account permission for \"KV Storage Edit\"\n});\n/**\n * Cloudflare workers config for custom JWT.\n * Ref: https://developers.cloudflare.com/api/\n */\nexport const customJwtWorkerConfigGuard = z.object({\n    /** Cloudflare API Key (api_key). */\n    apiKey: z.string(),\n    /** Cloudflare API Key (api_email). */\n    apiEmail: z.string(),\n    /** Cloudflare account ID. */\n    accountId: z.string(),\n    /** Default Cloudflare subdomain for the account. */\n    subdomain: z.string(),\n});\nexport var CloudflareKey;\n(function (CloudflareKey) {\n    CloudflareKey[\"HostnameProvider\"] = \"cloudflareHostnameProvider\";\n    CloudflareKey[\"ProtectedAppConfigProvider\"] = \"cloudflareProtectedAppConfigProvider\";\n    CloudflareKey[\"ProtectedAppHostnameProvider\"] = \"cloudflareProtectedAppHostnameProvider\";\n    CloudflareKey[\"CustomJwtWorkerConfig\"] = \"cloudflareCustomJwtWorkerConfig\";\n})(CloudflareKey || (CloudflareKey = {}));\nexport const cloudflareGuard = Object.freeze({\n    [CloudflareKey.HostnameProvider]: hostnameProviderDataGuard,\n    [CloudflareKey.ProtectedAppConfigProvider]: protectedAppConfigProviderDataGuard,\n    [CloudflareKey.ProtectedAppHostnameProvider]: hostnameProviderDataGuard,\n    [CloudflareKey.CustomJwtWorkerConfig]: customJwtWorkerConfigGuard,\n});\nexport const systemKeys = Object.freeze([\n    ...Object.values(AlterationStateKey),\n    ...Object.values(StorageProviderKey),\n    ...Object.values(DemoSocialKey),\n    ...Object.values(CloudflareKey),\n    ...Object.values(EmailServiceProviderKey),\n]);\nexport const systemGuards = Object.freeze({\n    ...alterationStateGuard,\n    ...storageProviderGuard,\n    ...demoSocialGuard,\n    ...cloudflareGuard,\n    ...emailServiceProviderGuard,\n});\n","import { z } from 'zod';\nexport const maxUploadFileSize = 20 * 1024 * 1024; // 20 MB\n// Reference: https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types\nexport const allowUploadMimeTypes = [\n    'image/jpeg',\n    'image/png',\n    'image/gif',\n    'image/vnd.microsoft.icon',\n    'image/x-icon',\n    'image/svg+xml',\n    'image/tiff',\n    'image/webp',\n    'image/bmp',\n    'application/zip',\n];\nconst allowUploadMimeTypeGuard = z.enum(allowUploadMimeTypes);\nexport const userAssetsServiceStatusGuard = z.object({\n    status: z.union([z.literal('ready'), z.literal('not_configured')]),\n    allowUploadMimeTypes: z.array(allowUploadMimeTypeGuard).optional(),\n    maxUploadFileSize: z.number().optional(),\n});\nexport const userAssetsGuard = z.object({\n    url: z.string(),\n});\nexport const uploadFileGuard = z.object({\n    filepath: z.string(),\n    mimetype: z.string(),\n    originalFilename: z.string(),\n    size: z.number(),\n});\nexport const mimeTypeToFileExtensionMappings = Object.freeze({\n    'image/jpeg': ['jpeg', 'jpg'],\n    'image/png': ['png'],\n    'image/gif': ['gif'],\n    'image/vnd.microsoft.icon': ['ico'],\n    'image/x-icon': ['ico'],\n    'image/svg+xml': ['svg'],\n    'image/tiff': ['tif', 'tiff'],\n    'image/webp': ['webp'],\n    'image/bmp': ['bmp'],\n    'application/zip': ['zip'],\n});\n","import { z } from 'zod';\nimport { Hooks } from '../db-entries/index.js';\nconst hookExecutionStatsGuard = z.object({\n    successCount: z.number(),\n    requestCount: z.number(),\n});\nexport const hookResponseGuard = Hooks.guard.extend({\n    executionStats: hookExecutionStatsGuard,\n});\nexport const hookTestErrorResponseDataGuard = z.object({\n    responseStatus: z.number(),\n    responseBody: z.string(),\n});\n","export var ServiceLogType;\n(function (ServiceLogType) {\n    ServiceLogType[\"SendEmail\"] = \"sendEmail\";\n    ServiceLogType[\"SendSms\"] = \"sendSms\";\n    ServiceLogType[\"FetchCustomJwt\"] = \"fetchCustomJwt\";\n})(ServiceLogType || (ServiceLogType = {}));\n","import { z } from 'zod';\nexport const logtoUiCookieGuard = z\n    .object({ appId: z.string(), organizationId: z.string() })\n    .partial();\n","import { number, object, array, string } from 'zod';\nconst dashboardUsersDataGuard = object({\n    count: number(),\n    delta: number(),\n});\nexport const getNewUsersResponseGuard = object({\n    today: dashboardUsersDataGuard,\n    last7Days: dashboardUsersDataGuard,\n});\nexport const getActiveUsersResponseGuard = object({\n    dauCurve: array(object({\n        date: string(),\n        count: number(),\n    })),\n    dau: dashboardUsersDataGuard,\n    wau: dashboardUsersDataGuard,\n    mau: dashboardUsersDataGuard,\n});\n","import { Domains } from '../db-entries/index.js';\nexport const domainSelectFields = Object.freeze([\n    'id',\n    'domain',\n    'status',\n    'errorMessage',\n    'dnsRecords',\n]);\nexport const domainResponseGuard = Domains.guard.pick({\n    id: true,\n    domain: true,\n    status: true,\n    errorMessage: true,\n    dnsRecords: true,\n});\n","import { z } from 'zod';\nimport { webAuthnTransportGuard } from '../foundations/jsonb-types/index.js';\nexport const webAuthnRegistrationOptionsGuard = z.object({\n    rp: z.object({\n        name: z.string(),\n        id: z.string().optional(),\n    }),\n    user: z.object({\n        id: z.string(),\n        name: z.string(),\n        displayName: z.string(),\n    }),\n    challenge: z.string(),\n    pubKeyCredParams: z.array(z.object({\n        type: z.literal('public-key'),\n        alg: z.number(),\n    })),\n    timeout: z.number().optional(),\n    excludeCredentials: z\n        .array(z.object({\n        type: z.literal('public-key'),\n        id: z.string(),\n        transports: webAuthnTransportGuard.array().optional(),\n    }))\n        .optional(),\n    authenticatorSelection: z\n        .object({\n        authenticatorAttachment: z.enum(['platform', 'cross-platform']).optional(),\n        requireResidentKey: z.boolean().optional(),\n        residentKey: z.enum(['discouraged', 'preferred', 'required']).optional(),\n        userVerification: z.enum(['required', 'preferred', 'discouraged']).optional(),\n    })\n        .optional(),\n    attestation: z.enum(['none', 'indirect', 'direct', 'enterprise']).optional(),\n    extensions: z\n        .object({\n        appid: z.string().optional(),\n        credProps: z.boolean().optional(),\n        hmacCreateSecret: z.boolean().optional(),\n    })\n        .optional(),\n});\nexport const webAuthnAuthenticationOptionsGuard = z.object({\n    challenge: z.string(),\n    timeout: z.number().optional(),\n    rpId: z.string().optional(),\n    allowCredentials: z\n        .array(z.object({\n        type: z.literal('public-key'),\n        id: z.string(),\n        transports: webAuthnTransportGuard.array().optional(),\n    }))\n        .optional(),\n    userVerification: z.enum(['required', 'preferred', 'discouraged']).optional(),\n    extensions: z\n        .object({\n        appid: z.string().optional(),\n        credProps: z.boolean().optional(),\n        hmacCreateSecret: z.boolean().optional(),\n    })\n        .optional(),\n});\n","import { z } from 'zod';\nimport { OrganizationRoles, Organizations, OrganizationInvitations, Applications, } from '../db-entries/index.js';\nimport { userInfoGuard } from './user.js';\nexport const organizationRoleWithScopesGuard = OrganizationRoles.guard.extend({\n    scopes: z\n        .object({\n        id: z.string(),\n        name: z.string(),\n    })\n        .array(),\n    resourceScopes: z\n        .object({\n        id: z.string(),\n        name: z.string(),\n        resource: z.object({\n            id: z.string(),\n            name: z.string(),\n        }),\n    })\n        .array(),\n});\nconst organizationRoleEntityGuard = z.object({\n    id: z.string(),\n    name: z.string(),\n});\nexport const organizationWithOrganizationRolesGuard = Organizations.guard.extend({\n    organizationRoles: organizationRoleEntityGuard.array(),\n});\nexport const userWithOrganizationRolesGuard = userInfoGuard.extend({\n    organizationRoles: organizationRoleEntityGuard.array(),\n});\nexport const applicationWithOrganizationRolesGuard = Applications.guard.extend({\n    organizationRoles: organizationRoleEntityGuard.array(),\n});\nexport const organizationInvitationEntityGuard = OrganizationInvitations.guard.extend({\n    organizationRoles: organizationRoleEntityGuard.array(),\n});\n","import { z } from 'zod';\nimport { SsoConnectors } from '../db-entries/sso-connector.js';\n/**\n * SSO Connector data type that are returned to the experience client for sign-in use.\n */\nexport const ssoConnectorMetadataGuard = z.object({\n    id: z.string(),\n    connectorName: z.string(),\n    logo: z.string(),\n    darkLogo: z.string().optional(),\n});\nexport var SsoProviderName;\n(function (SsoProviderName) {\n    SsoProviderName[\"OIDC\"] = \"OIDC\";\n    SsoProviderName[\"SAML\"] = \"SAML\";\n    SsoProviderName[\"AZURE_AD\"] = \"AzureAD\";\n    SsoProviderName[\"GOOGLE_WORKSPACE\"] = \"GoogleWorkspace\";\n    SsoProviderName[\"OKTA\"] = \"Okta\";\n    SsoProviderName[\"AZURE_AD_OIDC\"] = \"AzureAdOidc\";\n})(SsoProviderName || (SsoProviderName = {}));\nexport var SsoProviderType;\n(function (SsoProviderType) {\n    SsoProviderType[\"OIDC\"] = \"oidc\";\n    SsoProviderType[\"SAML\"] = \"saml\";\n})(SsoProviderType || (SsoProviderType = {}));\nexport const singleSignOnDomainBlackList = Object.freeze([\n    'gmail.com',\n    'yahoo.com',\n    'hotmail.com',\n    'outlook.com',\n    'live.com',\n    'icloud.com',\n    'aol.com',\n    'yandex.com',\n    'mail.com',\n    'protonmail.com',\n    'yanex.com',\n    'gmx.com',\n    'mail.ru',\n    'zoho.com',\n    'qq.com',\n    '163.com',\n    '126.com',\n    'sina.com',\n    'sohu.com',\n]);\nconst ssoConnectorProviderDetailGuard = z.object({\n    providerName: z.nativeEnum(SsoProviderName),\n    providerType: z.nativeEnum(SsoProviderType),\n    logo: z.string(),\n    logoDark: z.string(),\n    description: z.string(),\n    name: z.string(),\n});\nexport const ssoConnectorProvidersResponseGuard = z.array(ssoConnectorProviderDetailGuard);\n// API response guard for all the SSO connectors CRUD APIs\nexport const ssoConnectorWithProviderConfigGuard = SsoConnectors.guard\n    // Must be a supported SSO provider name. Overwrite the providerName string type to enum.\n    .extend({ providerName: z.nativeEnum(SsoProviderName) })\n    .merge(\n// Static provider details\nz.object({\n    name: z.string(),\n    providerType: z.nativeEnum(SsoProviderType),\n    providerLogo: z.string(),\n    providerLogoDark: z.string(),\n    // SSO connection config parsed from the provider.\n    // - OIDC: connection config fetched from the OIDC provider.\n    // - SAML: connection config fetched from the metadata url or metadata file.\n    providerConfig: z.record(z.unknown()).optional(),\n}));\nexport var SsoAuthenticationQueryKey;\n(function (SsoAuthenticationQueryKey) {\n    SsoAuthenticationQueryKey[\"SsoConnectorId\"] = \"ssoConnectorId\";\n})(SsoAuthenticationQueryKey || (SsoAuthenticationQueryKey = {}));\n","export var TenantTag;\n(function (TenantTag) {\n    /* Development tenants are free to use but are not meant to be used as production environment. */\n    TenantTag[\"Development\"] = \"development\";\n    /* A production tenant must have an associated subscription plan, even if it's a free plan. */\n    TenantTag[\"Production\"] = \"production\";\n})(TenantTag || (TenantTag = {}));\n","export const defaultTenantId = 'default';\nexport const adminTenantId = 'admin';\n","/**\n * @fileoverview\n * Tenant organizations are organizations in the admin tenant that represent tenants. They are\n * created when a tenant is created, and are used to define the roles and scopes for the users in\n * the tenant.\n *\n * This module provides utilities to manage tenant organizations.\n */\nimport { RoleType, } from '../db-entries/index.js';\nimport { adminTenantId } from '../seeds/tenant.js';\n/** Given a tenant ID, return the corresponding organization ID in the admin tenant. */\nexport const getTenantOrganizationId = (tenantId) => `t-${tenantId}`;\n/** Given an admin tenant organization ID, check the format and return the corresponding user tenant ID. */\nexport const getTenantIdFromOrganizationId = (organizationId) => {\n    if (!organizationId.startsWith('t-')) {\n        throw new Error(`Invalid admin tenant organization ID: ${organizationId}`);\n    }\n    return organizationId.slice(2);\n};\n/**\n * Given a tenant ID, return the organization create data for the admin tenant. It follows a\n * convention to generate the organization ID and name which can be used across the system.\n *\n * @example\n * ```ts\n * const tenantId = 'test-tenant';\n * const createData = getCreateData(tenantId);\n *\n * expect(createData).toEqual({\n *   tenantId: 'admin',\n *   id: 't-test-tenant',\n *   name: 'Tenant test-tenant',\n * });\n * ```\n *\n * @see {@link getId} for the convention of generating the organization ID.\n */\nexport const getTenantOrganizationCreateData = (tenantId) => Object.freeze({\n    tenantId: adminTenantId,\n    id: getTenantOrganizationId(tenantId),\n    name: `Tenant ${tenantId}`,\n});\n/**\n * Scope names in organization template for managing tenants.\n *\n * @remarks\n * Should sync JSDoc descriptions with {@link tenantScopeDescriptions}.\n */\nexport var TenantScope;\n(function (TenantScope) {\n    /** Read the tenant data. */\n    TenantScope[\"ReadData\"] = \"read:data\";\n    /** Write the tenant data, including creating and updating the tenant. */\n    TenantScope[\"WriteData\"] = \"write:data\";\n    /** Delete data of the tenant. */\n    TenantScope[\"DeleteData\"] = \"delete:data\";\n    /** Read members of the tenant. */\n    TenantScope[\"ReadMember\"] = \"read:member\";\n    /** Invite members to the tenant. */\n    TenantScope[\"InviteMember\"] = \"invite:member\";\n    /** Remove members from the tenant. */\n    TenantScope[\"RemoveMember\"] = \"remove:member\";\n    /** Update the role of a member in the tenant. */\n    TenantScope[\"UpdateMemberRole\"] = \"update:member:role\";\n    /** Manage the tenant settings, including name, billing, etc. */\n    TenantScope[\"ManageTenant\"] = \"manage:tenant\";\n})(TenantScope || (TenantScope = {}));\nconst allTenantScopes = Object.freeze(Object.values(TenantScope));\n/**\n * Given a tenant scope, return the corresponding organization scope data in the admin tenant.\n *\n * @example\n * ```ts\n * const scope = TenantScope.ReadData; // 'read:data'\n * const scopeData = getTenantScope(scope);\n *\n * expect(scopeData).toEqual({\n *   tenantId: 'admin',\n *   id: 'read-data',\n *   name: 'read:data',\n *   description: 'Read the tenant data.',\n * });\n * ```\n *\n * @see {@link tenantScopeDescriptions} for scope descriptions of each scope.\n */\nexport const getTenantScope = (scope) => Object.freeze({\n    tenantId: adminTenantId,\n    id: scope.replaceAll(':', '-'),\n    name: scope,\n    description: tenantScopeDescriptions[scope],\n});\nconst tenantScopeDescriptions = Object.freeze({\n    [TenantScope.ReadData]: 'Read the tenant data.',\n    [TenantScope.WriteData]: 'Write the tenant data, including creating and updating the tenant.',\n    [TenantScope.DeleteData]: 'Delete data of the tenant.',\n    [TenantScope.ReadMember]: 'Read members of the tenant.',\n    [TenantScope.InviteMember]: 'Invite members to the tenant.',\n    [TenantScope.RemoveMember]: 'Remove members from the tenant.',\n    [TenantScope.UpdateMemberRole]: 'Update the role of a member in the tenant.',\n    [TenantScope.ManageTenant]: 'Manage the tenant settings, including name, billing, etc.',\n});\n/**\n * Role names in organization template for managing tenants.\n *\n * @remarks\n * Should sync JSDoc descriptions with {@link tenantRoleDescriptions}.\n */\nexport var TenantRole;\n(function (TenantRole) {\n    /** Admin of the tenant, who has all permissions. */\n    TenantRole[\"Admin\"] = \"admin\";\n    /** Collaborator of the tenant, who has permissions to operate the tenant data, but not the tenant settings. */\n    TenantRole[\"Collaborator\"] = \"collaborator\";\n})(TenantRole || (TenantRole = {}));\nconst tenantRoleDescriptions = Object.freeze({\n    [TenantRole.Admin]: 'Admin of the tenant, who has all permissions.',\n    [TenantRole.Collaborator]: 'Collaborator of the tenant, who has permissions to operate the tenant data, but not the tenant settings.',\n});\n/**\n * Given a tenant role, return the corresponding organization role data in the admin tenant.\n *\n * @example\n * ```ts\n * const role = TenantRole.Collaborator; // 'collaborator'\n * const roleData = getTenantRole(role);\n *\n * expect(roleData).toEqual({\n *   tenantId: 'admin',\n *   id: 'collaborator',\n *   name: 'collaborator',\n *   description: 'Collaborator of the tenant, who has permissions to operate the tenant data, but not the tenant settings.',\n *   type: RoleType.User,\n * });\n * ```\n *\n * @see {@link tenantRoleDescriptions} for scope descriptions of each role.\n */\nexport const getTenantRole = (role) => Object.freeze({\n    tenantId: adminTenantId,\n    id: role,\n    name: role,\n    description: tenantRoleDescriptions[role],\n    type: RoleType.User,\n});\n/**\n * The dictionary of tenant roles and their corresponding scopes.\n * @see {TenantRole} for scope descriptions of each role.\n */\nexport const tenantRoleScopes = Object.freeze({\n    [TenantRole.Admin]: allTenantScopes,\n    [TenantRole.Collaborator]: [\n        TenantScope.ReadData,\n        TenantScope.WriteData,\n        TenantScope.DeleteData,\n        TenantScope.ReadMember,\n    ],\n});\n","import { z } from 'zod';\nimport { Applications, Users, Organizations, Resources, Scopes, ApplicationSignInExperiences, } from '../db-entries/index.js';\n/**\n * Define the public user info that can be exposed to the public. e.g. on the user consent page.\n */\nexport const publicUserInfoGuard = Users.guard.pick({\n    id: true,\n    name: true,\n    avatar: true,\n    username: true,\n    primaryEmail: true,\n    primaryPhone: true,\n});\n/**\n * Define the public application info that can be exposed to the public. e.g. on the user consent page.\n */\nexport const publicApplicationGuard = Applications.guard.pick({\n    id: true,\n    name: true,\n});\nexport const applicationSignInExperienceGuard = ApplicationSignInExperiences.guard.pick({\n    branding: true,\n    displayName: true,\n    privacyPolicyUrl: true,\n    termsOfUseUrl: true,\n});\nexport const missingResourceScopesGuard = z.object({\n    // The original resource id has a maximum length of 21 restriction. We need to make it compatible with the logto reserved organization name.\n    // use string here, as we do not care about the resource id length here.\n    resource: Resources.guard.pick({ name: true, indicator: true }).extend({ id: z.string() }),\n    scopes: Scopes.guard.pick({ id: true, name: true, description: true }).array(),\n});\n/**\n * Define the public organization info that can be exposed to the public. e.g. on the user consent page.\n */\nexport const publicOrganizationGuard = Organizations.guard\n    .pick({\n    id: true,\n    name: true,\n})\n    .extend({\n    missingResourceScopes: missingResourceScopesGuard.array().optional(),\n});\nexport const consentInfoResponseGuard = z.object({\n    application: publicApplicationGuard.merge(applicationSignInExperienceGuard.partial()),\n    user: publicUserInfoGuard,\n    organizations: publicOrganizationGuard.array().optional(),\n    missingOIDCScope: z.string().array().optional(),\n    missingResourceScopes: missingResourceScopesGuard.array().optional(),\n    redirectUri: z.string(),\n});\n","import { z } from 'zod';\nexport const userOnboardingDataKey = 'onboarding';\nexport var Project;\n(function (Project) {\n    Project[\"Personal\"] = \"personal\";\n    Project[\"Company\"] = \"company\";\n})(Project || (Project = {}));\n/** @deprecated Open-source options was for cloud preview use, no longer needed. Use default `Cloud` value for placeholder. */\nvar DeploymentType;\n(function (DeploymentType) {\n    DeploymentType[\"OpenSource\"] = \"open-source\";\n    DeploymentType[\"Cloud\"] = \"cloud\";\n})(DeploymentType || (DeploymentType = {}));\n/** @deprecated */\nexport var Title;\n(function (Title) {\n    Title[\"Developer\"] = \"developer\";\n    Title[\"TeamLead\"] = \"team-lead\";\n    Title[\"Ceo\"] = \"ceo\";\n    Title[\"Cto\"] = \"cto\";\n    Title[\"Product\"] = \"product\";\n    Title[\"Others\"] = \"others\";\n})(Title || (Title = {}));\n/** @deprecated */\nexport var CompanySize;\n(function (CompanySize) {\n    CompanySize[\"Scale1\"] = \"1\";\n    CompanySize[\"Scale2\"] = \"2-49\";\n    CompanySize[\"Scale3\"] = \"50-199\";\n    CompanySize[\"Scale4\"] = \"200-999\";\n    CompanySize[\"Scale5\"] = \"1000+\";\n})(CompanySize || (CompanySize = {}));\n/** @deprecated */\nexport var Reason;\n(function (Reason) {\n    Reason[\"Passwordless\"] = \"passwordless\";\n    Reason[\"Efficiency\"] = \"efficiency\";\n    Reason[\"AccessControl\"] = \"access-control\";\n    Reason[\"MultiTenancy\"] = \"multi-tenancy\";\n    Reason[\"Enterprise\"] = \"enterprise\";\n    Reason[\"Others\"] = \"others\";\n})(Reason || (Reason = {}));\nexport var Stage;\n(function (Stage) {\n    Stage[\"NewProduct\"] = \"new-product\";\n    Stage[\"ExistingProduct\"] = \"existing-product\";\n    Stage[\"TargetEnterpriseReady\"] = \"target-enterprise-ready\";\n})(Stage || (Stage = {}));\nexport var AdditionalFeatures;\n(function (AdditionalFeatures) {\n    AdditionalFeatures[\"CustomizeUiAndFlow\"] = \"customize-ui-and-flow\";\n    AdditionalFeatures[\"Compliance\"] = \"compliance\";\n    AdditionalFeatures[\"ExportUserDataFromLogto\"] = \"export-user-data-from-logto\";\n    AdditionalFeatures[\"BudgetControl\"] = \"budget-control\";\n    AdditionalFeatures[\"BringOwnAuth\"] = \"bring-own-auth\";\n    AdditionalFeatures[\"Others\"] = \"others\";\n})(AdditionalFeatures || (AdditionalFeatures = {}));\nconst questionnaireGuard = z.object({\n    project: z.nativeEnum(Project).optional(),\n    /** @deprecated Open-source options was for cloud preview use, no longer needed. Use default `Cloud` value for placeholder. */\n    deploymentType: z.nativeEnum(DeploymentType).optional().default(DeploymentType.Cloud),\n    /** @deprecated */\n    titles: z.array(z.nativeEnum(Title)).optional(),\n    companyName: z.string().optional(),\n    /** @deprecated */\n    companySize: z.nativeEnum(CompanySize).optional(),\n    /** @deprecated */\n    reasons: z.array(z.nativeEnum(Reason)).optional(),\n    stage: z.nativeEnum(Stage).optional(),\n    additionalFeatures: z.array(z.nativeEnum(AdditionalFeatures)).optional(),\n});\nexport const userOnboardingDataGuard = z.object({\n    questionnaire: questionnaireGuard.optional(),\n    isOnboardingDone: z.boolean().optional(),\n});\n","import { connectorMetadataGuard, googleOneTapConfigGuard, } from '@logto/connector-kit';\nimport { z } from 'zod';\nimport { SignInExperiences } from '../db-entries/index.js';\nimport { CaptchaType } from '../foundations/jsonb-types/index.js';\nimport { ssoConnectorMetadataGuard } from './sso-connector.js';\nexport const fullSignInExperienceGuard = SignInExperiences.guard.extend({\n    socialConnectors: connectorMetadataGuard\n        .omit({\n        description: true,\n        configTemplate: true,\n        formItems: true,\n        readme: true,\n        customData: true,\n    })\n        .array(),\n    ssoConnectors: ssoConnectorMetadataGuard.array(),\n    forgotPassword: z.object({ phone: z.boolean(), email: z.boolean() }),\n    isDevelopmentTenant: z.boolean(),\n    googleOneTap: googleOneTapConfigGuard\n        .extend({ clientId: z.string(), connectorId: z.string() })\n        .optional(),\n    captchaConfig: z\n        .object({\n        type: z.nativeEnum(CaptchaType),\n        siteKey: z.string(),\n    })\n        .optional(),\n});\n","import { number, object, string } from 'zod';\nexport const subjectTokenResponseGuard = object({\n    subjectToken: string(),\n    expiresIn: number(),\n});\n","import { z } from 'zod';\nimport { Applications } from '../db-entries/application.js';\nimport { SamlApplicationConfigs } from '../db-entries/saml-application-config.js';\nimport { SamlApplicationSecrets } from '../db-entries/saml-application-secret.js';\nimport { nameIdFormatGuard, NameIdFormat } from '../foundations/index.js';\nimport { applicationCreateGuard, applicationPatchGuard } from './application.js';\nconst samlAppConfigGuard = SamlApplicationConfigs.guard.pick({\n    attributeMapping: true,\n    entityId: true,\n    acsUrl: true,\n    encryption: true,\n    nameIdFormat: true,\n});\nexport const samlApplicationCreateGuard = applicationCreateGuard\n    .pick({\n    name: true,\n    description: true,\n    customData: true,\n})\n    // The reason for encapsulating attributeMapping and spMetadata into an object within the config field is that you cannot provide only one of `attributeMapping` or `spMetadata`. Due to the structure of the `saml_application_configs` table, both must be not null.\n    .merge(samlAppConfigGuard.partial())\n    .extend({ nameIdFormat: nameIdFormatGuard.optional().default(NameIdFormat.Persistent) });\nexport const samlApplicationPatchGuard = applicationPatchGuard\n    .pick({\n    name: true,\n    description: true,\n    customData: true,\n})\n    // The reason for encapsulating attributeMapping and spMetadata into an object within the config field is that you cannot provide only one of `attributeMapping` or `spMetadata`. Due to the structure of the `saml_application_configs` table, both must be not null.\n    .merge(samlAppConfigGuard.partial())\n    .extend({ nameIdFormat: nameIdFormatGuard.optional() });\nexport const samlApplicationResponseGuard = Applications.guard\n    .omit({\n    secret: true,\n    oidcClientMetadata: true,\n    customClientMetadata: true,\n    protectedAppMetadata: true,\n})\n    .merge(\n// Partial to allow the optional fields to be omitted in the response.\n// When starting to create a SAML application, SAML configuration is optional, which can lead to the absence of SAML configuration.\nsamlAppConfigGuard)\n    .extend({ nameIdFormat: nameIdFormatGuard });\nconst fingerprintFormatGuard = z.object({\n    formatted: z.string(),\n    unformatted: z.string(),\n});\nexport const certificateFingerprintsGuard = z.object({\n    sha256: fingerprintFormatGuard,\n});\n// Make sure the `privateKey` is not exposed in the response.\nexport const samlApplicationSecretResponseGuard = SamlApplicationSecrets.guard\n    .omit({\n    tenantId: true,\n    applicationId: true,\n    privateKey: true,\n})\n    .extend({\n    fingerprints: certificateFingerprintsGuard,\n});\n","import { generateStandardId } from '@logto/shared/universal';\nimport { RoleType } from '../db-entries/index.js';\nimport { AdminTenantRole } from '../types/index.js';\nimport { adminTenantId } from './tenant.js';\n/** The API Resource Indicator for Logto Cloud. It's only useful when domain-based multi-tenancy is enabled. */\nexport const cloudApiIndicator = 'https://cloud.logto.io/api';\nexport var CloudScope;\n(function (CloudScope) {\n    /** The user can create a user tenant. */\n    CloudScope[\"CreateTenant\"] = \"create:tenant\";\n    /** The user can update or delete its own tenants. */\n    CloudScope[\"ManageTenantSelf\"] = \"manage:tenant:self\";\n    CloudScope[\"SendSms\"] = \"send:sms\";\n    CloudScope[\"SendEmail\"] = \"send:email\";\n    /**\n     * The user can access external (independent from Logto instance) resource to run JWT payload customizer\n     * scripts and fetch the parsed token payload.\n     */\n    CloudScope[\"FetchCustomJwt\"] = \"fetch:custom:jwt\";\n    /**\n     * The entity can report changes on Stripe subscription to Logto Cloud.\n     */\n    CloudScope[\"ReportSubscriptionUpdates\"] = \"report:subscription:updates\";\n    /** The user can see and manage affiliates, including create, update, and delete. */\n    CloudScope[\"ManageAffiliate\"] = \"manage:affiliate\";\n    /** The user can create new affiliates and logs. */\n    CloudScope[\"CreateAffiliate\"] = \"create:affiliate\";\n})(CloudScope || (CloudScope = {}));\nexport const createCloudApi = () => {\n    const resourceId = generateStandardId();\n    const buildScope = (name, description) => ({\n        tenantId: adminTenantId,\n        id: generateStandardId(),\n        name,\n        description,\n        resourceId,\n    });\n    return Object.freeze([\n        {\n            resource: {\n                tenantId: adminTenantId,\n                id: resourceId,\n                indicator: cloudApiIndicator,\n                name: `Logto Cloud API`,\n            },\n            scopes: [\n                buildScope(CloudScope.CreateTenant, 'Allow creating new tenants.'),\n                buildScope(CloudScope.ManageTenantSelf, 'Allow managing tenant itself, including update and delete.'),\n            ],\n            role: {\n                tenantId: adminTenantId,\n                name: AdminTenantRole.User,\n            },\n        },\n        buildScope(CloudScope.SendEmail, 'Allow sending emails. This scope is only available to M2M application.'),\n        buildScope(CloudScope.SendSms, 'Allow sending SMS. This scope is only available to M2M application.'),\n        buildScope(CloudScope.FetchCustomJwt, 'Allow accessing external resource to execute JWT payload customizer script and fetch the parsed token payload.'),\n        buildScope(CloudScope.ReportSubscriptionUpdates, 'Allow reporting changes on Stripe subscription to Logto Cloud.'),\n        buildScope(CloudScope.CreateAffiliate, 'Allow creating new affiliates and logs.'),\n        buildScope(CloudScope.ManageAffiliate, 'Allow managing affiliates, including create, update, and delete.'),\n    ]);\n};\nexport const createTenantApplicationRole = () => ({\n    tenantId: adminTenantId,\n    id: generateStandardId(),\n    name: AdminTenantRole.TenantApplication,\n    description: 'The role for M2M applications that represent a user tenant and send requests to Logto Cloud.',\n    type: RoleType.MachineToMachine,\n    isDefault: false,\n});\n","import { generateStandardId } from '@logto/shared/universal';\nimport { RoleType, } from '../db-entries/index.js';\nimport { PredefinedScope, InternalRole, AdminTenantRole, getMapiProxyRole, } from '../types/index.js';\nimport { adminTenantId, defaultTenantId } from './tenant.js';\n// Consider remove the dependency of IDs\nconst defaultResourceId = 'management-api';\nconst defaultScopeAllId = 'management-api-all';\n// Consider combining this with `createAdminData()`\n/** The fixed Management API Resource for `default` tenant. */\nexport const defaultManagementApi = Object.freeze({\n    resource: {\n        tenantId: defaultTenantId,\n        /** @deprecated You should not rely on this constant. Change to something else. */\n        id: defaultResourceId,\n        /**\n         * The fixed resource indicator for Management APIs.\n         *\n         * Admin Console requires the access token of this resource to be functional.\n         */\n        indicator: `https://${defaultTenantId}.logto.app/api`,\n        name: 'Logto Management API',\n    },\n    scopes: [\n        {\n            tenantId: defaultTenantId,\n            /** @deprecated You should not rely on this constant. Change to something else. */\n            id: defaultScopeAllId,\n            name: PredefinedScope.All,\n            description: 'Default scope for Management API, allows all permissions.',\n            /** @deprecated You should not rely on this constant. Change to something else. */\n            resourceId: defaultResourceId,\n        },\n    ],\n    /**\n     * An internal user role for Management API of the `default` tenant.\n     * @deprecated This role will be removed soon.\n     */\n    role: {\n        tenantId: defaultTenantId,\n        /** @deprecated You should not rely on this constant. Change to something else. */\n        id: 'admin-role',\n        name: InternalRole.Admin,\n        description: `Internal admin role for Logto tenant ${defaultTenantId}.`,\n        type: RoleType.MachineToMachine,\n    },\n});\nexport function getManagementApiResourceIndicator(tenantId, path = 'api') {\n    return `https://${tenantId}.logto.app/${path}`;\n}\n/**\n * The fixed Management API user role for `default` tenant in the admin tenant. It is used for\n * OSS only.\n */\nexport const defaultManagementApiAdminName = `${defaultTenantId}:admin`;\n/** Create a set of admin data for Management API of the given tenant ID. */\nexport const createAdminData = (tenantId) => {\n    const resourceId = generateStandardId();\n    return Object.freeze({\n        resource: {\n            tenantId,\n            id: resourceId,\n            indicator: getManagementApiResourceIndicator(tenantId),\n            name: `Logto Management API`,\n        },\n        scopes: [\n            {\n                tenantId,\n                id: generateStandardId(),\n                name: PredefinedScope.All,\n                description: 'Default scope for Management API, allows all permissions.',\n                resourceId,\n            },\n        ],\n        /** @deprecated This role will be removed soon. */\n        role: {\n            tenantId,\n            id: generateStandardId(),\n            name: InternalRole.Admin,\n            description: `Internal admin role for Logto tenant ${defaultTenantId}.`,\n            type: RoleType.MachineToMachine,\n        },\n    });\n};\n/** Create a set of admin data for Management API of the given tenant ID for the admin tenant. */\nexport const createAdminDataInAdminTenant = (tenantId) => {\n    const resourceId = generateStandardId();\n    return Object.freeze({\n        resource: {\n            tenantId: adminTenantId,\n            id: resourceId,\n            indicator: getManagementApiResourceIndicator(tenantId),\n            name: `Logto Management API for tenant ${tenantId}`,\n        },\n        scopes: [\n            {\n                tenantId: adminTenantId,\n                id: generateStandardId(),\n                name: PredefinedScope.All,\n                description: 'Default scope for Management API, allows all permissions.',\n                resourceId,\n            },\n        ],\n        /** The machine-to-machine role for the Management API proxy of the given tenant ID. */\n        role: getMapiProxyRole(tenantId),\n    });\n};\nexport const createMeApiInAdminTenant = () => {\n    const resourceId = generateStandardId();\n    return Object.freeze({\n        resource: {\n            tenantId: adminTenantId,\n            id: resourceId,\n            indicator: getManagementApiResourceIndicator(adminTenantId, 'me'),\n            name: `Logto Me API`,\n        },\n        scopes: [\n            {\n                tenantId: adminTenantId,\n                id: generateStandardId(),\n                name: PredefinedScope.All,\n                description: 'Default scope for Me API, allows all permissions.',\n                resourceId,\n            },\n        ],\n        role: {\n            tenantId: adminTenantId,\n            id: generateStandardId(),\n            name: AdminTenantRole.User,\n            description: 'Default role for admin tenant.',\n            type: RoleType.User,\n        },\n    });\n};\n/**\n * Create a pre-configured M2M role for Management API access.\n */\nexport const createPreConfiguredManagementApiAccessRole = (tenantId) => ({\n    tenantId,\n    id: generateStandardId(),\n    description: 'This default role grants access to the Logto management API.',\n    name: 'Logto Management API access',\n    type: RoleType.MachineToMachine,\n});\n","import { generateDarkColor } from '@logto/core-kit';\nimport { SignInMode } from '../db-entries/index.js';\nimport { MfaPolicy, SignInIdentifier } from '../foundations/index.js';\nimport { adminTenantId, defaultTenantId } from './tenant.js';\nexport const defaultPrimaryColor = '#6139F6';\nexport const createDefaultSignInExperience = (forTenantId, isCloud) => Object.freeze({\n    tenantId: forTenantId,\n    id: 'default',\n    color: {\n        primaryColor: defaultPrimaryColor,\n        isDarkModeEnabled: false,\n        darkPrimaryColor: generateDarkColor(defaultPrimaryColor),\n    },\n    branding: {\n        logoUrl: isCloud ? undefined : 'https://logto.io/logo.svg',\n        darkLogoUrl: isCloud ? undefined : 'https://logto.io/logo-dark.svg',\n    },\n    languageInfo: {\n        autoDetect: true,\n        fallbackLanguage: 'en',\n    },\n    termsOfUseUrl: null,\n    privacyPolicyUrl: null,\n    signUp: {\n        identifiers: [isCloud ? SignInIdentifier.Email : SignInIdentifier.Username],\n        password: true,\n        verify: isCloud,\n    },\n    signIn: {\n        methods: [\n            {\n                identifier: isCloud ? SignInIdentifier.Email : SignInIdentifier.Username,\n                password: true,\n                verificationCode: false,\n                isPasswordPrimary: true,\n            },\n        ],\n    },\n    socialSignInConnectorTargets: [],\n    signInMode: SignInMode.SignInAndRegister,\n    customCss: null,\n    customContent: {},\n    customUiAssets: null,\n    passwordPolicy: {},\n    mfa: {\n        factors: [],\n        policy: MfaPolicy.UserControlled,\n    },\n});\n/** @deprecated Use `createDefaultSignInExperience()` instead. */\nexport const defaultSignInExperience = createDefaultSignInExperience(defaultTenantId, false);\nexport const createAdminTenantSignInExperience = () => Object.freeze({\n    ...defaultSignInExperience,\n    tenantId: adminTenantId,\n    color: {\n        ...defaultSignInExperience.color,\n        isDarkModeEnabled: true,\n    },\n    signInMode: SignInMode.Register,\n    branding: {\n        logoUrl: 'https://logto.io/logo.svg',\n        darkLogoUrl: 'https://logto.io/logo-dark.svg',\n    },\n});\n","export const inSeconds = Object.freeze({ oneMinute: 60, oneHour: 60 * 60, oneDay: 24 * 60 * 60 });\n","import { z } from 'zod';\nimport { inSeconds } from './date.js';\nexport const tenantIdKey = 'tenant_id';\nexport const customClientMetadataDefault = Object.freeze({\n    idTokenTtl: inSeconds.oneHour,\n    refreshTokenTtlInDays: 14,\n    rotateRefreshToken: true,\n});\nexport var ExtraParamsKey;\n(function (ExtraParamsKey) {\n    /**\n     * @deprecated Use {@link FirstScreen} instead.\n     * @see {@link InteractionMode} for the available values.\n     */\n    ExtraParamsKey[\"InteractionMode\"] = \"interaction_mode\";\n    /**\n     * The first screen to show for the user.\n     *\n     * @see {@link FirstScreen} for the available values.\n     */\n    ExtraParamsKey[\"FirstScreen\"] = \"first_screen\";\n    /**\n     * Directly sign in via the specified method. Note that the method must be properly configured\n     * in Logto.\n     *\n     * @remark\n     * The format of the value for this key is one of the following:\n     *\n     * - `social:<target>` (Use a social connector with the specified target, e.g. `social:google`)\n     * - `sso:<connector-id>` (Use the specified SSO connector, e.g. `sso:123456`)\n     */\n    ExtraParamsKey[\"DirectSignIn\"] = \"direct_sign_in\";\n    /**\n     * Override the default sign-in experience configuration with the settings from the specified\n     * organization ID.\n     */\n    ExtraParamsKey[\"OrganizationId\"] = \"organization_id\";\n    /**\n     * Provides a hint about the login identifier the user might use.\n     * This can be used to pre-fill the identifier field **only on the first screen** of the sign-in/sign-up flow.\n     */\n    ExtraParamsKey[\"LoginHint\"] = \"login_hint\";\n    /**\n     * Specifies the identifier used in the identifier sign-in or identifier register page.\n     *\n     * This parameter is applicable only when first_screen is set to either `FirstScreen.IdentifierSignIn` or `FirstScreen.IdentifierRegister`.\n     * Multiple identifiers can be provided in the identifier parameter, separated by spaces.\n     *\n     * If the provided identifier is not supported in the Logto sign-in experience configuration, it will be ignored,\n     * and if no one of them is supported, it will fallback to the sign-in / sign-up method value set in the sign-in experience configuration.\n     *\n     * @see {@link SignInIdentifier} for available values.\n     */\n    ExtraParamsKey[\"Identifier\"] = \"identifier\";\n    /**\n     * The one-time token used as a proof for the user's identity. Example use case: Magic link.\n     */\n    ExtraParamsKey[\"OneTimeToken\"] = \"one_time_token\";\n})(ExtraParamsKey || (ExtraParamsKey = {}));\n/** @deprecated Use {@link FirstScreen} instead. */\nexport var InteractionMode;\n(function (InteractionMode) {\n    InteractionMode[\"SignIn\"] = \"signIn\";\n    InteractionMode[\"SignUp\"] = \"signUp\";\n})(InteractionMode || (InteractionMode = {}));\nexport var FirstScreen;\n(function (FirstScreen) {\n    FirstScreen[\"SignIn\"] = \"sign_in\";\n    FirstScreen[\"Register\"] = \"register\";\n    FirstScreen[\"ResetPassword\"] = \"reset_password\";\n    FirstScreen[\"IdentifierSignIn\"] = \"identifier:sign_in\";\n    FirstScreen[\"IdentifierRegister\"] = \"identifier:register\";\n    FirstScreen[\"SingleSignOn\"] = \"single_sign_on\";\n    /** @deprecated Use snake_case 'sign_in' instead. */\n    FirstScreen[\"SignInDeprecated\"] = \"signIn\";\n})(FirstScreen || (FirstScreen = {}));\nexport const extraParamsObjectGuard = z\n    .object({\n    [ExtraParamsKey.InteractionMode]: z.nativeEnum(InteractionMode),\n    [ExtraParamsKey.FirstScreen]: z.nativeEnum(FirstScreen),\n    [ExtraParamsKey.DirectSignIn]: z.string(),\n    [ExtraParamsKey.OrganizationId]: z.string(),\n    [ExtraParamsKey.LoginHint]: z.string(),\n    [ExtraParamsKey.Identifier]: z.string(),\n    [ExtraParamsKey.OneTimeToken]: z.string(),\n})\n    .partial();\n","/**\n * Logto-provided predefined subscription plan IDs.\n *\n * In theory, the subscription plan ID will be a random string,\n * but Logto provides some predefined subscription plans and their IDs are reserved plan IDs.\n */\nexport var ReservedPlanId;\n(function (ReservedPlanId) {\n    ReservedPlanId[\"Free\"] = \"free\";\n    /**\n     * @deprecated\n     * Grandfathered Pro plan ID deprecated from 2024-11.\n     * Use {@link Pro202411} instead.\n     */\n    ReservedPlanId[\"Pro\"] = \"pro\";\n    ReservedPlanId[\"Development\"] = \"dev\";\n    /**\n     * This plan ID is reserved for Admin tenant.\n     * In our new pricing model, we plan to add a special plan for Admin tenant, previously, admin tenant is using the `pro` plan, which is not suitable.\n     */\n    ReservedPlanId[\"Admin\"] = \"admin\";\n    /**\n     * The latest Pro plan ID applied from 2024-11.\n     */\n    ReservedPlanId[\"Pro202411\"] = \"pro-202411\";\n})(ReservedPlanId || (ReservedPlanId = {}));\n/**\n * Tenant subscription related Redis cache keys.\n *\n * We use Redis to cache the tenant subscription data to reduce the number of requests to the Cloud.\n * Both @logto/core and @logto/cloud will need to access the cache, so we define the cache keys here as the SSOT.\n */\nexport var SubscriptionRedisCacheKey;\n(function (SubscriptionRedisCacheKey) {\n    SubscriptionRedisCacheKey[\"Subscription\"] = \"subscription\";\n})(SubscriptionRedisCacheKey || (SubscriptionRedisCacheKey = {}));\n","const routes = Object.freeze({\n    signIn: 'sign-in',\n    register: 'register',\n    sso: 'single-sign-on',\n    consent: 'consent',\n    resetPassword: 'reset-password',\n    identifierSignIn: 'identifier-sign-in',\n    identifierRegister: 'identifier-register',\n    switchAccount: 'switch-account',\n    oneTimeToken: 'one-time-token',\n});\nexport const experience = Object.freeze({\n    routes,\n});\n","import { Theme } from '@logto/schemas';\nimport { noop } from '@silverhand/essentials';\nimport { createContext } from 'react';\nimport { isMobile } from 'react-device-detect';\n\nimport type { SignInExperienceResponse, Platform } from '@/types';\n\nexport type PageContextType = {\n  theme: Theme;\n  toast: string;\n  loading: boolean;\n  platform: Platform;\n  termsAgreement: boolean;\n  experienceSettings: SignInExperienceResponse | undefined;\n  isPreview: boolean;\n  setTheme: React.Dispatch<React.SetStateAction<Theme>>;\n  setToast: React.Dispatch<React.SetStateAction<string>>;\n  setLoading: React.Dispatch<React.SetStateAction<boolean>>;\n  setPlatform: React.Dispatch<React.SetStateAction<Platform>>;\n  setTermsAgreement: React.Dispatch<React.SetStateAction<boolean>>;\n  setExperienceSettings: React.Dispatch<React.SetStateAction<SignInExperienceResponse | undefined>>;\n};\n\nexport default createContext<PageContextType>({\n  toast: '',\n  theme: Theme.Light,\n  loading: false,\n  platform: isMobile ? 'mobile' : 'web',\n  termsAgreement: false,\n  experienceSettings: undefined,\n  isPreview: false,\n  setTheme: noop,\n  setToast: noop,\n  setLoading: noop,\n  setPlatform: noop,\n  setTermsAgreement: noop,\n  setExperienceSettings: noop,\n});\n","import * as React from \"react\";\nconst SvgLogtoLogoDark = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 52, height: 18, viewBox: \"0 0 52 18\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"g\", { clipPath: \"url(#clip0_1251_17490)\" }, /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M1 4.5299C1 4.15639 1 3.96963 1.06856 3.81931C1.12899 3.68684 1.22616 3.57457 1.34851 3.49586C1.48735 3.40655 1.67193 3.38004 2.0411 3.32702L7.3061 2.57085C7.784 2.50221 8.02295 2.46789 8.20864 2.54035C8.37165 2.60396 8.50768 2.72206 8.59369 2.87463C8.69167 3.04844 8.69167 3.2902 8.69167 3.77374V14.2263C8.69167 14.7098 8.69167 14.9516 8.59369 15.1254C8.50768 15.2779 8.37165 15.396 8.20864 15.4596C8.02296 15.5321 7.784 15.4978 7.30611 15.4291H7.3061L2.0411 14.673L2.04108 14.673L2.04106 14.673C1.67192 14.62 1.48734 14.5934 1.34851 14.5041C1.22616 14.4254 1.12899 14.3132 1.06856 14.1807C1 14.0304 1 13.8436 1 13.4701V4.5299ZM6.30838 8.07075C6.30838 7.959 6.30838 7.90312 6.32939 7.85895C6.3479 7.82005 6.37758 7.78756 6.41464 7.76561C6.45672 7.74068 6.51237 7.73562 6.62366 7.7255L7.12199 7.6802H7.122C7.25312 7.66828 7.31868 7.66232 7.3693 7.68419C7.41378 7.7034 7.45053 7.73696 7.47369 7.77951C7.50005 7.82795 7.50005 7.89378 7.50005 8.02544V9.97456C7.50005 10.1062 7.50005 10.1721 7.47369 10.2205C7.45053 10.263 7.41378 10.2966 7.3693 10.3158C7.31868 10.3377 7.25312 10.3317 7.12199 10.3198L6.62366 10.2745C6.51237 10.2644 6.45672 10.2593 6.41464 10.2344C6.37758 10.2124 6.3479 10.1799 6.32939 10.141C6.30838 10.0969 6.30838 10.041 6.30838 9.92925V8.07075ZM10.1866 3.58339H9.44997V14.4167H10.1866C10.6113 14.4167 10.8237 14.4167 10.9859 14.3341C11.1286 14.2614 11.2446 14.1454 11.3173 14.0027C11.4 13.8405 11.4 13.6281 11.4 13.2034V4.79673C11.4 4.37202 11.4 4.15967 11.3173 3.99745C11.2446 3.85476 11.1286 3.73875 10.9859 3.66605C10.8237 3.58339 10.6113 3.58339 10.1866 3.58339Z\", fill: \"#928F9A\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M1 4.5299C1 4.15639 1 3.96963 1.06856 3.81931C1.12899 3.68684 1.22616 3.57457 1.34851 3.49586C1.48735 3.40655 1.67193 3.38004 2.0411 3.32702L7.3061 2.57085C7.784 2.50221 8.02295 2.46789 8.20864 2.54035C8.37165 2.60396 8.50768 2.72206 8.59369 2.87463C8.69167 3.04844 8.69167 3.2902 8.69167 3.77374V14.2263C8.69167 14.7098 8.69167 14.9516 8.59369 15.1254C8.50768 15.2779 8.37165 15.396 8.20864 15.4596C8.02296 15.5321 7.784 15.4978 7.30611 15.4291H7.3061L2.0411 14.673L2.04108 14.673L2.04106 14.673C1.67192 14.62 1.48734 14.5934 1.34851 14.5041C1.22616 14.4254 1.12899 14.3132 1.06856 14.1807C1 14.0304 1 13.8436 1 13.4701V4.5299ZM6.30838 8.07075C6.30838 7.959 6.30838 7.90312 6.32939 7.85895C6.3479 7.82005 6.37758 7.78756 6.41464 7.76561C6.45672 7.74068 6.51237 7.73562 6.62366 7.7255L7.12199 7.6802H7.122C7.25312 7.66828 7.31868 7.66232 7.3693 7.68419C7.41378 7.7034 7.45053 7.73696 7.47369 7.77951C7.50005 7.82795 7.50005 7.89378 7.50005 8.02544V9.97456C7.50005 10.1062 7.50005 10.1721 7.47369 10.2205C7.45053 10.263 7.41378 10.2966 7.3693 10.3158C7.31868 10.3377 7.25312 10.3317 7.12199 10.3198L6.62366 10.2745C6.51237 10.2644 6.45672 10.2593 6.41464 10.2344C6.37758 10.2124 6.3479 10.1799 6.32939 10.141C6.30838 10.0969 6.30838 10.041 6.30838 9.92925V8.07075ZM10.1866 3.58339H9.44997V14.4167H10.1866C10.6113 14.4167 10.8237 14.4167 10.9859 14.3341C11.1286 14.2614 11.2446 14.1454 11.3173 14.0027C11.4 13.8405 11.4 13.6281 11.4 13.2034V4.79673C11.4 4.37202 11.4 4.15967 11.3173 3.99745C11.2446 3.85476 11.1286 3.73875 10.9859 3.66605C10.8237 3.58339 10.6113 3.58339 10.1866 3.58339Z\", fill: \"url(#paint0_linear_1251_17490)\" })), /* @__PURE__ */ React.createElement(\"path\", { d: \"M25.3042 13.8727C24.5566 13.8727 23.9109 13.7173 23.3672 13.4066C22.8234 13.0959 22.4059 12.6638 22.1146 12.1104C21.8233 11.5472 21.6777 10.8967 21.6777 10.1588C21.6777 9.4014 21.8282 8.746 22.1292 8.19255C22.4302 7.6391 22.8526 7.20702 23.3963 6.89632C23.9497 6.58561 24.5954 6.43025 25.3334 6.43025C26.081 6.43025 26.7218 6.58561 27.2559 6.89632C27.7996 7.20702 28.222 7.6391 28.523 8.19255C28.824 8.746 28.9745 9.39655 28.9745 10.1442C28.9745 10.8821 28.8191 11.5327 28.5084 12.0958C28.2074 12.659 27.7851 13.0959 27.2413 13.4066C26.6976 13.7076 26.0519 13.863 25.3042 13.8727ZM25.3188 12.4599C25.7266 12.4599 26.0762 12.358 26.3674 12.1541C26.6587 11.9502 26.8821 11.6735 27.0374 11.3239C27.2025 10.9744 27.285 10.5811 27.285 10.1442C27.285 9.69755 27.2073 9.29945 27.052 8.9499C26.8966 8.60036 26.6733 8.32849 26.382 8.13429C26.0907 7.93039 25.7412 7.82844 25.3334 7.82844C24.945 7.82844 24.6003 7.93039 24.2993 8.13429C23.9983 8.3382 23.7653 8.61492 23.6002 8.96447C23.4448 9.31402 23.3623 9.70726 23.3526 10.1442C23.3526 10.5908 23.4303 10.9889 23.5856 11.3385C23.741 11.688 23.9692 11.9647 24.2702 12.1686C24.5712 12.3628 24.9207 12.4599 25.3188 12.4599Z\", fill: \"#F7F8F8\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M36.4994 6.69557C36.4994 6.65361 36.4654 6.61959 36.4234 6.61959H34.9296C34.8876 6.61959 34.8536 6.65361 34.8536 6.69557V14.1494C34.8536 14.6446 34.6691 14.9522 34.3002 15.224C33.9409 15.4959 33.5368 15.5848 32.964 15.5945C32.5659 15.5848 32.1924 15.5493 31.8622 15.4425C31.5526 15.3514 31.2137 15.2176 30.8604 15.0411C30.8219 15.0219 30.775 15.0379 30.7567 15.0768L30.2198 16.2213C30.2042 16.2544 30.2144 16.2939 30.2446 16.3144C30.4084 16.4259 30.6 16.5256 30.8193 16.6133C31.062 16.7104 31.3096 16.7881 31.5621 16.8463C31.8242 16.9143 32.0951 16.971 32.3281 17.0001C32.5708 17.0292 32.8 17.0332 32.9457 17.0332C33.6836 17.0332 34.3147 16.9167 34.8391 16.6836C35.3731 16.4506 35.7809 16.1205 36.0625 15.6932C36.3538 15.266 36.4994 14.7563 36.4994 14.164V6.69557ZM35.3104 11.5198C35.2881 11.4671 35.2178 11.4569 35.1803 11.5C34.8943 11.8287 34.6043 12.0616 34.3293 12.2123C34.038 12.3774 33.703 12.4599 33.3244 12.4599C32.936 12.4599 32.5961 12.3628 32.3049 12.1686C32.0233 11.9647 31.8097 11.688 31.664 11.3385C31.5184 10.9889 31.4455 10.586 31.4455 10.1296C31.4455 9.69269 31.5184 9.30431 31.664 8.96447C31.8097 8.61492 32.0233 8.3382 32.3049 8.13429C32.5961 7.93039 32.9408 7.82844 33.3389 7.82844C33.7079 7.82844 33.9992 7.90612 34.3002 8.06147C34.5812 8.20197 34.8803 8.52282 35.1376 8.85792C35.1735 8.90461 35.2468 8.89592 35.2698 8.84172L35.6831 7.86653C35.6932 7.84278 35.6906 7.81558 35.6759 7.79442C35.1544 7.04603 34.2722 6.43025 33.2679 6.43025C32.5397 6.43025 31.965 6.58561 31.431 6.89632C30.897 7.20702 30.4843 7.6391 30.193 8.19255C29.9114 8.746 29.7706 9.39169 29.7706 10.1296C29.7706 10.887 29.9114 11.5472 30.193 12.1104C30.4746 12.6638 30.8775 13.0959 31.4019 13.4066C31.9359 13.7173 32.567 13.8727 33.2952 13.8727C33.5671 13.8727 33.8487 13.8193 34.14 13.7125C34.441 13.6154 34.7323 13.4697 35.0138 13.2755C35.2832 13.0898 35.5215 12.8684 35.7287 12.6115C35.7461 12.59 35.75 12.5606 35.7392 12.5352L35.3104 11.5198Z\", fill: \"#F7F8F8\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M41.9863 6.75383C41.9863 6.71187 41.9523 6.67785 41.9104 6.67785H40.2855C40.2435 6.67785 40.2095 6.64383 40.2095 6.60187V4.61531C40.2095 4.57334 40.1755 4.53933 40.1335 4.53933H38.6542C38.6123 4.53933 38.5783 4.57334 38.5783 4.61531V6.60187C38.5783 6.64383 38.5442 6.67785 38.5023 6.67785H37.5127C37.4704 6.67785 37.4363 6.71236 37.4367 6.75463L37.4497 7.98629C37.4501 8.02794 37.484 8.06147 37.5257 8.06147H38.5023C38.5442 8.06147 38.5783 8.09549 38.5783 8.13745V11.5715C38.5783 12.0861 38.6802 12.5231 38.8841 12.8823C39.0977 13.2319 39.389 13.4989 39.758 13.6834C40.1269 13.8678 40.5736 13.9601 41.0979 13.9601C41.2436 13.9601 41.3989 13.9407 41.564 13.9018C41.7387 13.863 41.9076 13.8221 42.0532 13.7638C42.1833 13.7151 42.4366 13.588 42.5658 13.5131C42.6001 13.4932 42.6108 13.4498 42.5914 13.4151L41.9903 12.3556C41.9714 12.3219 41.9304 12.3079 41.8944 12.3216C41.7972 12.3587 41.6968 12.3892 41.5931 12.4131C41.4669 12.4422 41.3407 12.4568 41.2144 12.4568C40.8746 12.4568 40.6221 12.4211 40.4571 12.1978C40.292 11.9647 40.2095 11.6686 40.2095 11.3093V8.13745C40.2095 8.09549 40.2435 8.06147 40.2855 8.06147H41.9104C41.9523 8.06147 41.9863 8.02745 41.9863 7.98549V6.75383Z\", fill: \"#F7F8F8\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M46.4061 13.8727C45.6584 13.8727 45.0128 13.7173 44.469 13.4066C43.9253 13.0959 43.5078 12.6638 43.2165 12.1104C42.9252 11.5472 42.7795 10.8967 42.7795 10.1588C42.7795 9.4014 42.93 8.746 43.231 8.19255C43.532 7.6391 43.9544 7.20702 44.4981 6.89632C45.0516 6.58561 45.6973 6.43025 46.4352 6.43025C47.1829 6.43025 47.8237 6.58561 48.3577 6.89632C48.9015 7.20702 49.3238 7.6391 49.6248 8.19255C49.9258 8.746 50.0763 9.39655 50.0763 10.1442C50.0763 10.8821 49.921 11.5327 49.6103 12.0958C49.3093 12.659 48.8869 13.0959 48.3432 13.4066C47.7994 13.7076 47.1537 13.863 46.4061 13.8727ZM46.4207 12.4599C46.8285 12.4599 47.178 12.358 47.4693 12.1541C47.7606 11.9502 47.9839 11.6735 48.1393 11.3239C48.3043 10.9744 48.3869 10.5811 48.3869 10.1442C48.3869 9.69755 48.3092 9.29945 48.1538 8.9499C47.9985 8.60036 47.7751 8.32849 47.4839 8.13429C47.1926 7.93039 46.843 7.82844 46.4352 7.82844C46.0468 7.82844 45.7021 7.93039 45.4011 8.13429C45.1001 8.3382 44.8671 8.61492 44.702 8.96447C44.5467 9.31402 44.4642 9.70726 44.4544 10.1442C44.4544 10.5908 44.5321 10.9889 44.6875 11.3385C44.8428 11.688 45.071 11.9647 45.372 12.1686C45.673 12.3628 46.0226 12.4599 46.4207 12.4599Z\", fill: \"#F7F8F8\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M21.0534 12.4017C21.0534 12.3597 21.0194 12.3257 20.9774 12.3257H17.0671C17.0252 12.3257 16.9912 12.2917 16.9912 12.2497V4.2354C16.9912 4.19344 16.9571 4.15942 16.9152 4.15942H15.4505C15.4085 4.15942 15.3745 4.19344 15.3745 4.2354V13.7967C15.3745 13.8387 15.4085 13.8727 15.4505 13.8727H20.9774C21.0194 13.8727 21.0534 13.8387 21.0534 13.7967V12.4017Z\", fill: \"#F7F8F8\" }), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"linearGradient\", { id: \"paint0_linear_1251_17490\", x1: -2.21904, y1: 11.4904, x2: 10.7367, y2: 6.40599, gradientUnits: \"userSpaceOnUse\" }, /* @__PURE__ */ React.createElement(\"stop\", { stopColor: \"#4B2EFB\" }), /* @__PURE__ */ React.createElement(\"stop\", { offset: 1, stopColor: \"#E65FFC\" })), /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"clip0_1251_17490\" }, /* @__PURE__ */ React.createElement(\"rect\", { width: 10.4, height: 13, fill: \"white\", transform: \"translate(1 2.5)\" }))));\nexport default SvgLogtoLogoDark;\n","import * as React from \"react\";\nconst SvgLogtoLogoLight = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 52, height: 18, viewBox: \"0 0 52 18\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"g\", { clipPath: \"url(#clip0_1251_17291)\" }, /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M1 4.5299C1 4.15639 1 3.96963 1.06856 3.81931C1.12899 3.68684 1.22616 3.57457 1.34851 3.49586C1.48735 3.40655 1.67193 3.38004 2.0411 3.32702L7.3061 2.57085C7.784 2.50221 8.02295 2.46789 8.20864 2.54035C8.37165 2.60396 8.50768 2.72206 8.59369 2.87463C8.69167 3.04844 8.69167 3.2902 8.69167 3.77374V14.2263C8.69167 14.7098 8.69167 14.9516 8.59369 15.1254C8.50768 15.2779 8.37165 15.396 8.20864 15.4596C8.02296 15.5321 7.784 15.4978 7.30611 15.4291H7.3061L2.0411 14.673L2.04108 14.673L2.04106 14.673C1.67192 14.62 1.48734 14.5934 1.34851 14.5041C1.22616 14.4254 1.12899 14.3132 1.06856 14.1807C1 14.0304 1 13.8436 1 13.4701V4.5299ZM6.30838 8.07075C6.30838 7.959 6.30838 7.90312 6.32939 7.85895C6.3479 7.82005 6.37758 7.78756 6.41464 7.76561C6.45672 7.74068 6.51237 7.73562 6.62366 7.7255L7.12199 7.6802H7.122C7.25312 7.66828 7.31868 7.66232 7.3693 7.68419C7.41378 7.7034 7.45053 7.73696 7.47369 7.77951C7.50005 7.82795 7.50005 7.89378 7.50005 8.02544V9.97456C7.50005 10.1062 7.50005 10.1721 7.47369 10.2205C7.45053 10.263 7.41378 10.2966 7.3693 10.3158C7.31868 10.3377 7.25312 10.3317 7.12199 10.3198L6.62366 10.2745C6.51237 10.2644 6.45672 10.2593 6.41464 10.2344C6.37758 10.2124 6.3479 10.1799 6.32939 10.141C6.30838 10.0969 6.30838 10.041 6.30838 9.92925V8.07075ZM10.1866 3.58339H9.44997V14.4167H10.1866C10.6113 14.4167 10.8237 14.4167 10.9859 14.3341C11.1286 14.2614 11.2446 14.1454 11.3173 14.0027C11.4 13.8405 11.4 13.6281 11.4 13.2034V4.79673C11.4 4.37202 11.4 4.15967 11.3173 3.99745C11.2446 3.85476 11.1286 3.73875 10.9859 3.66605C10.8237 3.58339 10.6113 3.58339 10.1866 3.58339Z\", fill: \"#928F9A\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M1 4.5299C1 4.15639 1 3.96963 1.06856 3.81931C1.12899 3.68684 1.22616 3.57457 1.34851 3.49586C1.48735 3.40655 1.67193 3.38004 2.0411 3.32702L7.3061 2.57085C7.784 2.50221 8.02295 2.46789 8.20864 2.54035C8.37165 2.60396 8.50768 2.72206 8.59369 2.87463C8.69167 3.04844 8.69167 3.2902 8.69167 3.77374V14.2263C8.69167 14.7098 8.69167 14.9516 8.59369 15.1254C8.50768 15.2779 8.37165 15.396 8.20864 15.4596C8.02296 15.5321 7.784 15.4978 7.30611 15.4291H7.3061L2.0411 14.673L2.04108 14.673L2.04106 14.673C1.67192 14.62 1.48734 14.5934 1.34851 14.5041C1.22616 14.4254 1.12899 14.3132 1.06856 14.1807C1 14.0304 1 13.8436 1 13.4701V4.5299ZM6.30838 8.07075C6.30838 7.959 6.30838 7.90312 6.32939 7.85895C6.3479 7.82005 6.37758 7.78756 6.41464 7.76561C6.45672 7.74068 6.51237 7.73562 6.62366 7.7255L7.12199 7.6802H7.122C7.25312 7.66828 7.31868 7.66232 7.3693 7.68419C7.41378 7.7034 7.45053 7.73696 7.47369 7.77951C7.50005 7.82795 7.50005 7.89378 7.50005 8.02544V9.97456C7.50005 10.1062 7.50005 10.1721 7.47369 10.2205C7.45053 10.263 7.41378 10.2966 7.3693 10.3158C7.31868 10.3377 7.25312 10.3317 7.12199 10.3198L6.62366 10.2745C6.51237 10.2644 6.45672 10.2593 6.41464 10.2344C6.37758 10.2124 6.3479 10.1799 6.32939 10.141C6.30838 10.0969 6.30838 10.041 6.30838 9.92925V8.07075ZM10.1866 3.58339H9.44997V14.4167H10.1866C10.6113 14.4167 10.8237 14.4167 10.9859 14.3341C11.1286 14.2614 11.2446 14.1454 11.3173 14.0027C11.4 13.8405 11.4 13.6281 11.4 13.2034V4.79673C11.4 4.37202 11.4 4.15967 11.3173 3.99745C11.2446 3.85476 11.1286 3.73875 10.9859 3.66605C10.8237 3.58339 10.6113 3.58339 10.1866 3.58339Z\", fill: \"url(#paint0_linear_1251_17291)\" })), /* @__PURE__ */ React.createElement(\"path\", { d: \"M25.3042 13.8727C24.5566 13.8727 23.9109 13.7173 23.3672 13.4066C22.8234 13.0959 22.4059 12.6638 22.1146 12.1104C21.8233 11.5472 21.6777 10.8967 21.6777 10.1588C21.6777 9.4014 21.8282 8.746 22.1292 8.19255C22.4302 7.6391 22.8526 7.20702 23.3963 6.89632C23.9497 6.58561 24.5954 6.43025 25.3334 6.43025C26.081 6.43025 26.7218 6.58561 27.2559 6.89632C27.7996 7.20702 28.222 7.6391 28.523 8.19255C28.824 8.746 28.9745 9.39655 28.9745 10.1442C28.9745 10.8821 28.8191 11.5327 28.5084 12.0958C28.2074 12.659 27.7851 13.0959 27.2413 13.4066C26.6976 13.7076 26.0519 13.863 25.3042 13.8727ZM25.3188 12.4599C25.7266 12.4599 26.0762 12.358 26.3674 12.1541C26.6587 11.9502 26.8821 11.6735 27.0374 11.3239C27.2025 10.9744 27.285 10.5811 27.285 10.1442C27.285 9.69755 27.2073 9.29945 27.052 8.9499C26.8966 8.60036 26.6733 8.32849 26.382 8.13429C26.0907 7.93039 25.7412 7.82844 25.3334 7.82844C24.945 7.82844 24.6003 7.93039 24.2993 8.13429C23.9983 8.3382 23.7653 8.61492 23.6002 8.96447C23.4448 9.31402 23.3623 9.70726 23.3526 10.1442C23.3526 10.5908 23.4303 10.9889 23.5856 11.3385C23.741 11.688 23.9692 11.9647 24.2702 12.1686C24.5712 12.3628 24.9207 12.4599 25.3188 12.4599Z\", fill: \"#191C1D\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M36.4994 6.69557C36.4994 6.65361 36.4654 6.61959 36.4234 6.61959H34.9296C34.8876 6.61959 34.8536 6.65361 34.8536 6.69557V14.1494C34.8536 14.6446 34.6691 14.9522 34.3002 15.224C33.9409 15.4959 33.5368 15.5848 32.964 15.5945C32.5659 15.5848 32.1924 15.5493 31.8622 15.4425C31.5526 15.3514 31.2137 15.2176 30.8604 15.0411C30.8219 15.0219 30.775 15.0379 30.7567 15.0768L30.2198 16.2213C30.2042 16.2544 30.2144 16.2939 30.2446 16.3144C30.4084 16.4259 30.6 16.5256 30.8193 16.6133C31.062 16.7104 31.3096 16.7881 31.5621 16.8463C31.8242 16.9143 32.0951 16.971 32.3281 17.0001C32.5708 17.0292 32.8 17.0332 32.9457 17.0332C33.6836 17.0332 34.3147 16.9167 34.8391 16.6836C35.3731 16.4506 35.7809 16.1205 36.0625 15.6932C36.3538 15.266 36.4994 14.7563 36.4994 14.164V6.69557ZM35.3104 11.5198C35.2881 11.4671 35.2178 11.4569 35.1803 11.5C34.8943 11.8287 34.6043 12.0616 34.3293 12.2123C34.038 12.3774 33.703 12.4599 33.3244 12.4599C32.936 12.4599 32.5961 12.3628 32.3049 12.1686C32.0233 11.9647 31.8097 11.688 31.664 11.3385C31.5184 10.9889 31.4455 10.586 31.4455 10.1296C31.4455 9.69269 31.5184 9.30431 31.664 8.96447C31.8097 8.61492 32.0233 8.3382 32.3049 8.13429C32.5961 7.93039 32.9408 7.82844 33.3389 7.82844C33.7079 7.82844 33.9992 7.90612 34.3002 8.06147C34.5812 8.20197 34.8803 8.52282 35.1376 8.85792C35.1735 8.90461 35.2468 8.89592 35.2698 8.84172L35.6831 7.86653C35.6932 7.84278 35.6906 7.81558 35.6759 7.79442C35.1544 7.04603 34.2722 6.43025 33.2679 6.43025C32.5397 6.43025 31.965 6.58561 31.431 6.89632C30.897 7.20702 30.4843 7.6391 30.193 8.19255C29.9114 8.746 29.7706 9.39169 29.7706 10.1296C29.7706 10.887 29.9114 11.5472 30.193 12.1104C30.4746 12.6638 30.8775 13.0959 31.4019 13.4066C31.9359 13.7173 32.567 13.8727 33.2952 13.8727C33.5671 13.8727 33.8487 13.8193 34.14 13.7125C34.441 13.6154 34.7323 13.4697 35.0138 13.2755C35.2832 13.0898 35.5215 12.8684 35.7287 12.6115C35.7461 12.59 35.75 12.5606 35.7392 12.5352L35.3104 11.5198Z\", fill: \"#191C1D\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M41.9863 6.75383C41.9863 6.71187 41.9523 6.67785 41.9104 6.67785H40.2855C40.2435 6.67785 40.2095 6.64383 40.2095 6.60187V4.61531C40.2095 4.57334 40.1755 4.53933 40.1335 4.53933H38.6542C38.6123 4.53933 38.5783 4.57334 38.5783 4.61531V6.60187C38.5783 6.64383 38.5442 6.67785 38.5023 6.67785H37.5127C37.4704 6.67785 37.4363 6.71236 37.4367 6.75463L37.4497 7.98629C37.4501 8.02794 37.484 8.06147 37.5257 8.06147H38.5023C38.5442 8.06147 38.5783 8.09549 38.5783 8.13745V11.5715C38.5783 12.0861 38.6802 12.5231 38.8841 12.8823C39.0977 13.2319 39.389 13.4989 39.758 13.6834C40.1269 13.8678 40.5736 13.9601 41.0979 13.9601C41.2436 13.9601 41.3989 13.9407 41.564 13.9018C41.7387 13.863 41.9076 13.8221 42.0533 13.7638C42.1833 13.7151 42.4366 13.588 42.5658 13.5131C42.6001 13.4932 42.6108 13.4498 42.5914 13.4151L41.9903 12.3556C41.9714 12.3219 41.9304 12.3079 41.8944 12.3216C41.7972 12.3587 41.6968 12.3892 41.5931 12.4131C41.4669 12.4422 41.3407 12.4568 41.2144 12.4568C40.8746 12.4568 40.6221 12.4211 40.4571 12.1978C40.292 11.9647 40.2095 11.6686 40.2095 11.3093V8.13745C40.2095 8.09549 40.2435 8.06147 40.2855 8.06147H41.9104C41.9523 8.06147 41.9863 8.02745 41.9863 7.98549V6.75383Z\", fill: \"#191C1D\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M46.4061 13.8727C45.6584 13.8727 45.0128 13.7173 44.469 13.4066C43.9253 13.0959 43.5078 12.6638 43.2165 12.1104C42.9252 11.5472 42.7795 10.8967 42.7795 10.1588C42.7795 9.4014 42.93 8.746 43.231 8.19255C43.532 7.6391 43.9544 7.20702 44.4981 6.89632C45.0516 6.58561 45.6973 6.43025 46.4352 6.43025C47.1829 6.43025 47.8237 6.58561 48.3577 6.89632C48.9015 7.20702 49.3238 7.6391 49.6248 8.19255C49.9258 8.746 50.0763 9.39655 50.0763 10.1442C50.0763 10.8821 49.921 11.5327 49.6103 12.0958C49.3093 12.659 48.8869 13.0959 48.3432 13.4066C47.7994 13.7076 47.1537 13.863 46.4061 13.8727ZM46.4206 12.4599C46.8285 12.4599 47.178 12.358 47.4693 12.1541C47.7606 11.9502 47.9839 11.6735 48.1393 11.3239C48.3043 10.9744 48.3869 10.5811 48.3869 10.1442C48.3869 9.69755 48.3092 9.29945 48.1538 8.9499C47.9985 8.60036 47.7751 8.32849 47.4839 8.13429C47.1926 7.93039 46.843 7.82844 46.4352 7.82844C46.0468 7.82844 45.7021 7.93039 45.4011 8.13429C45.1001 8.3382 44.8671 8.61492 44.702 8.96447C44.5467 9.31402 44.4642 9.70726 44.4544 10.1442C44.4544 10.5908 44.5321 10.9889 44.6875 11.3385C44.8428 11.688 45.071 11.9647 45.372 12.1686C45.673 12.3628 46.0226 12.4599 46.4206 12.4599Z\", fill: \"#191C1D\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M21.0534 12.4017C21.0534 12.3597 21.0194 12.3257 20.9774 12.3257H17.0671C17.0252 12.3257 16.9912 12.2917 16.9912 12.2497V4.2354C16.9912 4.19344 16.9571 4.15942 16.9152 4.15942H15.4505C15.4085 4.15942 15.3745 4.19344 15.3745 4.2354V13.7967C15.3745 13.8387 15.4085 13.8727 15.4505 13.8727H20.9774C21.0194 13.8727 21.0534 13.8387 21.0534 13.7967V12.4017Z\", fill: \"#191C1D\" }), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"linearGradient\", { id: \"paint0_linear_1251_17291\", x1: -2.21904, y1: 11.4904, x2: 10.7367, y2: 6.40599, gradientUnits: \"userSpaceOnUse\" }, /* @__PURE__ */ React.createElement(\"stop\", { stopColor: \"#4B2EFB\" }), /* @__PURE__ */ React.createElement(\"stop\", { offset: 1, stopColor: \"#E65FFC\" })), /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"clip0_1251_17291\" }, /* @__PURE__ */ React.createElement(\"rect\", { width: 10.4, height: 13, fill: \"white\", transform: \"translate(1 2.5)\" }))));\nexport default SvgLogtoLogoLight;\n","import * as React from \"react\";\nconst SvgLogtoLogoShadow = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 52, height: 18, viewBox: \"0 0 52 18\", fill: \"currentcolor\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"g\", { opacity: 0.8, clipPath: \"url(#clip0_1251_17267)\" }, /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M1 4.5299C1 4.15639 1 3.96963 1.06856 3.81931C1.12899 3.68684 1.22616 3.57457 1.34851 3.49586C1.48735 3.40655 1.67193 3.38004 2.0411 3.32702L7.3061 2.57085C7.784 2.50221 8.02295 2.46789 8.20864 2.54035C8.37165 2.60396 8.50768 2.72206 8.59369 2.87463C8.69167 3.04844 8.69167 3.2902 8.69167 3.77374V14.2263C8.69167 14.7098 8.69167 14.9516 8.59369 15.1254C8.50768 15.2779 8.37165 15.396 8.20864 15.4596C8.02296 15.5321 7.784 15.4978 7.30611 15.4291H7.3061L2.0411 14.673L2.04108 14.673L2.04106 14.673C1.67192 14.62 1.48734 14.5934 1.34851 14.5041C1.22616 14.4254 1.12899 14.3132 1.06856 14.1807C1 14.0304 1 13.8436 1 13.4701V4.5299ZM6.30838 8.07075C6.30838 7.959 6.30838 7.90312 6.32939 7.85895C6.3479 7.82005 6.37758 7.78756 6.41464 7.76561C6.45672 7.74068 6.51237 7.73562 6.62366 7.7255L7.12199 7.6802H7.122C7.25312 7.66828 7.31868 7.66232 7.3693 7.68419C7.41378 7.7034 7.45053 7.73696 7.47369 7.77951C7.50005 7.82795 7.50005 7.89378 7.50005 8.02544V9.97456C7.50005 10.1062 7.50005 10.1721 7.47369 10.2205C7.45053 10.263 7.41378 10.2966 7.3693 10.3158C7.31868 10.3377 7.25312 10.3317 7.12199 10.3198L6.62366 10.2745C6.51237 10.2644 6.45672 10.2593 6.41464 10.2344C6.37758 10.2124 6.3479 10.1799 6.32939 10.141C6.30838 10.0969 6.30838 10.041 6.30838 9.92925V8.07075ZM10.1866 3.58339H9.44997V14.4167H10.1866C10.6113 14.4167 10.8237 14.4167 10.9859 14.3341C11.1286 14.2614 11.2446 14.1454 11.3173 14.0027C11.4 13.8405 11.4 13.6281 11.4 13.2034V4.79673C11.4 4.37202 11.4 4.15967 11.3173 3.99745C11.2446 3.85476 11.1286 3.73875 10.9859 3.66605C10.8237 3.58339 10.6113 3.58339 10.1866 3.58339Z\", fill: \"currentcolor\" })), /* @__PURE__ */ React.createElement(\"path\", { d: \"M25.3042 13.8727C24.5566 13.8727 23.9109 13.7173 23.3672 13.4066C22.8234 13.0959 22.4059 12.6638 22.1146 12.1104C21.8233 11.5472 21.6777 10.8967 21.6777 10.1588C21.6777 9.4014 21.8282 8.746 22.1292 8.19255C22.4302 7.6391 22.8526 7.20702 23.3963 6.89632C23.9497 6.58561 24.5954 6.43025 25.3334 6.43025C26.081 6.43025 26.7218 6.58561 27.2559 6.89632C27.7996 7.20702 28.222 7.6391 28.523 8.19255C28.824 8.746 28.9745 9.39655 28.9745 10.1442C28.9745 10.8821 28.8191 11.5327 28.5084 12.0958C28.2074 12.659 27.7851 13.0959 27.2413 13.4066C26.6976 13.7076 26.0519 13.863 25.3042 13.8727ZM25.3188 12.4599C25.7266 12.4599 26.0762 12.358 26.3674 12.1541C26.6587 11.9502 26.8821 11.6735 27.0374 11.3239C27.2025 10.9744 27.285 10.5811 27.285 10.1442C27.285 9.69755 27.2073 9.29945 27.052 8.9499C26.8966 8.60036 26.6733 8.32849 26.382 8.13429C26.0907 7.93039 25.7412 7.82844 25.3334 7.82844C24.945 7.82844 24.6003 7.93039 24.2993 8.13429C23.9983 8.3382 23.7653 8.61492 23.6002 8.96447C23.4448 9.31402 23.3623 9.70726 23.3526 10.1442C23.3526 10.5908 23.4303 10.9889 23.5856 11.3385C23.741 11.688 23.9692 11.9647 24.2702 12.1686C24.5712 12.3628 24.9207 12.4599 25.3188 12.4599Z\", fill: \"currentcolor\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M36.4994 6.69557C36.4994 6.65361 36.4654 6.61959 36.4234 6.61959H34.9296C34.8876 6.61959 34.8536 6.65361 34.8536 6.69557V14.1494C34.8536 14.6446 34.6691 14.9522 34.3002 15.224C33.9409 15.4959 33.5368 15.5848 32.964 15.5945C32.5659 15.5848 32.1924 15.5493 31.8622 15.4425C31.5526 15.3514 31.2137 15.2176 30.8604 15.0411C30.8219 15.0219 30.775 15.0379 30.7567 15.0768L30.2198 16.2213C30.2042 16.2544 30.2144 16.2939 30.2446 16.3144C30.4084 16.4259 30.6 16.5256 30.8193 16.6133C31.062 16.7104 31.3096 16.7881 31.5621 16.8463C31.8242 16.9143 32.0951 16.971 32.3281 17.0001C32.5708 17.0292 32.8 17.0332 32.9457 17.0332C33.6836 17.0332 34.3147 16.9167 34.8391 16.6836C35.3731 16.4506 35.7809 16.1205 36.0625 15.6932C36.3538 15.266 36.4994 14.7563 36.4994 14.164V6.69557ZM35.3104 11.5198C35.2881 11.4671 35.2178 11.4569 35.1803 11.5C34.8943 11.8287 34.6043 12.0616 34.3293 12.2123C34.038 12.3774 33.703 12.4599 33.3244 12.4599C32.936 12.4599 32.5961 12.3628 32.3049 12.1686C32.0233 11.9647 31.8097 11.688 31.664 11.3385C31.5184 10.9889 31.4455 10.586 31.4455 10.1296C31.4455 9.69269 31.5184 9.30431 31.664 8.96447C31.8097 8.61492 32.0233 8.3382 32.3049 8.13429C32.5961 7.93039 32.9408 7.82844 33.3389 7.82844C33.7079 7.82844 33.9992 7.90612 34.3002 8.06147C34.5812 8.20197 34.8803 8.52282 35.1376 8.85792C35.1735 8.90461 35.2468 8.89592 35.2698 8.84172L35.6831 7.86653C35.6932 7.84278 35.6906 7.81558 35.6759 7.79442C35.1544 7.04603 34.2722 6.43025 33.2679 6.43025C32.5397 6.43025 31.965 6.58561 31.431 6.89632C30.897 7.20702 30.4843 7.6391 30.193 8.19255C29.9114 8.746 29.7706 9.39169 29.7706 10.1296C29.7706 10.887 29.9114 11.5472 30.193 12.1104C30.4746 12.6638 30.8775 13.0959 31.4019 13.4066C31.9359 13.7173 32.567 13.8727 33.2952 13.8727C33.5671 13.8727 33.8487 13.8193 34.14 13.7125C34.441 13.6154 34.7323 13.4697 35.0138 13.2755C35.2832 13.0898 35.5215 12.8684 35.7287 12.6115C35.7461 12.59 35.75 12.5606 35.7392 12.5352L35.3104 11.5198Z\", fill: \"currentcolor\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M41.9863 6.75383C41.9863 6.71187 41.9523 6.67785 41.9104 6.67785H40.2855C40.2435 6.67785 40.2095 6.64383 40.2095 6.60187V4.61531C40.2095 4.57334 40.1755 4.53933 40.1335 4.53933H38.6542C38.6123 4.53933 38.5783 4.57334 38.5783 4.61531V6.60187C38.5783 6.64383 38.5442 6.67785 38.5023 6.67785H37.5127C37.4704 6.67785 37.4363 6.71236 37.4367 6.75463L37.4497 7.98629C37.4501 8.02794 37.484 8.06147 37.5257 8.06147H38.5023C38.5442 8.06147 38.5783 8.09549 38.5783 8.13745V11.5715C38.5783 12.0861 38.6802 12.5231 38.8841 12.8823C39.0977 13.2319 39.389 13.4989 39.758 13.6834C40.1269 13.8678 40.5736 13.9601 41.0979 13.9601C41.2436 13.9601 41.3989 13.9407 41.564 13.9018C41.7387 13.863 41.9076 13.8221 42.0532 13.7638C42.1833 13.7151 42.4366 13.588 42.5658 13.5131C42.6001 13.4932 42.6108 13.4498 42.5914 13.4151L41.9903 12.3556C41.9714 12.3219 41.9304 12.3079 41.8944 12.3216C41.7972 12.3587 41.6968 12.3892 41.5931 12.4131C41.4669 12.4422 41.3407 12.4568 41.2144 12.4568C40.8746 12.4568 40.6221 12.4211 40.4571 12.1978C40.292 11.9647 40.2095 11.6686 40.2095 11.3093V8.13745C40.2095 8.09549 40.2435 8.06147 40.2855 8.06147H41.9104C41.9523 8.06147 41.9863 8.02745 41.9863 7.98549V6.75383Z\", fill: \"currentcolor\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M46.4061 13.8727C45.6584 13.8727 45.0128 13.7173 44.469 13.4066C43.9253 13.0959 43.5078 12.6638 43.2165 12.1104C42.9252 11.5472 42.7795 10.8967 42.7795 10.1588C42.7795 9.4014 42.93 8.746 43.231 8.19255C43.532 7.6391 43.9544 7.20702 44.4981 6.89632C45.0516 6.58561 45.6973 6.43025 46.4352 6.43025C47.1829 6.43025 47.8237 6.58561 48.3577 6.89632C48.9015 7.20702 49.3238 7.6391 49.6248 8.19255C49.9258 8.746 50.0763 9.39655 50.0763 10.1442C50.0763 10.8821 49.921 11.5327 49.6103 12.0958C49.3093 12.659 48.8869 13.0959 48.3432 13.4066C47.7994 13.7076 47.1537 13.863 46.4061 13.8727ZM46.4207 12.4599C46.8285 12.4599 47.178 12.358 47.4693 12.1541C47.7606 11.9502 47.9839 11.6735 48.1393 11.3239C48.3043 10.9744 48.3869 10.5811 48.3869 10.1442C48.3869 9.69755 48.3092 9.29945 48.1538 8.9499C47.9985 8.60036 47.7751 8.32849 47.4839 8.13429C47.1926 7.93039 46.843 7.82844 46.4352 7.82844C46.0468 7.82844 45.7021 7.93039 45.4011 8.13429C45.1001 8.3382 44.8671 8.61492 44.702 8.96447C44.5467 9.31402 44.4642 9.70726 44.4544 10.1442C44.4544 10.5908 44.5321 10.9889 44.6875 11.3385C44.8428 11.688 45.071 11.9647 45.372 12.1686C45.673 12.3628 46.0226 12.4599 46.4207 12.4599Z\", fill: \"currentcolor\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M21.0534 12.4017C21.0534 12.3597 21.0194 12.3257 20.9774 12.3257H17.0671C17.0252 12.3257 16.9912 12.2917 16.9912 12.2497V4.2354C16.9912 4.19344 16.9571 4.15942 16.9152 4.15942H15.4505C15.4085 4.15942 15.3745 4.19344 15.3745 4.2354V13.7967C15.3745 13.8387 15.4085 13.8727 15.4505 13.8727H20.9774C21.0194 13.8727 21.0534 13.8387 21.0534 13.7967V12.4017Z\", fill: \"currentcolor\" }), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"clip0_1251_17267\" }, /* @__PURE__ */ React.createElement(\"rect\", { width: 10.4, height: 13, fill: \"white\", transform: \"translate(1 2.5)\" }))));\nexport default SvgLogtoLogoShadow;\n","import { Theme } from '@logto/schemas';\nimport { useContext } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport LogtoLogtoDark from '@/assets/icons/logto-logo-dark.svg?react';\nimport LogtoLogoLight from '@/assets/icons/logto-logo-light.svg?react';\nimport LogtoLogoShadow from '@/assets/icons/logto-logo-shadow.svg?react';\n\nimport styles from './index.module.scss';\n\nconst logtoUrl = `https://logto.io/?${new URLSearchParams({\n  utm_source: 'sign_in',\n  utm_medium: 'powered_by',\n}).toString()}`;\n\ntype Props = {\n  readonly className?: string;\n};\n\nconst LogtoSignature = ({ className }: Props) => {\n  const { theme } = useContext(PageContext);\n  const LogtoLogo = theme === Theme.Light ? LogtoLogoLight : LogtoLogtoDark;\n\n  return (\n    <div className={className}>\n      <a\n        className={styles.signature}\n        aria-label=\"Powered By Logto\"\n        href={logtoUrl.toString()}\n        target=\"_blank\"\n        rel=\"noopener\"\n      >\n        <span className={styles.text}>Powered by</span>\n        <LogtoLogoShadow className={styles.staticIcon} />\n        <LogtoLogo className={styles.highlightIcon} />\n      </a>\n    </div>\n  );\n};\n\nexport default LogtoSignature;\n","import { useContext } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\n\nconst usePlatform = () => {\n  const { platform } = useContext(PageContext);\n\n  return { isMobile: platform === 'mobile', platform };\n};\n\nexport default usePlatform;\n","export const layoutClassNames = Object.freeze({\n  pageContainer: 'logto_page-container',\n  mainContent: 'logto_main-content',\n  customContent: 'logto_custom-content',\n  signature: 'logto_signature',\n  brandingHeader: 'logto_branding-header',\n});\n","import { PasswordPolicyChecker, passwordPolicyGuard } from '@logto/core-kit';\nimport {\n  AlternativeSignUpIdentifier,\n  SignInIdentifier,\n  SignInMode,\n  type SignUpIdentifier,\n  type VerificationCodeSignInIdentifier,\n} from '@logto/schemas';\nimport { condArray } from '@silverhand/essentials';\nimport { useContext, useMemo, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\n// eslint-disable-next-line unused-imports/no-unused-imports -- type only import\nimport type useRequiredProfileErrorHandler from '@/hooks/use-required-profile-error-handler';\nimport { type SignInExperienceResponse, type VerificationCodeIdentifier } from '@/types';\n\ntype UseSieMethodsReturnType = {\n  /**\n   * Primary sign-up identifiers, used to render the first screen form of the registration flow.\n   *\n   * @remarks\n   * Currently secondary identifiers are not used when rendering the first screen form.\n   * Additional identifiers must be applied in the following user profile fulfillment step.\n   * @see {useRequiredProfileErrorHandler} for more information.\n   */\n  signUpMethods: SignInIdentifier[];\n  secondaryIdentifiers: SignUpIdentifier[];\n  passwordRequiredForSignUp: boolean;\n  signInMethods: SignInExperienceResponse['signIn']['methods'];\n  socialSignInSettings: SignInExperienceResponse['socialSignIn'];\n  socialConnectors: SignInExperienceResponse['socialConnectors'];\n  ssoConnectors: SignInExperienceResponse['ssoConnectors'];\n  signInMode: SignInExperienceResponse['signInMode'] | undefined;\n  forgotPassword: SignInExperienceResponse['forgotPassword'] | undefined;\n  customContent: SignInExperienceResponse['customContent'] | undefined;\n  singleSignOnEnabled: boolean | undefined;\n  /**\n   * Check if the given verification code identifier is enabled for sign-up.\n   * Used in the verification code sign-in flow, if the verified email/phone number has not been registered,\n   * and the identifier type is enabled for sign-up, allow the user to sign-up with the identifier directly.\n   */\n  isVerificationCodeEnabledForSignUp: (type: VerificationCodeSignInIdentifier) => boolean;\n  /**\n   * Check if the given verification code identifier is enabled for sign-in.\n   * Used in the verification code sign-up flow, if the verified email/phone number has been registered,\n   * and the identifier type is enabled for sign-in, allow the user to sign-in with the identifier directly.\n   */\n  isVerificationCodeEnabledForSignIn: (type: VerificationCodeSignInIdentifier) => boolean;\n};\n\nexport const useSieMethods = (): UseSieMethodsReturnType => {\n  const { experienceSettings } = useContext(PageContext);\n\n  const signUpMethods = useMemo(\n    () => experienceSettings?.signUp.identifiers ?? [],\n    [experienceSettings]\n  );\n\n  const secondaryIdentifiers = useMemo(() => {\n    return (\n      experienceSettings?.signUp.secondaryIdentifiers?.map(({ identifier }) => identifier) ?? []\n    );\n  }, [experienceSettings]);\n\n  const isVerificationCodeEnabledForSignUp = useCallback(\n    (type: VerificationCodeSignInIdentifier) => {\n      if (experienceSettings?.signInMode === SignInMode.SignIn) {\n        return false;\n      }\n\n      return (\n        signUpMethods.includes(type) ||\n        secondaryIdentifiers.includes(type) ||\n        secondaryIdentifiers.includes(AlternativeSignUpIdentifier.EmailOrPhone)\n      );\n    },\n    [secondaryIdentifiers, signUpMethods, experienceSettings]\n  );\n\n  const signInMethods = useMemo(\n    () =>\n      experienceSettings?.signIn.methods.filter(\n        // Filter out empty settings\n        ({ password, verificationCode }) => password || verificationCode\n      ) ?? [],\n    [experienceSettings]\n  );\n\n  const isVerificationCodeEnabledForSignIn = useCallback(\n    (type: VerificationCodeSignInIdentifier) => {\n      if (experienceSettings?.signInMode === SignInMode.Register) {\n        return false;\n      }\n\n      return Boolean(signInMethods.find(({ identifier }) => identifier === type)?.verificationCode);\n    },\n    [experienceSettings?.signInMode, signInMethods]\n  );\n\n  const passwordRequiredForSignUp = useMemo(() => {\n    const { signUp } = experienceSettings ?? {};\n    return signUp?.password ?? false;\n  }, [experienceSettings]);\n\n  return useMemo(\n    () => ({\n      signUpMethods,\n      signInMethods,\n      secondaryIdentifiers,\n      socialSignInSettings: experienceSettings?.socialSignIn ?? {},\n      socialConnectors: experienceSettings?.socialConnectors ?? [],\n      ssoConnectors: experienceSettings?.ssoConnectors ?? [],\n      signInMode: experienceSettings?.signInMode,\n      forgotPassword: experienceSettings?.forgotPassword,\n      customContent: experienceSettings?.customContent,\n      singleSignOnEnabled: experienceSettings?.singleSignOnEnabled,\n      passwordRequiredForSignUp,\n      isVerificationCodeEnabledForSignUp,\n      isVerificationCodeEnabledForSignIn,\n    }),\n    [\n      signUpMethods,\n      signInMethods,\n      experienceSettings,\n      passwordRequiredForSignUp,\n      isVerificationCodeEnabledForSignUp,\n      isVerificationCodeEnabledForSignIn,\n    ]\n  );\n};\n\nexport const usePasswordPolicy = () => {\n  const { t } = useTranslation();\n  const { experienceSettings } = useContext(PageContext);\n  const policy = useMemo(\n    () => passwordPolicyGuard.parse(experienceSettings?.passwordPolicy ?? {}),\n    [experienceSettings]\n  );\n  const policyChecker = useMemo(() => new PasswordPolicyChecker(policy), [policy]);\n\n  const requirementsDescription = useMemo(\n    () =>\n      policy.length.min <= 1 && policy.characterTypes.min <= 1\n        ? undefined\n        : t('description.password_requirements', {\n            items: condArray(\n              // There's no need to show the length requirement if it can be satisfied by the character types\n              policy.length.min > policy.characterTypes.min &&\n                t('description.password_requirement.length', { count: policy.length.min }),\n              // Show the character types requirement if it's greater than 1.\n              policy.characterTypes.min > 1 &&\n                t('description.password_requirement.character_types', {\n                  count: policy.characterTypes.min,\n                })\n            ),\n          }),\n    [t, policy.length.min, policy.characterTypes.min]\n  );\n\n  return {\n    policy,\n    policyChecker,\n    /** The localized description of the password policy. */\n    requirementsDescription,\n  };\n};\n\nexport const useForgotPasswordSettings = () => {\n  const { experienceSettings } = useContext(PageContext);\n  const { forgotPassword } = experienceSettings ?? {};\n\n  const enabledMethodSet = new Set<VerificationCodeIdentifier>();\n\n  if (forgotPassword?.email) {\n    enabledMethodSet.add(SignInIdentifier.Email);\n  }\n\n  if (forgotPassword?.phone) {\n    enabledMethodSet.add(SignInIdentifier.Phone);\n  }\n\n  return {\n    isForgotPasswordEnabled: enabledMethodSet.size > 0,\n    enabledMethodSet,\n  };\n};\n","import { useLocation } from 'react-router-dom';\n\nimport { useSieMethods } from '@/hooks/use-sie';\n\ntype Props = {\n  readonly className?: string;\n};\n\nconst CustomContent = ({ className }: Props) => {\n  const { customContent } = useSieMethods();\n  const { pathname } = useLocation();\n\n  const customHtml = customContent?.[pathname];\n\n  if (!customHtml) {\n    return null;\n  }\n\n  try {\n    // Expected error; CustomContent content is load from Logto remote server\n    // eslint-disable-next-line react/no-danger\n    return <div dangerouslySetInnerHTML={{ __html: customHtml }} className={className} />;\n  } catch {\n    return null;\n  }\n};\n\nexport default CustomContent;\n","import classNames from 'classnames';\nimport { Outlet } from 'react-router-dom';\n\nimport LogtoSignature from '@/components/LogtoSignature';\nimport usePlatform from '@/hooks/use-platform';\nimport { layoutClassNames } from '@/utils/consts';\n\nimport CustomContent from './CustomContent';\nimport styles from './index.module.scss';\n\nconst AppLayout = () => {\n  const { isMobile } = usePlatform();\n\n  return (\n    <div className={styles.viewBox}>\n      <div className={classNames(styles.container, layoutClassNames.pageContainer)}>\n        {!isMobile && <CustomContent className={layoutClassNames.customContent} />}\n        <main className={classNames(styles.main, layoutClassNames.mainContent)}>\n          <Outlet />\n          <LogtoSignature className={classNames(styles.signature, layoutClassNames.signature)} />\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default AppLayout;\n","import { absoluteDarken, absoluteLighten } from '@logto/core-kit';\nimport { Theme } from '@logto/schemas';\nimport color from 'color';\nimport { useEffect, useContext } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\n\nconst generateLightColorLibrary = (primaryColor: color) => ({\n  [`--color-brand-default`]: primaryColor.hex(),\n  [`--color-brand-hover`]: absoluteLighten(primaryColor, 10).string(),\n  [`--color-brand-pressed`]: absoluteDarken(primaryColor, 10).string(),\n  [`--color-brand-loading`]: absoluteLighten(primaryColor, 15).string(),\n  [`--color-overlay-brand-focused`]: primaryColor.alpha(0.16).string(),\n  [`--color-overlay-brand-hover`]: primaryColor.alpha(0.08).string(),\n  [`--color-overlay-brand-pressed`]: primaryColor.alpha(0.12).string(),\n});\n\nconst generateDarkColorLibrary = (primaryColor: color) => ({\n  [`--color-brand-default`]: primaryColor.hex(),\n  [`--color-brand-hover`]: absoluteLighten(primaryColor, 10).string(),\n  [`--color-brand-pressed`]: absoluteDarken(primaryColor, 10).string(),\n  [`--color-brand-loading`]: absoluteDarken(primaryColor, 10).string(),\n  [`--color-overlay-brand-focused`]: absoluteLighten(primaryColor, 30).rgb().alpha(0.16).string(),\n  [`--color-overlay-brand-hover`]: absoluteLighten(primaryColor, 30).rgb().alpha(0.08).string(),\n  [`--color-overlay-brand-pressed`]: absoluteLighten(primaryColor, 30).rgb().alpha(0.12).string(),\n});\n\nconst useColorTheme = () => {\n  const { theme, experienceSettings } = useContext(PageContext);\n  const primaryColor = experienceSettings?.color.primaryColor;\n  const darkPrimaryColor = experienceSettings?.color.darkPrimaryColor;\n\n  useEffect(() => {\n    if (!primaryColor) {\n      return;\n    }\n\n    const lightPrimary = color(primaryColor);\n\n    if (theme === Theme.Light) {\n      const lightColorLibrary = generateLightColorLibrary(lightPrimary);\n\n      for (const [key, value] of Object.entries(lightColorLibrary)) {\n        document.body.style.setProperty(key, value);\n      }\n\n      return;\n    }\n\n    const darkPrimary = darkPrimaryColor\n      ? color(darkPrimaryColor)\n      : absoluteLighten(lightPrimary, 10);\n\n    const darkColorLibrary = generateDarkColorLibrary(darkPrimary);\n\n    for (const [key, value] of Object.entries(darkColorLibrary)) {\n      document.body.style.setProperty(key, value);\n    }\n  }, [darkPrimaryColor, primaryColor, theme]);\n};\n\nexport default useColorTheme;\n","import * as React from \"react\";\nconst SvgCloseIcon = (props) => /* @__PURE__ */ React.createElement(\"svg\", { viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M13.4099 12.0002L19.7099 5.71019C19.8982 5.52188 20.004 5.26649 20.004 5.00019C20.004 4.73388 19.8982 4.47849 19.7099 4.29019C19.5216 4.10188 19.2662 3.99609 18.9999 3.99609C18.7336 3.99609 18.4782 4.10188 18.2899 4.29019L11.9999 10.5902L5.70994 4.29019C5.52164 4.10188 5.26624 3.99609 4.99994 3.99609C4.73364 3.99609 4.47824 4.10188 4.28994 4.29019C4.10164 4.47849 3.99585 4.73388 3.99585 5.00019C3.99585 5.26649 4.10164 5.52188 4.28994 5.71019L10.5899 12.0002L4.28994 18.2902C4.19621 18.3831 4.12182 18.4937 4.07105 18.6156C4.02028 18.7375 3.99414 18.8682 3.99414 19.0002C3.99414 19.1322 4.02028 19.2629 4.07105 19.3848C4.12182 19.5066 4.19621 19.6172 4.28994 19.7102C4.3829 19.8039 4.4935 19.8783 4.61536 19.9291C4.73722 19.9798 4.86793 20.006 4.99994 20.006C5.13195 20.006 5.26266 19.9798 5.38452 19.9291C5.50638 19.8783 5.61698 19.8039 5.70994 19.7102L11.9999 13.4102L18.2899 19.7102C18.3829 19.8039 18.4935 19.8783 18.6154 19.9291C18.7372 19.9798 18.8679 20.006 18.9999 20.006C19.132 20.006 19.2627 19.9798 19.3845 19.9291C19.5064 19.8783 19.617 19.8039 19.7099 19.7102C19.8037 19.6172 19.8781 19.5066 19.9288 19.3848C19.9796 19.2629 20.0057 19.1322 20.0057 19.0002C20.0057 18.8682 19.9796 18.7375 19.9288 18.6156C19.8781 18.4937 19.8037 18.3831 19.7099 18.2902L13.4099 12.0002Z\", fill: \"currentcolor\" }));\nexport default SvgCloseIcon;\n","import { type TFuncKey } from 'i18next';\nimport { useTranslation } from 'react-i18next';\n\ntype Props = {\n  readonly forKey?: TFuncKey;\n  readonly interpolation?: Record<string, unknown>;\n};\n\n/**\n * A component to render a dynamic translation key.\n */\nconst DynamicT = ({ forKey, interpolation }: Props) => {\n  const { t } = useTranslation();\n\n  if (!forKey) {\n    return null;\n  }\n\n  const translated = t(forKey, interpolation ?? {});\n\n  if (typeof translated === 'string') {\n    // The fragment will ensure the component has the return type that is compatible with `JSX.Element`.\n    // eslint-disable-next-line react/jsx-no-useless-fragment\n    return <>{translated}</>;\n  }\n\n  // The fragment will ensure the component has the return type that is compatible with `JSX.Element`.\n  // eslint-disable-next-line react/jsx-no-useless-fragment\n  return <>{`Translation key ${forKey} is invalid.`}</>; // This would be great to have i18n as well. Not harmful for now.\n};\nexport default DynamicT;\n","import * as React from \"react\";\nconst SvgLoadingRing = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 21, height: 20, viewBox: \"0 0 21 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M11.8357 16.8714C11.941 17.4135 11.5865 17.9451 11.0355 17.9821C9.9048 18.0579 8.7669 17.8929 7.69834 17.4934C6.31639 16.9767 5.10425 16.0879 4.19591 14.9253C3.28758 13.7627 2.71844 12.3715 2.55143 10.9056C2.38441 9.43973 2.62602 7.9562 3.24954 6.61905C3.87306 5.28191 4.85421 4.14323 6.0845 3.32891C7.3148 2.5146 8.74632 2.05636 10.2208 2.00487C11.6953 1.95338 13.1553 2.31064 14.4394 3.03715C15.4323 3.59891 16.2901 4.36452 16.9588 5.27942C17.2847 5.72531 17.1054 6.33858 16.6223 6.60633C16.1393 6.87408 15.5366 6.69278 15.1924 6.26086C14.7154 5.66218 14.1262 5.15785 13.4545 4.77787C12.4915 4.23298 11.3965 3.96504 10.2906 4.00366C9.18474 4.04227 8.1111 4.38595 7.18838 4.99669C6.26565 5.60742 5.52979 6.46143 5.06215 7.46429C4.59451 8.46715 4.41331 9.5798 4.53857 10.6792C4.66383 11.7786 5.09069 12.822 5.77194 13.694C6.45319 14.5659 7.3623 15.2325 8.39876 15.62C9.12154 15.8903 9.88663 16.0175 10.6519 15.9981C11.204 15.9841 11.7303 16.3293 11.8357 16.8714Z\", fill: \"currentColor\" }));\nexport default SvgLoadingRing;\n","import Ring from '@/assets/icons/loading-ring.svg?react';\n\nimport RotatingRingIconStyles from './RotatingRingIcon.module.scss';\n\nconst RotatingRingIcon = () => <Ring className={RotatingRingIconStyles.icon} />;\n\nexport default RotatingRingIcon;\n","import classNames from 'classnames';\nimport type { TFuncKey } from 'i18next';\nimport { type HTMLProps } from 'react';\nimport { useDebouncedLoader } from 'use-debounced-loader';\n\nimport DynamicT from '../DynamicT';\n\nimport RotatingRingIcon from './RotatingRingIcon';\nimport styles from './index.module.scss';\n\nexport type ButtonType = 'primary' | 'secondary';\n\ntype BaseProps = Omit<HTMLProps<HTMLButtonElement>, 'type' | 'size' | 'title'> & {\n  readonly htmlType?: 'button' | 'submit' | 'reset';\n  readonly type?: ButtonType;\n  readonly size?: 'small' | 'large';\n  readonly isDisabled?: boolean;\n  readonly isLoading?: boolean;\n  readonly className?: string;\n  readonly onClick?: React.MouseEventHandler;\n};\n\ntype Props = BaseProps & {\n  readonly title: TFuncKey;\n  readonly icon?: React.ReactNode;\n  readonly i18nProps?: Record<string, string>;\n};\n\nconst Button = ({\n  htmlType = 'button',\n  type = 'primary',\n  size = 'large',\n  title,\n  i18nProps,\n  className,\n  isDisabled = false,\n  isLoading = false,\n  icon,\n  onClick,\n  ...rest\n}: Props) => {\n  const isLoadingActive = useDebouncedLoader(isLoading, 300);\n\n  return (\n    <button\n      disabled={isDisabled || isLoading}\n      className={classNames(\n        styles.button,\n        styles[type],\n        styles[size],\n        isDisabled && styles.disabled,\n        isLoading && styles.loading,\n        isLoadingActive && styles.loadingActive,\n        className\n      )}\n      type={htmlType}\n      onClick={onClick}\n      {...rest}\n    >\n      <span\n        className={classNames(\n          styles.content,\n          (isLoadingActive || Boolean(icon)) && styles.iconVisible\n        )}\n      >\n        <span className={styles.icon}>{isLoadingActive ? <RotatingRingIcon /> : icon}</span>\n        <DynamicT forKey={title} interpolation={i18nProps} />\n      </span>\n    </button>\n  );\n};\n\nexport default Button;\n","import classNames from 'classnames';\nimport type { HTMLProps, Ref } from 'react';\nimport { forwardRef } from 'react';\n\nimport styles from './IconButton.module.scss';\n\nexport type Props = Omit<HTMLProps<HTMLButtonElement>, 'type'>;\n\nconst IconButton = ({ children, className, ...rest }: Props, ref: Ref<HTMLButtonElement>) => {\n  return (\n    <button ref={ref} type=\"button\" className={classNames(styles.iconButton, className)} {...rest}>\n      {children}\n    </button>\n  );\n};\n\nexport default forwardRef<HTMLButtonElement, Props>(IconButton);\n","/* istanbul ignore file */\n\nimport type { KeyboardEventHandler, KeyboardEvent } from 'react';\n\ntype callbackHandler<T> = ((event: KeyboardEvent<T>) => void) | undefined;\n\ntype callbackHandlerMap<T> = Record<string, callbackHandler<T>>;\n\nexport const onKeyDownHandler =\n  <T = Element>(callback?: callbackHandler<T> | callbackHandlerMap<T>): KeyboardEventHandler<T> =>\n  (event) => {\n    const { key } = event;\n\n    if (typeof callback === 'function' && [' ', 'Enter'].includes(key)) {\n      callback(event);\n      event.preventDefault();\n    }\n\n    if (typeof callback === 'object') {\n      callback[key]?.(event);\n\n      if (callback[key]) {\n        event.preventDefault();\n      }\n    }\n  };\n","import classNames from 'classnames';\nimport { useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ReactModal from 'react-modal';\n\nimport CloseIcon from '@/assets/icons/close-icon.svg?react';\nimport Button from '@/components/Button';\nimport IconButton from '@/components/Button/IconButton';\nimport { onKeyDownHandler } from '@/utils/a11y';\n\nimport modalStyles from '../../scss/modal.module.scss';\n\nimport styles from './Acmodal.module.scss';\nimport type { ModalProps } from './type';\n\nconst AcModal = ({\n  className,\n  isOpen = false,\n  isConfirmLoading = false,\n  isCancelLoading = false,\n  children,\n  cancelText = 'action.cancel',\n  confirmText = 'action.confirm',\n  confirmTextI18nProps,\n  cancelTextI18nProps,\n  onConfirm,\n  onClose,\n}: ModalProps) => {\n  const { t } = useTranslation();\n\n  const contentRef = useRef<HTMLDivElement>(null);\n\n  return (\n    <ReactModal\n      isOpen={isOpen}\n      className={classNames(styles.modal, className)}\n      overlayClassName={classNames(modalStyles.overlay, styles.overlay)}\n      onAfterOpen={() => {\n        contentRef.current?.focus();\n      }}\n      onRequestClose={onClose}\n    >\n      <div\n        ref={contentRef}\n        className={styles.container}\n        role=\"button\"\n        tabIndex={0}\n        onKeyDown={onKeyDownHandler({\n          Enter: onConfirm ?? onClose,\n          ' ': onConfirm ?? onClose,\n          Escape: onClose,\n        })}\n      >\n        <div className={styles.header}>\n          {t('description.reminder')}\n          <IconButton onClick={onClose}>\n            <CloseIcon />\n          </IconButton>\n        </div>\n        <div className={styles.content}>{children}</div>\n        <div className={styles.footer}>\n          <Button\n            title={cancelText}\n            type=\"secondary\"\n            i18nProps={cancelTextI18nProps}\n            size=\"small\"\n            isLoading={isCancelLoading}\n            onClick={onClose}\n          />\n          {onConfirm && (\n            <Button\n              title={confirmText}\n              i18nProps={confirmTextI18nProps}\n              size=\"small\"\n              isLoading={isConfirmLoading}\n              onClick={onConfirm}\n            />\n          )}\n        </div>\n      </div>\n    </ReactModal>\n  );\n};\n\nexport default AcModal;\n","import classNames from 'classnames';\nimport ReactModal from 'react-modal';\n\nimport Button from '@/components/Button';\n\nimport modalStyles from '../../scss/modal.module.scss';\n\nimport styles from './MobileModal.module.scss';\nimport type { ModalProps } from './type';\n\nconst MobileModal = ({\n  className,\n  isOpen = false,\n  isConfirmLoading = false,\n  isCancelLoading = false,\n  children,\n  cancelText = 'action.cancel',\n  confirmText = 'action.confirm',\n  cancelTextI18nProps,\n  confirmTextI18nProps,\n  onConfirm,\n  onClose,\n}: ModalProps) => {\n  return (\n    <ReactModal\n      shouldCloseOnEsc\n      role=\"dialog\"\n      isOpen={isOpen}\n      className={classNames(styles.modal, className)}\n      overlayClassName={classNames(modalStyles.overlay, styles.overlay)}\n      onRequestClose={onClose}\n    >\n      <div className={styles.container}>\n        <div className={styles.content}>{children}</div>\n        <div className={styles.footer}>\n          <Button\n            title={cancelText}\n            i18nProps={cancelTextI18nProps}\n            isLoading={isCancelLoading}\n            type=\"secondary\"\n            onClick={onClose}\n          />\n          {onConfirm && (\n            <Button\n              title={confirmText}\n              i18nProps={confirmTextI18nProps}\n              isLoading={isConfirmLoading}\n              onClick={onConfirm}\n            />\n          )}\n        </div>\n      </div>\n    </ReactModal>\n  );\n};\n\nexport default MobileModal;\n","import type { Nullable } from '@silverhand/essentials';\nimport { noop } from '@silverhand/essentials';\nimport { useState, useRef, useMemo, createContext, useCallback } from 'react';\n\nimport type { ModalProps } from '@/components/ConfirmModal';\nimport { WebModal, MobileModal } from '@/components/ConfirmModal';\nimport usePlatform from '@/hooks/use-platform';\n\ntype ConfirmModalType = 'alert' | 'confirm';\n\ntype ConfirmModalState = Omit<ModalProps, 'onClose' | 'onConfirm' | 'children'> & {\n  ModalContent: string | (() => Nullable<JSX.Element>);\n  type: ConfirmModalType;\n  isConfirmLoading?: boolean;\n  isCancelLoading?: boolean;\n};\n\n/**\n * Props for promise-based modal usage\n */\ntype PromiseConfirmModalProps = Omit<ConfirmModalState, 'isOpen' | 'type' | 'isConfirmLoading'> & {\n  type?: ConfirmModalType;\n};\n\n/**\n * Props for callback-based modal usage\n */\nexport type CallbackConfirmModalProps = PromiseConfirmModalProps & {\n  onConfirm?: () => Promise<void> | void;\n  onCancel?: () => Promise<void> | void;\n};\n\ntype ConfirmModalContextType = {\n  showPromise: (props: PromiseConfirmModalProps) => Promise<[boolean, unknown?]>;\n  showCallback: (props: CallbackConfirmModalProps) => void;\n};\n\nexport const ConfirmModalContext = createContext<ConfirmModalContextType>({\n  showPromise: async () => [true],\n  showCallback: noop,\n});\n\ntype Props = {\n  readonly children?: React.ReactNode;\n};\n\nconst defaultModalState: ConfirmModalState = {\n  isOpen: false,\n  type: 'confirm',\n  ModalContent: () => null,\n  isConfirmLoading: false,\n  isCancelLoading: false,\n};\n\n/**\n * ConfirmModalProvider component\n *\n * This component provides a context for managing confirm modals throughout the application.\n * It supports both promise-based and callback-based usage patterns. see `usePromiseConfirmModal` and `useConfirmModal` hooks.\n */\nconst ConfirmModalProvider = ({ children }: Props) => {\n  const [modalState, setModalState] = useState<ConfirmModalState>(defaultModalState);\n\n  const resolver = useRef<(value: [result: boolean, data?: unknown]) => void>();\n  const callbackRef = useRef<{\n    onConfirm?: () => Promise<void> | void;\n    onCancel?: () => Promise<void> | void;\n  }>({});\n\n  const { isMobile } = usePlatform();\n\n  const ConfirmModal = isMobile ? MobileModal : WebModal;\n\n  const handleShowPromise = useCallback(\n    async ({ type = 'confirm', ...props }: PromiseConfirmModalProps) => {\n      resolver.current?.([false]);\n\n      setModalState({\n        isOpen: true,\n        type,\n        isConfirmLoading: false,\n        isCancelLoading: false,\n        ...props,\n      });\n\n      return new Promise<[result: boolean, data?: unknown]>((resolve) => {\n        // eslint-disable-next-line @silverhand/fp/no-mutation\n        resolver.current = resolve;\n      });\n    },\n    []\n  );\n\n  const handleShowCallback = useCallback(\n    ({ type = 'confirm', onConfirm, onCancel, ...props }: CallbackConfirmModalProps) => {\n      resolver.current?.([false]);\n\n      setModalState({\n        isOpen: true,\n        type,\n        isConfirmLoading: false,\n        ...props,\n      });\n\n      // eslint-disable-next-line @silverhand/fp/no-mutation\n      callbackRef.current = { onConfirm, onCancel };\n    },\n    []\n  );\n\n  const handleConfirm = useCallback(async (data?: unknown) => {\n    if (callbackRef.current.onConfirm) {\n      setModalState((previous) => ({ ...previous, isConfirmLoading: true }));\n      await callbackRef.current.onConfirm();\n    }\n    resolver.current?.([true, data]);\n    setModalState(defaultModalState);\n  }, []);\n\n  const handleCancel = useCallback(async (data?: unknown) => {\n    if (callbackRef.current.onCancel) {\n      setModalState((previous) => ({ ...previous, isCancelLoading: true }));\n      await callbackRef.current.onCancel();\n    }\n    resolver.current?.([false, data]);\n    setModalState(defaultModalState);\n  }, []);\n\n  const contextValue = useMemo(\n    () => ({\n      showPromise: handleShowPromise,\n      showCallback: handleShowCallback,\n    }),\n    [handleShowPromise, handleShowCallback]\n  );\n\n  const { ModalContent, type, ...restProps } = modalState;\n\n  return (\n    <ConfirmModalContext.Provider value={contextValue}>\n      {children}\n      <ConfirmModal\n        {...restProps}\n        onConfirm={\n          type === 'confirm'\n            ? () => {\n                void handleConfirm();\n              }\n            : undefined\n        }\n        onClose={() => {\n          void handleCancel();\n        }}\n      >\n        {typeof ModalContent === 'string' ? ModalContent : <ModalContent />}\n      </ConfirmModal>\n    </ConfirmModalContext.Provider>\n  );\n};\n\nexport default ConfirmModalProvider;\n","import * as React from \"react\";\nconst SvgArrowPrev = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M8.49054 12.7642L14.1505 18.4142C14.2435 18.5079 14.3541 18.5823 14.476 18.6331C14.5978 18.6838 14.7285 18.71 14.8605 18.71C14.9925 18.71 15.1233 18.6838 15.2451 18.6331C15.367 18.5823 15.4776 18.5079 15.5705 18.4142C15.7568 18.2268 15.8613 17.9733 15.8613 17.7092C15.8613 17.445 15.7568 17.1915 15.5705 17.0042L10.6205 12.0042L15.5705 7.05416C15.7568 6.8668 15.8613 6.61335 15.8613 6.34916C15.8613 6.08498 15.7568 5.83153 15.5705 5.64416C15.4779 5.54967 15.3675 5.4745 15.2456 5.42301C15.1237 5.37151 14.9928 5.34471 14.8605 5.34416C14.7282 5.34471 14.5973 5.37151 14.4755 5.42301C14.3536 5.4745 14.2432 5.54967 14.1505 5.64416L8.49054 11.2942C8.38903 11.3878 8.30802 11.5015 8.25261 11.628C8.19721 11.7545 8.1686 11.8911 8.1686 12.0292C8.1686 12.1673 8.19721 12.3039 8.25261 12.4304C8.30802 12.5569 8.38903 12.6705 8.49054 12.7642Z\", fill: \"currentcolor\" }));\nexport default SvgArrowPrev;\n","import * as React from \"react\";\nconst SvgNavClose = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M13.4099 12.0002L17.7099 7.71019C17.8982 7.52188 18.004 7.26649 18.004 7.00019C18.004 6.73388 17.8982 6.47849 17.7099 6.29019C17.5216 6.10188 17.2662 5.99609 16.9999 5.99609C16.7336 5.99609 16.4782 6.10188 16.2899 6.29019L11.9999 10.5902L7.70994 6.29019C7.52164 6.10188 7.26624 5.99609 6.99994 5.99609C6.73364 5.99609 6.47824 6.10188 6.28994 6.29019C6.10164 6.47849 5.99585 6.73388 5.99585 7.00019C5.99585 7.26649 6.10164 7.52188 6.28994 7.71019L10.5899 12.0002L6.28994 16.2902C6.19621 16.3831 6.12182 16.4937 6.07105 16.6156C6.02028 16.7375 5.99414 16.8682 5.99414 17.0002C5.99414 17.1322 6.02028 17.2629 6.07105 17.3848C6.12182 17.5066 6.19621 17.6172 6.28994 17.7102C6.3829 17.8039 6.4935 17.8783 6.61536 17.9291C6.73722 17.9798 6.86793 18.006 6.99994 18.006C7.13195 18.006 7.26266 17.9798 7.38452 17.9291C7.50638 17.8783 7.61698 17.8039 7.70994 17.7102L11.9999 13.4102L16.2899 17.7102C16.3829 17.8039 16.4935 17.8783 16.6154 17.9291C16.7372 17.9798 16.8679 18.006 16.9999 18.006C17.132 18.006 17.2627 17.9798 17.3845 17.9291C17.5064 17.8783 17.617 17.8039 17.7099 17.7102C17.8037 17.6172 17.8781 17.5066 17.9288 17.3848C17.9796 17.2629 18.0057 17.1322 18.0057 17.0002C18.0057 16.8682 17.9796 16.7375 17.9288 16.6156C17.8781 16.4937 17.8037 16.3831 17.7099 16.2902L13.4099 12.0002Z\", fill: \"currentcolor\" }));\nexport default SvgNavClose;\n","import classNames from 'classnames';\nimport { cloneElement, isValidElement, type ReactElement } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly children: ReactElement<HTMLElement>;\n};\n\n/**\n * This component flips its child element horizontally if the browser's text direction is RTL (right-to-left).\n *\n * @component\n * @example\n * ```tsx\n * <FlipOnRtl>\n *   <SVG />\n * </FlipOnRtl>\n * ```\n *\n * @param {React.ReactNode} children - The SVG or other HTML content to render and flip if RTL.\n * @returns {JSX.Element} The flipped content.\n */\nfunction FlipOnRtl({ children }: Props) {\n  const { i18n } = useTranslation();\n  const isRtl = i18n.dir() === 'rtl';\n\n  if (!isValidElement(children)) {\n    return children;\n  }\n\n  return cloneElement(children, {\n    className: classNames(children.props.className, isRtl && styles.flip),\n  });\n}\n\nexport default FlipOnRtl;\n","import classNames from 'classnames';\nimport { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\n\nimport ArrowPrev from '@/assets/icons/arrow-prev.svg?react';\nimport NavClose from '@/assets/icons/nav-close.svg?react';\nimport { onKeyDownHandler } from '@/utils/a11y';\n\nimport FlipOnRtl from '../FlipOnRtl';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly title?: string;\n  readonly type?: 'back' | 'close';\n  readonly isHidden?: boolean;\n  readonly onClose?: () => void;\n  readonly onSkip?: () => void;\n};\n\nconst NavBar = ({ title, type = 'back', isHidden, onClose, onSkip }: Props) => {\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n\n  const isClosable = type === 'close';\n\n  const clickHandler = useCallback(() => {\n    if (onClose) {\n      onClose();\n\n      return;\n    }\n\n    if (isClosable) {\n      window.close();\n\n      return;\n    }\n\n    navigate(-1);\n  }, [isClosable, navigate, onClose]);\n\n  return (\n    <div className={classNames(styles.navBar, isHidden && styles.hidden)}>\n      <div\n        role=\"button\"\n        tabIndex={0}\n        className={styles.navButton}\n        onKeyDown={onKeyDownHandler(clickHandler)}\n        onClick={clickHandler}\n      >\n        {isClosable ? (\n          <NavClose />\n        ) : (\n          <FlipOnRtl>\n            <ArrowPrev />\n          </FlipOnRtl>\n        )}\n        {!isClosable && <span>{t('action.nav_back')}</span>}\n      </div>\n      {title && <div className={styles.title}>{title}</div>}\n      {onSkip && (\n        <div\n          role=\"button\"\n          tabIndex={0}\n          className={styles.skipButton}\n          onKeyDown={onKeyDownHandler(onSkip)}\n          onClick={onSkip}\n        >\n          <span>{t('action.nav_skip')}</span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default NavBar;\n","import classNames from 'classnames';\nimport { useRef, useState } from 'react';\nimport ReactModal from 'react-modal';\nimport type { LoadingBarRef } from 'react-top-loading-bar';\nimport LoadingBar from 'react-top-loading-bar';\n\nimport NavBar from '@/components/NavBar';\n\nimport styles from './index.module.scss';\n\ntype ModalProps = {\n  readonly className?: string;\n  readonly title?: string;\n  readonly href?: string;\n  readonly onClose: () => void;\n};\n\nconst IframeModal = ({ className, title = '', href = '', onClose }: ModalProps) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const loadingBarRef = useRef<LoadingBarRef>(null);\n\n  const brandingColor = document.body.style.getPropertyValue('--color-brand-default') || '#5d34f2';\n\n  return (\n    <ReactModal\n      shouldCloseOnEsc\n      id=\"iframe-modal\"\n      role=\"dialog\"\n      isOpen={Boolean(href)}\n      className={classNames(styles.modal, className)}\n      overlayClassName={styles.overlay}\n      closeTimeoutMS={300}\n      onAfterOpen={() => {\n        loadingBarRef.current?.continuousStart();\n      }}\n      onRequestClose={onClose}\n    >\n      <div className={styles.container}>\n        <div className={styles.header}>\n          <NavBar type=\"close\" title={title} onClose={onClose} />\n        </div>\n        <LoadingBar\n          ref={loadingBarRef}\n          containerStyle={{ position: 'relative' }}\n          shadow={false}\n          color={brandingColor}\n          waitingTime={300}\n          className={styles.loader}\n        />\n        <div className={styles.content}>\n          <iframe\n            title={title}\n            src={href}\n            sandbox=\"allow-same-origin\"\n            className={classNames(styles.iframe, isLoaded && styles.loaded)}\n            onLoad={() => {\n              setIsLoaded(true);\n              loadingBarRef.current?.complete();\n            }}\n            onError={() => {\n              setIsLoaded(true);\n              loadingBarRef.current?.complete();\n            }}\n          />\n        </div>\n      </div>\n    </ReactModal>\n  );\n};\n\nexport default IframeModal;\n","import { noop } from '@silverhand/essentials';\nimport { useState, useMemo, createContext, useContext } from 'react';\n\nimport usePlatform from '@/hooks/use-platform';\n\nimport IframeModal from './IframeModal';\n\ntype ModalState = {\n  href?: string;\n  title?: string;\n};\n\nexport const IframeModalContext = createContext<\n  ModalState & { setModalState: (props: ModalState) => void }\n>({\n  href: undefined,\n  title: undefined,\n  setModalState: noop,\n});\n\nexport const useIframeModal = () => useContext(IframeModalContext);\n\ntype Props = {\n  readonly children: React.ReactNode;\n};\n\nconst IframeModalProvider = ({ children }: Props) => {\n  const [modalState, setModalState] = useState<ModalState>();\n  const { isMobile } = usePlatform();\n\n  const context = useMemo(\n    () => ({\n      ...modalState,\n      setModalState,\n    }),\n    [modalState]\n  );\n\n  return (\n    <IframeModalContext.Provider value={context}>\n      {children}\n      {isMobile && (\n        <IframeModal\n          href={modalState?.href}\n          title={modalState?.title}\n          onClose={() => {\n            setModalState(undefined);\n          }}\n        />\n      )}\n    </IframeModalContext.Provider>\n  );\n};\n\nexport default IframeModalProvider;\n","import { useEffect, useState } from 'react';\nimport ReactModal from 'react-modal';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly message: string;\n  readonly duration?: number;\n  readonly callback?: () => void;\n};\n\nconst Toast = ({ message, duration = 3000, callback }: Props) => {\n  const [text, setText] = useState('');\n\n  useEffect(() => {\n    if (!message) {\n      return;\n    }\n\n    setText(message);\n\n    const timer = setTimeout(() => {\n      callback?.();\n    }, duration);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [callback, duration, message, text]);\n\n  return (\n    <ReactModal\n      shouldFocusAfterRender={false}\n      // For styling use\n      // eslint-disable-next-line jsx-a11y/aria-role\n      role=\"toast\"\n      isOpen={Boolean(message)}\n      overlayClassName={styles.toastContainer}\n      className={styles.toast}\n      closeTimeoutMS={300}\n    >\n      {text}\n    </ReactModal>\n  );\n};\n\nexport default Toast;\n","import type { ReactNode } from 'react';\nimport { useCallback, useContext } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport Toast from '@/components/Toast';\n\ntype Props = {\n  readonly children: ReactNode;\n};\n\nconst ToastProvider = ({ children }: Props) => {\n  const { toast, setToast } = useContext(PageContext);\n\n  // Prevent internal eventListener rebind\n  const hideToast = useCallback(() => {\n    setToast('');\n  }, [setToast]);\n\n  return (\n    <>\n      {children}\n      <Toast message={toast} callback={hideToast} />\n    </>\n  );\n};\n\nexport default ToastProvider;\n","export default \"__VITE_ASSET__DhSICqjw__\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHlSURBVHgBVVMxktNAEJzZtc8yBCglwrzg9ASuLiGDiNi8AH4AL+AJcEURQwTx8QM/4fiGpZ2mZ3Yl6+xaW9qd6e7pnVFZfb69xuFpGvttluHJNr/YKQ77rEOX0e+zHLaCm5c/tvfrHPWfL7fnD7usn/dJn+0ylMHCZ+wStMsqHd+7xL1NPnZp+gfRXiWfnt/pQ3IAgwwF0nP5sxSoTPz3VfzcBAWQEUWL4Ajgl0n55LkBwEQtkQCdlmSoUWAxWcBGohVL3NWlhADgIaZg12AqlFFVIBbzAgzI4FEsflcAUhWMZC2yKCCQAzYFVks4m6kDUgcWAEPCHEzJqEpm4PQwmb33dzEqYEp4JdC1glZ/Y+PhZAEmZ+D+9ufVHUvCufoVZH5+MZE2h9sMciAGND9YdjOrEpQAdgJ7ZCIdqm5jvo2QGc8Fw++309FNDRIx9ase1wrCA1lYpVx6wA0bSPC1mprhiW4oqgXzNdLZaBRXoGsfVma2ppLWE+0eA2CMMpw9PLjInwGt7o2lqCuoe6sSEAkeTHO81gbw2A+FtXJ9j6EhYdM68cSZeUMf+pFsG42O1OaJ++AxuqUHJY1/vRcmte/LNM6fj6/Qd9M0dBvtOYkDJ/Kak+ijfO2TmQw37/5cndY5/wFNtK2utQv29wAAAABJRU5ErkJggg==\"","import { Theme } from '@logto/schemas';\nimport { conditionalString } from '@silverhand/essentials';\nimport classNames from 'classnames';\nimport i18next from 'i18next';\nimport { useContext } from 'react';\nimport { Helmet } from 'react-helmet';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport defaultAppleTouchLogo from '@/assets/apple-touch-icon.png';\nimport defaultFavicon from '@/assets/favicon.png';\nimport { type SignInExperienceResponse } from '@/types';\n\nimport styles from './index.module.scss';\n\nconst themeToFavicon = Object.freeze({\n  [Theme.Light]: 'favicon',\n  [Theme.Dark]: 'darkFavicon',\n} as const satisfies Record<Theme, keyof SignInExperienceResponse['branding']>);\n\n/**\n * User React Helmet to manage html and body attributes\n * @see https://github.com/nfl/react-helmet\n *\n * - lang: set html lang attribute\n * - data-theme: set html data-theme attribute\n * - favicon: set favicon\n * - apple-touch-icon: set apple touch icon\n * - body class: set preview body class\n * - body class: set platform body class\n * - body class: set theme body class\n * - custom css: set custom css style tag\n */\n\nconst AppMeta = () => {\n  const { experienceSettings, theme, platform, isPreview } = useContext(PageContext);\n  const favicon =\n    experienceSettings?.branding[themeToFavicon[theme]] ?? experienceSettings?.branding.favicon;\n\n  return (\n    <Helmet>\n      <html lang={i18next.language} dir={i18next.dir()} data-theme={theme} />\n      <link rel=\"shortcut icon\" href={favicon ?? defaultFavicon} />\n      <link rel=\"apple-touch-icon\" href={favicon ?? defaultAppleTouchLogo} sizes=\"180x180\" />\n      {experienceSettings?.customCss && <style>{experienceSettings.customCss}</style>}\n      <body\n        className={classNames(\n          conditionalString(isPreview && styles.preview),\n          platform === 'mobile' ? 'mobile' : 'desktop',\n          conditionalString(styles[theme])\n        )}\n      />\n    </Helmet>\n  );\n};\n\nexport default AppMeta;\n","import type { ReactElement } from 'react';\n\nimport useColorTheme from '@/Providers/AppBoundary/use-color-theme';\n\nimport ConfirmModalProvider from '../ConfirmModalProvider';\nimport IframeModalProvider from '../IframeModalProvider';\nimport ToastProvider from '../ToastProvider';\n\nimport AppMeta from './AppMeta';\n\ntype Props = {\n  readonly children: ReactElement;\n};\n\nconst AppBoundary = ({ children }: Props) => {\n  useColorTheme();\n\n  return (\n    <>\n      <AppMeta />\n      <IframeModalProvider>\n        <ConfirmModalProvider>\n          <ToastProvider>{children}</ToastProvider>\n        </ConfirmModalProvider>\n      </IframeModalProvider>\n    </>\n  );\n};\n\nexport default AppBoundary;\n","import { useContext } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\n\nconst useToast = () => {\n  const { toast, setToast } = useContext(PageContext);\n\n  return { toast, setToast };\n};\n\nexport default useToast;\n","import { createContext } from 'react';\n\nimport { type SignInExperienceResponse } from '@/types';\n\nexport type CaptchaContextType = {\n  isCaptchaRequired: boolean;\n  captchaConfig: SignInExperienceResponse['captchaConfig'];\n  executeCaptcha: () => Promise<string | undefined>;\n  // Some captcha providers need to render a widget (checkbox, etc.) to the page\n  // and this is the ref to the widget\n  widgetRef: React.RefObject<HTMLDivElement> | undefined;\n};\n\nexport default createContext<CaptchaContextType>({\n  isCaptchaRequired: false,\n  captchaConfig: undefined,\n  widgetRef: undefined,\n  executeCaptcha: async () => {\n    // eslint-disable-next-line unicorn/no-useless-undefined\n    return undefined;\n  },\n});\n","export const scriptId = 'captcha-script';\n","import { CaptchaType } from '@logto/schemas';\n\nimport { type SignInExperienceResponse } from '@/types';\n\nexport const getScript = (config: SignInExperienceResponse['captchaConfig']) => {\n  // Not supposed to happen\n  if (!config) {\n    throw new Error('Captcha config is not found');\n  }\n\n  if (config.type === CaptchaType.Turnstile) {\n    return `https://challenges.cloudflare.com/turnstile/v0/api.js`;\n  }\n\n  return `https://www.google.com/recaptcha/enterprise.js?render=${config.siteKey}`;\n};\n","import { CaptchaType, Theme } from '@logto/schemas';\nimport { useMemo, useContext, useCallback, useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport useToast from '@/hooks/use-toast';\n\nimport PageContext from '../PageContextProvider/PageContext';\n\nimport CaptchaContext, { type CaptchaContextType } from './CaptchaContext';\nimport { scriptId } from './constant';\nimport { getScript } from './utils';\n\ntype Props = {\n  readonly children: React.ReactNode;\n};\n\nconst CaptchaContextProvider = ({ children }: Props) => {\n  const { experienceSettings, theme } = useContext(PageContext);\n  const widgetRef = useRef<HTMLDivElement>(null);\n  const { setToast } = useToast();\n  const { t } = useTranslation();\n\n  const captchaPolicy = experienceSettings?.captchaPolicy;\n  const captchaConfig = experienceSettings?.captchaConfig;\n\n  const isCaptchaRequired = Boolean(captchaPolicy?.enabled);\n\n  const initCaptcha = useCallback(() => {\n    if (!isCaptchaRequired || !captchaConfig) {\n      return;\n    }\n\n    if (document.querySelector(`#${scriptId}`)) {\n      return;\n    }\n\n    const script = document.createElement('script');\n    /* eslint-disable @silverhand/fp/no-mutation */\n    script.src = getScript(captchaConfig);\n    script.id = scriptId;\n    script.async = true;\n    /* eslint-enable @silverhand/fp/no-mutation */\n\n    document.body.append(script);\n  }, [isCaptchaRequired, captchaConfig]);\n\n  const executeCaptcha = useCallback(async () => {\n    if (!isCaptchaRequired || !captchaConfig) {\n      return;\n    }\n\n    if (captchaConfig.type === CaptchaType.Turnstile) {\n      return new Promise<string | undefined>((resolve, reject) => {\n        if (!window.turnstile || !widgetRef.current) {\n          resolve(undefined);\n          return;\n        }\n\n        // Clear the dom element first\n        // eslint-disable-next-line @silverhand/fp/no-mutation\n        widgetRef.current.innerHTML = '';\n\n        window.turnstile.render(widgetRef.current, {\n          sitekey: captchaConfig.siteKey,\n          theme: theme === Theme.Light ? 'light' : 'dark',\n          callback: (token: string) => {\n            resolve(token);\n          },\n          'error-callback': (errorCode) => {\n            setToast(t('error.captcha_verification_failed'));\n            reject(new Error(`Turnstile error: ${errorCode}`));\n          },\n        });\n      });\n    }\n\n    if (!window.grecaptcha?.enterprise) {\n      return;\n    }\n\n    return window.grecaptcha.enterprise.execute(captchaConfig.siteKey, {\n      action: 'interaction',\n    });\n  }, [isCaptchaRequired, captchaConfig, theme, setToast, t]);\n\n  useEffect(() => {\n    initCaptcha();\n  }, [initCaptcha]);\n\n  const captchaContext = useMemo<CaptchaContextType>(\n    () => ({\n      isCaptchaRequired,\n      executeCaptcha,\n      captchaConfig,\n      widgetRef,\n    }),\n    [isCaptchaRequired, executeCaptcha, captchaConfig, widgetRef]\n  );\n\n  return <CaptchaContext.Provider value={captchaContext}>{children}</CaptchaContext.Provider>;\n};\n\nexport default CaptchaContextProvider;\n","import { type ReactNode } from 'react';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly children?: ReactNode;\n};\n\nconst LoadingMask = ({ children }: Props) => {\n  return <div className={styles.overlay}>{children}</div>;\n};\n\nexport default LoadingMask;\n","import { useContext } from 'react';\nimport { Outlet } from 'react-router-dom';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport LoadingMask from '@/components/LoadingMask';\n\nconst LoadingLayerProvider = () => {\n  const { loading } = useContext(PageContext);\n\n  return (\n    <>\n      <Outlet />\n      {loading && <LoadingMask />}\n    </>\n  );\n};\n\nexport default LoadingLayerProvider;\n","import { Theme } from '@logto/schemas';\nimport { useState, useMemo } from 'react';\nimport { isMobile } from 'react-device-detect';\nimport { useSearchParams } from 'react-router-dom';\n\nimport type { SignInExperienceResponse, Platform } from '@/types';\n\nimport type { PageContextType } from './PageContext';\nimport MainContext from './PageContext';\n\ntype Props = {\n  readonly children: React.ReactNode;\n  readonly preset?: Partial<\n    Pick<\n      PageContextType,\n      | 'theme'\n      | 'toast'\n      | 'loading'\n      | 'platform'\n      | 'termsAgreement'\n      | 'experienceSettings'\n      | 'isPreview'\n    >\n  >;\n};\n\nconst PageContextProvider = ({ children, preset }: Props) => {\n  const [searchParameters] = useSearchParams();\n\n  const [loading, setLoading] = useState(preset?.loading ?? false);\n  const [toast, setToast] = useState(preset?.toast ?? '');\n  const [theme, setTheme] = useState<Theme>(preset?.theme ?? Theme.Light);\n\n  const [platform, setPlatform] = useState<Platform>(\n    preset?.platform ?? (isMobile ? 'mobile' : 'web')\n  );\n  const [termsAgreement, setTermsAgreement] = useState(preset?.termsAgreement ?? false);\n  const [experienceSettings, setExperienceSettings] = useState<\n    SignInExperienceResponse | undefined\n  >(preset?.experienceSettings ?? undefined);\n\n  const isPreview = searchParameters.get('preview') === 'true';\n\n  const pageContext = useMemo<PageContextType>(\n    () => ({\n      theme,\n      toast,\n      loading,\n      platform,\n      termsAgreement,\n      experienceSettings,\n      isPreview,\n      setTheme,\n      setLoading,\n      setToast,\n      setPlatform,\n      setTermsAgreement,\n      setExperienceSettings,\n    }),\n    [experienceSettings, isPreview, loading, platform, termsAgreement, theme, toast]\n  );\n\n  return <MainContext.Provider value={pageContext}>{children}</MainContext.Provider>;\n};\n\nexport default PageContextProvider;\n","import { languages, fallback } from '@logto/language-kit';\nimport { z } from 'zod';\nimport ar from './locales/ar/index.js';\nimport de from './locales/de/index.js';\nimport en from './locales/en/index.js';\nimport es from './locales/es/index.js';\nimport fr from './locales/fr/index.js';\nimport it from './locales/it/index.js';\nimport ja from './locales/ja/index.js';\nimport ko from './locales/ko/index.js';\nimport plPL from './locales/pl-pl/index.js';\nimport ptBR from './locales/pt-br/index.js';\nimport ptPT from './locales/pt-pt/index.js';\nimport ru from './locales/ru/index.js';\nimport trTR from './locales/tr-tr/index.js';\nimport ukUA from './locales/uk-ua/index.js';\nimport zhCN from './locales/zh-cn/index.js';\nimport zhHK from './locales/zh-hk/index.js';\nimport zhTW from './locales/zh-tw/index.js';\nexport const builtInLanguages = [\n    'ar',\n    'de',\n    'en',\n    'es',\n    'fr',\n    'it',\n    'ja',\n    'ko',\n    'pl-PL',\n    'pt-PT',\n    'pt-BR',\n    'ru',\n    'tr-TR',\n    'uk-UA',\n    'zh-CN',\n    'zh-HK',\n    'zh-TW',\n];\nexport const builtInLanguageOptions = builtInLanguages.map((languageTag) => ({\n    value: languageTag,\n    title: languages[languageTag],\n}));\nexport const builtInLanguageTagGuard = z.enum(builtInLanguages);\nconst resource = {\n    ar,\n    de,\n    en,\n    es,\n    fr,\n    it,\n    ja,\n    ko,\n    'pl-PL': plPL,\n    'pt-PT': ptPT,\n    'pt-BR': ptBR,\n    ru,\n    'tr-TR': trTR,\n    'uk-UA': ukUA,\n    'zh-CN': zhCN,\n    'zh-HK': zhHK,\n    'zh-TW': zhTW,\n};\nexport const getDefaultLanguageTag = (language) => builtInLanguageTagGuard.or(fallback('en')).parse(language);\nexport const isBuiltInLanguageTag = (language) => builtInLanguageTagGuard.safeParse(language).success;\nexport default resource;\n","import { condString } from '@silverhand/essentials';\n\nexport const searchKeysCamelCase = Object.freeze(['organizationId', 'appId'] as const);\n\ntype SearchKeysCamelCase = (typeof searchKeysCamelCase)[number];\n\nexport const searchKeys = Object.freeze({\n  /**\n   * The key for specifying the organization ID that may be used to override the default settings.\n   */\n  organizationId: 'organization_id',\n  /** The current application ID. */\n  appId: 'app_id',\n} satisfies Record<SearchKeysCamelCase, string>);\n\nexport const handleSearchParametersData = () => {\n  const { search } = window.location;\n\n  if (!search) {\n    return;\n  }\n\n  const parameters = new URLSearchParams(search);\n\n  // Store known search keys to the session storage and remove them from the URL to keep the URL\n  // clean.\n  for (const key of Object.values(searchKeys)) {\n    const value = parameters.get(key);\n    if (value) {\n      sessionStorage.setItem(key, value);\n      parameters.delete(key);\n    } else {\n      sessionStorage.removeItem(key);\n    }\n  }\n\n  const conditionalParamString = condString(parameters.size > 0 && `?${parameters.toString()}`);\n\n  window.history.replaceState({}, '', window.location.pathname + conditionalParamString);\n};\n","/**\n * Used to get and general sign-in experience settings.\n * The API will be deprecated in the future once SSR is implemented.\n */\n\nimport type { Nullable, Optional } from '@silverhand/essentials';\nimport { conditional } from '@silverhand/essentials';\nimport ky from 'ky';\n\nimport type { SignInExperienceResponse } from '@/types';\nimport { searchKeys } from '@/utils/search-parameters';\n\nconst buildSearchParameters = (record: Record<string, Nullable<Optional<string>>>) => {\n  const entries = Object.entries(record).filter((entry): entry is [string, string] =>\n    Boolean(entry[0] && entry[1])\n  );\n\n  return conditional(entries.length > 0 && entries);\n};\n\n// A simple camelCase utility to prevent the need to add a dependency.\nconst camelCase = (string: string): string =>\n  string.replaceAll(\n    /_([^_])([^_]*)/g,\n    (_, letter: string, rest: string) => letter.toUpperCase() + rest.toLowerCase()\n  );\n\nexport const getSignInExperience = async <T extends SignInExperienceResponse>(): Promise<T> => {\n  return ky\n    .get('/api/.well-known/sign-in-exp', {\n      searchParams: buildSearchParameters(\n        Object.fromEntries(\n          Object.values(searchKeys).map((key) => [camelCase(key), sessionStorage.getItem(key)])\n        )\n      ),\n    })\n    .json<T>();\n};\n\nexport const getPhrases = async ({\n  localLanguage,\n  language,\n}: {\n  localLanguage?: string;\n  language?: string;\n}) =>\n  ky\n    .extend({\n      hooks: {\n        beforeRequest: [\n          (request) => {\n            if (localLanguage) {\n              request.headers.set('Accept-Language', localLanguage);\n            }\n          },\n        ],\n      },\n    })\n    .get('/api/.well-known/phrases', {\n      searchParams: buildSearchParameters({\n        lng: language,\n      }),\n    });\n","import type { LocalePhrase } from '@logto/phrases-experience';\nimport resource from '@logto/phrases-experience';\nimport type { LanguageInfo } from '@logto/schemas';\nimport { isObject } from '@silverhand/essentials';\nimport type { Resource } from 'i18next';\nimport i18next from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\nimport { getPhrases as getPhrasesApi } from '@/apis/settings';\n\nconst getPhrases = async (language?: string) => {\n  // Directly use the server-side phrases if it's already fetched\n  if (isObject(logtoSsr) && (!language || logtoSsr.phrases.lng === language)) {\n    return { phrases: logtoSsr.phrases.data, lng: logtoSsr.phrases.lng };\n  }\n\n  const detectedLanguage = detectLanguage();\n  const response = await getPhrasesApi({\n    localLanguage: Array.isArray(detectedLanguage) ? detectedLanguage.join(' ') : detectedLanguage,\n    language,\n  });\n\n  const remotePhrases = await response.json<LocalePhrase>();\n  const lng = response.headers.get('Content-Language');\n\n  if (!lng) {\n    throw new Error('lng not found');\n  }\n\n  return { phrases: remotePhrases, lng };\n};\n\nexport const getI18nResource = async (\n  language?: string\n): Promise<{ resources: Resource; lng: string }> => {\n  try {\n    const { phrases, lng } = await getPhrases(language);\n\n    return {\n      resources: { [lng]: phrases },\n      lng,\n    };\n  } catch {\n    // Fallback to build in en\n    return {\n      resources: { en: resource.en },\n      lng: 'en',\n    };\n  }\n};\n\nconst storageKey = 'i18nextLogtoUiLng';\n\nexport const detectLanguage = (languageSettings?: LanguageInfo) => {\n  if (languageSettings?.autoDetect === false) {\n    return languageSettings.fallbackLanguage;\n  }\n\n  const languageDetector = new LanguageDetector();\n  languageDetector.init(\n    // Pass in a empty i18n languageUtils server instance to bypass the [languageDetector detection](https://github.com/i18next/i18next-browser-languageDetector/blob/master/src/index.js#L70)\n    { languageUtils: {} },\n    {\n      lookupLocalStorage: storageKey,\n      lookupSessionStorage: storageKey,\n    }\n  );\n\n  return languageDetector.detect();\n};\n\n// Must be called after i18n's initialization\nexport const changeLanguage = async (language: string) => {\n  const { resources, lng } = await getI18nResource(language);\n\n  for (const [namespace, resource] of Object.entries(resources[lng] ?? {})) {\n    i18next.addResourceBundle(lng, namespace, resource);\n  }\n\n  await i18next.changeLanguage(lng);\n};\n","import type { InitOptions } from 'i18next';\nimport i18next from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\nimport { getI18nResource } from '@/i18n/utils';\n\n// Call once globally\ni18next.use(initReactI18next);\n\nconst initI18n = async (initialLanguage?: string) => {\n  const { resources, lng } = await getI18nResource(initialLanguage);\n\n  const options: InitOptions = {\n    resources,\n    lng,\n    interpolation: {\n      escapeValue: false,\n    },\n  };\n\n  const i18n = i18next.init(options);\n\n  /**\n   * Note\n   * - Must call after i18next is initialized\n   * - Don't worry to call this multiple times, i18next will replace the formatter if it's already added.\n   */\n  i18next.services.formatter?.add('zhOrSpaces', (value: string, lng) => {\n    if (lng !== 'zh-CN') {\n      return value;\n    }\n\n    return value.replaceAll(//g, '  ');\n  });\n\n  return i18n;\n};\n\nexport default initI18n;\n","import type {\n  SignInIdentifier,\n  Theme,\n  WebAuthnRegistrationOptions,\n  WebAuthnAuthenticationOptions,\n  FullSignInExperience,\n  InteractionEvent,\n} from '@logto/schemas';\n\nexport enum UserFlow {\n  SignIn = 'sign-in',\n  Register = 'register',\n  ForgotPassword = 'forgot-password',\n  Continue = 'continue',\n}\n\nexport enum UserMfaFlow {\n  MfaBinding = 'mfa-binding',\n  MfaVerification = 'mfa-verification',\n}\n\nexport enum SearchParameters {\n  NativeCallbackLink = 'native_callback',\n  RedirectTo = 'redirect_to',\n  LinkSocial = 'link_social',\n}\n\nexport type Platform = 'web' | 'mobile';\n\nexport type VerificationCodeIdentifier = SignInIdentifier.Email | SignInIdentifier.Phone;\n\nexport type SignInExperienceResponse = Omit<FullSignInExperience, 'socialSignInConnectorTargets'>;\n\nexport type PreviewConfig = {\n  signInExperience: SignInExperienceResponse;\n  language: string;\n  mode: Theme;\n  platform: Platform;\n  isNative: boolean;\n};\n\nexport type ArrayElement<ArrayType extends readonly unknown[]> =\n  ArrayType extends ReadonlyArray<infer ElementType> ? ElementType : never;\n\nexport type WebAuthnOptions = WebAuthnRegistrationOptions | WebAuthnAuthenticationOptions;\n\nexport type ContinueFlowInteractionEvent = InteractionEvent.Register | InteractionEvent.SignIn;\n","import { fromUint8Array } from 'js-base64';\n\nexport const generateRandomString = (length = 8) =>\n  fromUint8Array(crypto.getRandomValues(new Uint8Array(length)), true);\n\nexport const parseQueryParameters = (parameters: string | URLSearchParams) => {\n  const searchParameters =\n    parameters instanceof URLSearchParams ? parameters : new URLSearchParams(parameters);\n\n  return Object.fromEntries(\n    [...searchParameters.entries()].map(([key, value]) => [key, decodeURIComponent(value)])\n  );\n};\n\nexport const queryStringify = (parameters: URLSearchParams | Record<string, string>) => {\n  const searchParameters =\n    parameters instanceof URLSearchParams ? parameters : new URLSearchParams(parameters);\n\n  return searchParameters.toString();\n};\n\nexport const getSearchParameters = (parameters: string | URLSearchParams, key: string) => {\n  const searchParameters =\n    parameters instanceof URLSearchParams ? parameters : new URLSearchParams(parameters);\n\n  return searchParameters.get(key) ?? undefined;\n};\n\nexport type Entries<T> = Array<\n  {\n    [K in keyof T]: [K, T[K]];\n  }[keyof T]\n>;\n\nexport const entries = <T extends Record<string, unknown>>(object: T): Entries<T> =>\n  // eslint-disable-next-line no-restricted-syntax\n  Object.entries(object) as Entries<T>;\n\nexport const fromEntries = <T extends Record<string, unknown>>(entries: Entries<T>) =>\n  // eslint-disable-next-line no-restricted-syntax\n  Object.fromEntries(entries) as T;\n\nexport const isKeyOf = <T extends Record<string, unknown>>(\n  key: string | number | symbol,\n  object: T\n): key is keyof T => key in object;\n","/**\n * Native SDK Utility Methods\n */\nexport const getLogtoNativeSdk = () => {\n  if (typeof logtoNativeSdk !== 'undefined') {\n    return logtoNativeSdk;\n  }\n};\n\nexport const isNativeWebview = () => {\n  const platform = getLogtoNativeSdk()?.platform ?? '';\n\n  return ['ios', 'android'].includes(platform);\n};\n","import { GoogleConnector } from '@logto/connector-kit';\nimport type { ExperienceSocialConnector } from '@logto/schemas';\nimport { ConnectorPlatform } from '@logto/schemas';\nimport { getCookie } from 'tiny-cookie';\n\nimport { SearchParameters } from '@/types';\nimport { generateRandomString } from '@/utils';\nimport { getLogtoNativeSdk, isNativeWebview } from '@/utils/native-sdk';\n\n/**\n * Social Connector State Utility Methods\n */\n\nconst storageStateKeyPrefix = 'social_auth_state';\n\nexport const generateState = () => {\n  const uuid = generateRandomString();\n\n  return uuid;\n};\n\nexport const storeState = (state: string, connectorId: string) => {\n  sessionStorage.setItem(`${storageStateKeyPrefix}:${connectorId}`, state);\n};\n\n/**\n * Validate the state parameter from the social connector callback. If the state parameter is empty\n * or invalid, it will return false.\n */\nexport const validateState = (state: string | undefined, connectorId: string): boolean => {\n  if (!state) {\n    return false;\n  }\n\n  const storageKey = `${storageStateKeyPrefix}:${connectorId}`;\n  const stateStorage = sessionStorage.getItem(storageKey);\n  sessionStorage.removeItem(storageKey);\n\n  return stateStorage === state;\n};\n\nexport const validateGoogleOneTapCsrfToken = (csrfToken?: string): boolean =>\n  Boolean(csrfToken && getCookie(GoogleConnector.oneTapParams.csrfToken) === csrfToken);\n\n/**\n * Native Social Redirect Utility Methods\n */\nexport const storageCallbackLinkKeyPrefix = 'social_callback_data';\n\nexport const buildSocialLandingUri = (path: string, redirectTo: string) => {\n  const { origin } = window.location;\n  const url = new URL(`${origin}${path}`);\n  url.searchParams.set(SearchParameters.RedirectTo, redirectTo);\n\n  const callbackLink = getLogtoNativeSdk()?.callbackLink;\n\n  if (callbackLink) {\n    url.searchParams.set(SearchParameters.NativeCallbackLink, callbackLink);\n  }\n\n  return url;\n};\n\nexport const storeCallbackLink = (connectorId: string, callbackLink: string) => {\n  sessionStorage.setItem(`${storageCallbackLinkKeyPrefix}:${connectorId}`, callbackLink);\n};\n\nexport const getCallbackLinkFromStorage = (connectorId: string) => {\n  return sessionStorage.getItem(`${storageCallbackLinkKeyPrefix}:${connectorId}`);\n};\n\nexport const removeCallbackLinkFromStorage = (connectorId: string) => {\n  sessionStorage.removeItem(`${storageCallbackLinkKeyPrefix}:${connectorId}`);\n};\n\n/**\n * Social Connectors Filter Utility Methods\n */\nexport const filterSocialConnectors = (socialConnectors?: ExperienceSocialConnector[]) => {\n  if (!socialConnectors) {\n    return [];\n  }\n\n  const connectorMap = new Map<string, ExperienceSocialConnector>();\n\n  /**\n   * Browser Environment\n   * Accepts both web and universal platform connectors.\n   * Insert universal connectors only if there is no web platform connector provided with the same target.\n   * Web platform has higher priority.\n   **/\n\n  if (!isNativeWebview()) {\n    for (const connector of socialConnectors) {\n      const { platform, target } = connector;\n\n      if (platform === ConnectorPlatform.Native) {\n        continue;\n      }\n\n      if (platform === ConnectorPlatform.Web || !connectorMap.get(target)) {\n        connectorMap.set(target, connector);\n        continue;\n      }\n    }\n\n    return Array.from(connectorMap.values());\n  }\n\n  /**\n   * Native Webview Environment\n   * Accepts both native and universal platform connectors.\n   * Native platform has higher priority.\n   **/\n\n  const { supportedConnector, getPostMessage, callbackLink } = getLogtoNativeSdk() ?? {};\n\n  if (!getPostMessage) {\n    // Invalid Native SDK bridge injections, not able to sign in with any social connectors.\n    return [];\n  }\n\n  for (const connector of socialConnectors) {\n    const { platform, target } = connector;\n\n    if (platform === ConnectorPlatform.Web) {\n      continue;\n    }\n\n    // Native SupportedConnector Settings is required\n    if (!supportedConnector) {\n      continue;\n    }\n\n    // Native supported nativeTargets flag is required\n    if (\n      platform === ConnectorPlatform.Native &&\n      supportedConnector.nativeTargets.includes(target)\n    ) {\n      connectorMap.set(target, connector);\n      continue;\n    }\n\n    /**\n     *  Native supportedConnector.universal flag is required\n     *  Native callback link settings is required\n     *  Only if there is no native platform connector provided with the same target.\n     **/\n    if (\n      platform === ConnectorPlatform.Universal &&\n      supportedConnector.universal &&\n      callbackLink &&\n      !connectorMap.get(target)\n    ) {\n      connectorMap.set(target, connector);\n      continue;\n    }\n  }\n\n  return Array.from(connectorMap.values());\n};\n\n/**\n * Social Connectors Filter Utility Methods used in preview mode only\n */\nexport const filterPreviewSocialConnectors = (\n  platform: ConnectorPlatform.Native | ConnectorPlatform.Web,\n  socialConnectors?: ExperienceSocialConnector[]\n) => {\n  if (!socialConnectors) {\n    return [];\n  }\n\n  const connectorMap = new Map<string, ExperienceSocialConnector>();\n\n  /**\n   * Browser Environment\n   * Accepts both web and universal platform connectors.\n   * Insert universal connectors only if there is no web platform connector provided with the same target.\n   * Web platform has higher priority.\n   **/\n\n  if (platform === ConnectorPlatform.Web) {\n    for (const connector of socialConnectors) {\n      const { platform, target } = connector;\n\n      if (platform === ConnectorPlatform.Native) {\n        continue;\n      }\n\n      if (platform === ConnectorPlatform.Web || !connectorMap.get(target)) {\n        connectorMap.set(target, connector);\n        continue;\n      }\n    }\n\n    return Array.from(connectorMap.values());\n  }\n\n  /**\n   * Native Webview Environment\n   * Accepts both native and universal platform connectors.\n   * Insert universal connectors only if there is no native platform connector provided with the same target.\n   * Native platform has higher priority.\n   **/\n\n  for (const connector of socialConnectors) {\n    const { platform, target } = connector;\n\n    if (platform === ConnectorPlatform.Web) {\n      continue;\n    }\n\n    if (platform === ConnectorPlatform.Native || !connectorMap.get(target)) {\n      connectorMap.set(target, connector);\n      continue;\n    }\n  }\n\n  return Array.from(connectorMap.values());\n};\n\nexport const isAppleConnector = (target?: string) => target === 'apple';\n","import { ConnectorPlatform } from '@logto/schemas';\nimport { useContext, useEffect, useState } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport initI18n from '@/i18n/init';\nimport { changeLanguage } from '@/i18n/utils';\nimport type { PreviewConfig, SignInExperienceResponse } from '@/types';\nimport { filterPreviewSocialConnectors } from '@/utils/social-connectors';\n\nconst usePreview = () => {\n  const [previewConfig, setPreviewConfig] = useState<PreviewConfig>();\n  const { setTheme, setPlatform, setExperienceSettings } = useContext(PageContext);\n\n  // Fetch the preview config\n  useEffect(() => {\n    // Listen to the message from the ancestor window\n    const previewMessageHandler = async (event: MessageEvent) => {\n      // #event.data should be guarded at the provider's side\n      if (event.data.sender === 'ac_preview') {\n        // eslint-disable-next-line no-restricted-syntax\n        const previewConfig = event.data.config as PreviewConfig;\n\n        // Wait for i18n to be initialized\n        await initI18n(previewConfig.language);\n\n        setPreviewConfig(previewConfig);\n      }\n    };\n\n    window.addEventListener('message', previewMessageHandler);\n\n    return () => {\n      window.removeEventListener('message', previewMessageHandler);\n    };\n  }, []);\n\n  // Set Experience settings\n  useEffect(() => {\n    if (!previewConfig) {\n      return;\n    }\n\n    const {\n      signInExperience: { socialConnectors, ...rest },\n      isNative,\n    } = previewConfig;\n\n    const experienceSettings: SignInExperienceResponse = {\n      ...rest,\n      socialConnectors: filterPreviewSocialConnectors(\n        isNative ? ConnectorPlatform.Native : ConnectorPlatform.Web,\n        socialConnectors\n      ),\n    };\n\n    setExperienceSettings(experienceSettings);\n  }, [previewConfig, setExperienceSettings]);\n\n  // Set Theme\n  useEffect(() => {\n    if (previewConfig?.mode) {\n      setTheme(previewConfig.mode);\n    }\n  }, [previewConfig?.mode, setTheme]);\n\n  // Set Platform\n  useEffect(() => {\n    if (previewConfig?.platform) {\n      setPlatform(previewConfig.platform);\n    }\n  }, [previewConfig?.platform, setPlatform]);\n\n  // Set Language\n  useEffect(() => {\n    if (previewConfig?.language) {\n      (async () => {\n        await changeLanguage(previewConfig.language);\n      })();\n    }\n  }, [previewConfig?.language]);\n};\n\nexport default usePreview;\n","/**\n * Temp Solution for getting the sign in experience\n * Remove this once we have a better way to get the sign in experience through SSR\n */\n\nimport { SignInIdentifier, VerificationType } from '@logto/schemas';\nimport { isObject } from '@silverhand/essentials';\nimport i18next from 'i18next';\n\nimport { getSignInExperience } from '@/apis/settings';\nimport type { SignInExperienceResponse } from '@/types';\nimport { filterSocialConnectors } from '@/utils/social-connectors';\n\nimport { searchKeys, searchKeysCamelCase } from './search-parameters';\n\nconst parseSignInExperienceResponse = (\n  response: SignInExperienceResponse\n): SignInExperienceResponse => {\n  const { socialConnectors, ...rest } = response;\n\n  return {\n    ...rest,\n    socialConnectors: filterSocialConnectors(socialConnectors),\n  };\n};\n\nexport const getSignInExperienceSettings = async (): Promise<SignInExperienceResponse> => {\n  if (isObject(logtoSsr)) {\n    const { data, ...rest } = logtoSsr.signInExperience;\n\n    if (\n      searchKeysCamelCase.every((key) => {\n        const ssrValue = rest[key];\n        const storageValue = sessionStorage.getItem(searchKeys[key]) ?? undefined;\n        return (!ssrValue && !storageValue) || ssrValue === storageValue;\n      })\n    ) {\n      return parseSignInExperienceResponse(data);\n    }\n  }\n\n  const response = await getSignInExperience<SignInExperienceResponse>();\n  return parseSignInExperienceResponse(response);\n};\n\nexport const isEmailOrPhoneMethod = (\n  method: SignInIdentifier\n): method is SignInIdentifier.Email | SignInIdentifier.Phone =>\n  [SignInIdentifier.Email, SignInIdentifier.Phone].includes(method);\n\nexport const parseHtmlTitle = (path: string) => {\n  // Will update soon, remove generic of `.t()` to unblock\n  if (path.startsWith('/sign-in') || path.startsWith('/callback') || path.startsWith('/consent')) {\n    return i18next.t('description.sign_in');\n  }\n\n  if (path.startsWith('/register') || path.startsWith('/social/link')) {\n    return i18next.t('description.create_account');\n  }\n\n  if (path.startsWith('/forgot-password')) {\n    return i18next.t('description.reset_password');\n  }\n\n  // Return undefined for all continue flow pages to keep title remain the same as the previous page\n  if (path.startsWith('/continue')) {\n    return;\n  }\n\n  return 'Logto';\n};\n\nexport const codeVerificationTypeMap = Object.freeze({\n  [SignInIdentifier.Email]: VerificationType.EmailVerificationCode,\n  [SignInIdentifier.Phone]: VerificationType.PhoneVerificationCode,\n});\n","import { Theme } from '@logto/schemas';\nimport { useEffect, useContext } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\n\nconst darkThemeWatchMedia = window.matchMedia('(prefers-color-scheme: dark)');\nconst getThemeBySystemConfiguration = (): Theme =>\n  darkThemeWatchMedia.matches ? Theme.Dark : Theme.Light;\n\nexport default function useTheme() {\n  const { isPreview, experienceSettings, setTheme } = useContext(PageContext);\n\n  useEffect(() => {\n    if (!experienceSettings?.color.isDarkModeEnabled) {\n      return;\n    }\n\n    const changeTheme = () => {\n      setTheme(getThemeBySystemConfiguration());\n    };\n\n    changeTheme();\n\n    darkThemeWatchMedia.addEventListener('change', changeTheme);\n\n    return () => {\n      darkThemeWatchMedia.removeEventListener('change', changeTheme);\n    };\n  }, [experienceSettings, isPreview, setTheme]);\n}\n","import { useContext, useEffect } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport initI18n from '@/i18n/init';\nimport { getSignInExperienceSettings } from '@/utils/sign-in-experience';\n\nimport useTheme from './use-theme';\n\nconst useSignInExperience = () => {\n  const { isPreview, setExperienceSettings } = useContext(PageContext);\n\n  useTheme();\n\n  useEffect(() => {\n    (async () => {\n      const [settings] = await Promise.all([getSignInExperienceSettings(), initI18n()]);\n\n      // Init the page settings and render\n      setExperienceSettings(settings);\n    })();\n  }, [isPreview, setExperienceSettings]);\n};\n\nexport default useSignInExperience;\n","import { useContext, useMemo } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\n\nimport usePreview from './use-preview';\nimport useSignInExperience from './use-sign-in-experience';\n\ntype Props = {\n  readonly children: React.ReactElement;\n};\n\nconst SettingsProvider = ({ children }: Props) => {\n  const { isPreview, experienceSettings } = useContext(PageContext);\n\n  const usePageLoad = useMemo(() => (isPreview ? usePreview : useSignInExperience), [isPreview]);\n\n  usePageLoad();\n\n  return experienceSettings ? children : null;\n};\n\nexport default SettingsProvider;\n","import {\n  InteractionEvent,\n  MfaFactor,\n  MissingProfile,\n  SignInIdentifier,\n  type SsoConnectorMetadata,\n  VerificationType,\n} from '@logto/schemas';\nimport * as s from 'superstruct';\n\nimport { type IdentifierInputValue } from '@/components/InputFields/SmartInputField';\n\nimport { UserFlow } from '.';\n\nexport const userFlowGuard = s.enums([\n  UserFlow.SignIn,\n  UserFlow.Register,\n  UserFlow.ForgotPassword,\n  UserFlow.Continue,\n]);\n\n/* Social Flow Guard */\nconst registeredSocialIdentity = s.optional(\n  s.object({\n    email: s.optional(s.string()),\n    phone: s.optional(s.string()),\n  })\n);\n\nexport const missingProfileErrorDataGuard = s.object({\n  missingProfile: s.array(\n    s.union([\n      s.literal(MissingProfile.password),\n      s.literal(MissingProfile.email),\n      s.literal(MissingProfile.phone),\n      s.literal(MissingProfile.username),\n      s.literal(MissingProfile.emailOrPhone),\n    ])\n  ),\n  registeredSocialIdentity,\n});\n\nexport const registeredSocialIdentityStateGuard = s.type({\n  registeredSocialIdentity,\n});\n\nexport const socialAccountNotExistErrorDataGuard = s.object({\n  relatedUser: s.object({\n    type: s.union([s.literal('email'), s.literal('phone')]),\n    value: s.string(),\n  }),\n});\n\nexport type SocialRelatedUserInfo = s.Infer<\n  typeof socialAccountNotExistErrorDataGuard\n>['relatedUser'];\n\n/* Mfa */\nconst mfaFactorsGuard = s.array(\n  s.union([\n    s.literal(MfaFactor.TOTP),\n    s.literal(MfaFactor.WebAuthn),\n    s.literal(MfaFactor.BackupCode),\n  ])\n);\n\nexport const mfaErrorDataGuard = s.object({\n  availableFactors: mfaFactorsGuard,\n  skippable: s.optional(s.boolean()),\n});\n\nexport const mfaFlowStateGuard = mfaErrorDataGuard;\n\nexport type MfaFlowState = s.Infer<typeof mfaFlowStateGuard>;\n\nexport const totpBindingStateGuard = s.assign(\n  s.object({\n    secret: s.string(),\n    secretQrCode: s.string(),\n  }),\n  mfaFlowStateGuard\n);\n\nexport type TotpBindingState = s.Infer<typeof totpBindingStateGuard>;\n\nexport const backupCodeBindingStateGuard = s.object({\n  codes: s.array(s.string()),\n});\n\nexport type BackupCodeBindingState = s.Infer<typeof backupCodeBindingStateGuard>;\n\nexport const webAuthnStateGuard = s.assign(\n  s.object({\n    options: s.record(s.string(), s.unknown()),\n  }),\n  mfaFlowStateGuard\n);\n\nexport type WebAuthnState = s.Infer<typeof webAuthnStateGuard>;\n\n/* Single Sign On */\nexport const ssoConnectorMetadataGuard: s.Describe<SsoConnectorMetadata> = s.object({\n  id: s.string(),\n  logo: s.string(),\n  darkLogo: s.optional(s.string()),\n  connectorName: s.string(),\n});\n\nconst identifierEnumGuard = s.enums([\n  SignInIdentifier.Email,\n  SignInIdentifier.Phone,\n  SignInIdentifier.Username,\n]);\n/**\n * Defines the type guard for user identifier input value caching.\n *\n * Purpose:\n * - Used in conjunction with the HiddenIdentifierInput component to assist\n * password managers in associating the correct identifier with passwords.\n *\n * - Cache the identifier so that when the user returns from the verification\n *  page or the password page, the identifier they entered will not be cleared.\n */\nexport const identifierInputValueGuard: s.Describe<IdentifierInputValue> = s.object({\n  type: s.optional(identifierEnumGuard),\n  value: s.string(),\n});\n\n/**\n * Type guard for the `identifier` search param config on the identifier sign-in/register page.\n */\nexport const identifierSearchParamGuard = s.array(identifierEnumGuard);\n\ntype StringGuard = ReturnType<typeof s.string>;\n// eslint-disable-next-line no-restricted-syntax -- Object.fromEntries can not infer the key type\nconst mapGuard = Object.fromEntries(\n  Object.values(VerificationType).map((type) => [type, s.string()])\n) as { [key in VerificationType]: StringGuard };\n\n/**\n * Defines the type guard for the verification ids map.\n */\nexport const verificationIdsMapGuard = s.partial(mapGuard);\nexport type VerificationIdsMap = s.Infer<typeof verificationIdsMapGuard>;\n\n/**\n * Define the interaction event state guard.\n *\n * This is used to pass the current interaction event state to the continue flow page.\n *\n * - If is in the sign in flow, directly call the submitInteraction endpoint after the user completes the profile.\n * - If is in the register flow, we need to call the identify endpoint first after the user completes the profile.\n */\nexport const continueFlowStateGuard = s.object({\n  interactionEvent: s.enums([InteractionEvent.SignIn, InteractionEvent.Register]),\n});\n\nexport type InteractionFlowState = s.Infer<typeof continueFlowStateGuard>;\n","/**\n * Provides a hook to access the session storage.\n */\nimport { useCallback } from 'react';\nimport * as s from 'superstruct';\n\nimport {\n  identifierInputValueGuard,\n  ssoConnectorMetadataGuard,\n  verificationIdsMapGuard,\n} from '@/types/guard';\n\nconst logtoStorageKeyPrefix = `logto:${window.location.origin}`;\n\nexport enum StorageKeys {\n  SsoEmail = 'sso-email',\n  SsoConnectors = 'sso-connectors',\n  IdentifierInputValue = 'identifier-input-value',\n  ForgotPasswordIdentifierInputValue = 'forgot-password-identifier-input-value',\n  verificationIds = 'verification-ids',\n}\n\nconst valueGuard = Object.freeze({\n  [StorageKeys.SsoEmail]: s.string(),\n  [StorageKeys.SsoConnectors]: s.array(ssoConnectorMetadataGuard),\n  [StorageKeys.IdentifierInputValue]: identifierInputValueGuard,\n  [StorageKeys.ForgotPasswordIdentifierInputValue]: identifierInputValueGuard,\n  [StorageKeys.verificationIds]: verificationIdsMapGuard,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any -- we  don't care about the superstruct details\n} satisfies { [key in StorageKeys]: s.Struct<any> });\n\ntype StorageValueType<K extends StorageKeys> = s.Infer<(typeof valueGuard)[K]>;\n\nconst useSessionStorage = () => {\n  const set = useCallback(<T extends StorageKeys>(key: T, value: StorageValueType<T>) => {\n    if (typeof value === 'object') {\n      sessionStorage.setItem(`${logtoStorageKeyPrefix}:${key}`, JSON.stringify(value));\n      return;\n    }\n\n    sessionStorage.setItem(`${logtoStorageKeyPrefix}:${key}`, value);\n  }, []);\n\n  const remove = useCallback((key: StorageKeys) => {\n    sessionStorage.removeItem(`${logtoStorageKeyPrefix}:${key}`);\n  }, []);\n\n  const get = useCallback(\n    <T extends StorageKeys>(key: T): StorageValueType<T> | undefined => {\n      const value = sessionStorage.getItem(`${logtoStorageKeyPrefix}:${key}`);\n\n      if (value === null) {\n        return;\n      }\n\n      const [error, rawValue] = valueGuard[key].validate(\n        (() => {\n          try {\n            // eslint-disable-next-line no-restricted-syntax -- we use superstruct to validate the value\n            return JSON.parse(value) as unknown;\n          } catch {\n            return value;\n          }\n        })()\n      );\n\n      if (error) {\n        // Clear the invalid value\n        remove(key);\n        return;\n      }\n\n      return rawValue;\n    },\n    [remove]\n  );\n\n  return { set, get, remove };\n};\n\nexport default useSessionStorage;\n","import { type SsoConnectorMetadata, type VerificationType } from '@logto/schemas';\nimport { noop } from '@silverhand/essentials';\nimport { createContext } from 'react';\n\nimport { type IdentifierInputValue } from '@/components/InputFields/SmartInputField';\nimport { type VerificationIdsMap } from '@/types/guard';\n\nexport type UserInteractionContextType = {\n  // All the enabled sso connectors\n  availableSsoConnectorsMap: Map<string, SsoConnectorMetadata>;\n  ssoEmail?: string;\n  setSsoEmail: React.Dispatch<React.SetStateAction<string | undefined>>;\n  // The sso connectors that are enabled for the current domain\n  ssoConnectors: SsoConnectorMetadata[];\n  setSsoConnectors: React.Dispatch<React.SetStateAction<SsoConnectorMetadata[]>>;\n  /**\n   * The cached identifier input value that the user has inputted.\n   */\n  identifierInputValue?: IdentifierInputValue;\n  /**\n   * This method is used to cache the identifier input value.\n   */\n  setIdentifierInputValue: React.Dispatch<React.SetStateAction<IdentifierInputValue | undefined>>;\n  /**\n   * The cached identifier input value that used in the 'ForgotPassword' flow.\n   * The value will be used to pre-fill the identifier input field in the `ForgotPassword` page.\n   */\n  forgotPasswordIdentifierInputValue?: IdentifierInputValue;\n  /**\n   * This method is used to cache the identifier input values for the 'ForgotPassword' flow.\n   */\n  setForgotPasswordIdentifierInputValue: React.Dispatch<\n    React.SetStateAction<IdentifierInputValue | undefined>\n  >;\n  verificationIdsMap: VerificationIdsMap;\n  setVerificationId: (type: VerificationType, id: string) => void;\n  /**\n   * This method only clear the identifier input values from the session storage.\n   *\n   * The state of the identifier input values in the `UserInteractionContext` will\n   * not be updated.\n   *\n   * Call this method after the user successfully signs in and before redirecting to\n   * the application page to avoid triggering any side effects that depends on the\n   * identifier input values.\n   */\n  clearInteractionContextSessionStorage: () => void;\n};\n\nexport default createContext<UserInteractionContextType>({\n  ssoEmail: undefined,\n  availableSsoConnectorsMap: new Map(),\n  ssoConnectors: [],\n  setSsoEmail: noop,\n  setSsoConnectors: noop,\n  identifierInputValue: undefined,\n  setIdentifierInputValue: noop,\n  forgotPasswordIdentifierInputValue: undefined,\n  setForgotPasswordIdentifierInputValue: noop,\n  verificationIdsMap: {},\n  setVerificationId: noop,\n  clearInteractionContextSessionStorage: noop,\n});\n","import { type SsoConnectorMetadata, type VerificationType } from '@logto/schemas';\nimport { type ReactNode, useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { type IdentifierInputValue } from '@/components/InputFields/SmartInputField';\nimport useSessionStorage, { StorageKeys } from '@/hooks/use-session-storages';\nimport { useSieMethods } from '@/hooks/use-sie';\n\nimport UserInteractionContext, { type UserInteractionContextType } from './UserInteractionContext';\n\ntype Props = {\n  readonly children: ReactNode;\n};\n\n/**\n * UserInteractionContextProvider\n *\n * This component manages user interaction data during the sign-in process,\n * combining React's Context API with session storage to enable cross-page\n * data persistence and access.\n *\n * The cached data provided by this provider primarily helps improve the sign-in experience for end users.\n */\nconst UserInteractionContextProvider = ({ children }: Props) => {\n  const { ssoConnectors } = useSieMethods();\n  const { get, set, remove } = useSessionStorage();\n  const [ssoEmail, setSsoEmail] = useState<string | undefined>(get(StorageKeys.SsoEmail));\n  const [domainFilteredConnectors, setDomainFilteredConnectors] = useState<SsoConnectorMetadata[]>(\n    get(StorageKeys.SsoConnectors) ?? []\n  );\n  const [identifierInputValue, setIdentifierInputValue] = useState<\n    IdentifierInputValue | undefined\n  >(get(StorageKeys.IdentifierInputValue));\n\n  const [forgotPasswordIdentifierInputValue, setForgotPasswordIdentifierInputValue] = useState<\n    IdentifierInputValue | undefined\n  >(get(StorageKeys.ForgotPasswordIdentifierInputValue));\n\n  const [verificationIdsMap, setVerificationIdsMap] = useState(\n    get(StorageKeys.verificationIds) ?? {}\n  );\n\n  useEffect(() => {\n    if (!ssoEmail) {\n      remove(StorageKeys.SsoEmail);\n      return;\n    }\n\n    set(StorageKeys.SsoEmail, ssoEmail);\n  }, [ssoEmail, remove, set]);\n\n  useEffect(() => {\n    if (domainFilteredConnectors.length === 0) {\n      remove(StorageKeys.SsoConnectors);\n      return;\n    }\n\n    set(StorageKeys.SsoConnectors, domainFilteredConnectors);\n  }, [domainFilteredConnectors, remove, set]);\n\n  useEffect(() => {\n    if (!identifierInputValue) {\n      remove(StorageKeys.IdentifierInputValue);\n      return;\n    }\n\n    set(StorageKeys.IdentifierInputValue, identifierInputValue);\n  }, [identifierInputValue, remove, set]);\n\n  useEffect(() => {\n    if (!forgotPasswordIdentifierInputValue) {\n      remove(StorageKeys.ForgotPasswordIdentifierInputValue);\n      return;\n    }\n\n    set(StorageKeys.ForgotPasswordIdentifierInputValue, forgotPasswordIdentifierInputValue);\n  }, [forgotPasswordIdentifierInputValue, remove, set]);\n\n  useEffect(() => {\n    if (Object.keys(verificationIdsMap).length === 0) {\n      remove(StorageKeys.verificationIds);\n      return;\n    }\n\n    set(StorageKeys.verificationIds, verificationIdsMap);\n  }, [verificationIdsMap, remove, set]);\n\n  const ssoConnectorsMap = useMemo(\n    () => new Map(ssoConnectors.map((connector) => [connector.id, connector])),\n    [ssoConnectors]\n  );\n\n  const clearInteractionContextSessionStorage = useCallback(() => {\n    remove(StorageKeys.IdentifierInputValue);\n    remove(StorageKeys.ForgotPasswordIdentifierInputValue);\n    remove(StorageKeys.verificationIds);\n  }, [remove]);\n\n  const setVerificationId = useCallback((type: VerificationType, id: string) => {\n    setVerificationIdsMap((previous) => ({ ...previous, [type]: id }));\n  }, []);\n\n  const userInteractionContext = useMemo<UserInteractionContextType>(\n    () => ({\n      ssoEmail,\n      setSsoEmail,\n      availableSsoConnectorsMap: ssoConnectorsMap,\n      ssoConnectors: domainFilteredConnectors,\n      setSsoConnectors: setDomainFilteredConnectors,\n      identifierInputValue,\n      setIdentifierInputValue,\n      forgotPasswordIdentifierInputValue,\n      setForgotPasswordIdentifierInputValue,\n      verificationIdsMap,\n      setVerificationId,\n      clearInteractionContextSessionStorage,\n    }),\n    [\n      ssoEmail,\n      ssoConnectorsMap,\n      domainFilteredConnectors,\n      identifierInputValue,\n      forgotPasswordIdentifierInputValue,\n      verificationIdsMap,\n      setVerificationId,\n      clearInteractionContextSessionStorage,\n    ]\n  );\n\n  return (\n    <UserInteractionContext.Provider value={userInteractionContext}>\n      {children}\n    </UserInteractionContext.Provider>\n  );\n};\n\nexport default UserInteractionContextProvider;\n","import * as React from \"react\";\nconst SvgDevIcon = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 20, height: 20, viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M12.4096 6.7392C12.5744 6.34657 12.3898 5.89463 11.9971 5.72978C11.6045 5.56493 11.1526 5.74959 10.9877 6.14222L7.58131 13.215C7.41646 13.6076 7.60112 14.0595 7.99375 14.2244C8.38638 14.3892 8.83832 14.2046 9.00317 13.8119L12.4096 6.7392Z\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M3.66797 10.0003L6.58464 7.08366C6.91797 6.75033 6.91797 6.25033 6.58464 5.91699C6.2513 5.58366 5.7513 5.58366 5.41797 5.91699L1.91797 9.41699C1.58464 9.75033 1.58464 10.2503 1.91797 10.5837L5.41797 14.0837C5.58464 14.2503 5.7513 14.3337 6.0013 14.3337C6.2513 14.3337 6.41797 14.2503 6.58464 14.0837C6.91797 13.7503 6.91797 13.2503 6.58464 12.917L3.66797 10.0003Z\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M16.3346 10.0003L13.418 7.08366C13.0846 6.75033 13.0846 6.25033 13.418 5.91699C13.7513 5.58366 14.2513 5.58366 14.5846 5.91699L18.0846 9.41699C18.418 9.75033 18.418 10.2503 18.0846 10.5837L14.5846 14.0837C14.418 14.2503 14.2513 14.3337 14.0013 14.3337C13.7513 14.3337 13.5846 14.2503 13.418 14.0837C13.0846 13.7503 13.0846 13.2503 13.418 12.917L16.3346 10.0003Z\", fill: \"currentColor\" }));\nexport default SvgDevIcon;\n","import { useContext, useEffect, useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport DevIcon from '@/assets/icons/dev-icon.svg?react';\n\n/**\n * Styles that may effect the visibility of a DOM element.\n */\nconst visibilityRelatedStyles: Record<string, string> = Object.freeze({\n  visibility: 'visible',\n  height: 'unset',\n  width: 'unset',\n  transform: 'unset',\n  opacity: 'unset',\n  position: 'static',\n});\n\n/** Build styles that will always be visible for a DOM element based on given styles */\nconst buildPermanentVisibleStyles = (styles: Record<string, string>) => ({\n  ...visibilityRelatedStyles,\n  ...styles,\n});\n\n/**\n * Apply inline styles with '!important' to a DOM element to make theses styles become the highest priority.\n *\n * It's useful when we want to ensure these styles won't be override via the user's custom CSS config.\n */\nconst applyInlineStylesWithImportant = (element: HTMLElement, styles: Record<string, string>) => {\n  for (const [key, value] of Object.entries(styles)) {\n    element.style.setProperty(key, value, 'important');\n  }\n};\n\n/**\n * Notification for development tenants to notify the user that the tenant is in development mode\n *\n * It is shown for development tenants and will be hidden in the preview mode even the tenant is a development tenant\n */\nconst DevelopmentTenantNotification = () => {\n  const { t } = useTranslation();\n  const ref = useRef<HTMLDivElement>(null);\n\n  /**\n   * Add a ref to the icon to specify styles for the icon,\n   * since we cannot use CSS selectors to select the icon from its parent node (notification) via inline CSS.\n   */\n  const iconRef = useRef<HTMLSpanElement>(null);\n  const { experienceSettings, isPreview } = useContext(PageContext);\n  const { isDevelopmentTenant } = experienceSettings ?? {};\n\n  const styles: Record<string, string> = Object.freeze({\n    display: 'flex',\n    'align-items': 'center',\n    'justify-content': 'center',\n    'align-self': 'stretch',\n    gap: '8px',\n    padding: '6px 16px',\n    'border-radius': 'unset',\n    background: 'var(--color-container-on-alert)',\n    font: 'var(--font-label-2)',\n    color: 'var(--color-static-white)',\n    position: 'fixed',\n    left: '0',\n    right: '0',\n    'z-index': '9999',\n  });\n\n  const iconStyles: Record<string, string> = Object.freeze({\n    // Use 'display: inline-flex' and 'align-items: center' to vertically center the icon\n    display: 'inline-flex',\n    'align-items': 'center',\n    color: 'var(--color-container-alert)',\n  });\n\n  useEffect(() => {\n    if (isPreview || !ref.current || !iconRef.current) {\n      return;\n    }\n\n    applyInlineStylesWithImportant(ref.current, buildPermanentVisibleStyles(styles));\n    applyInlineStylesWithImportant(iconRef.current, buildPermanentVisibleStyles(iconStyles));\n  }, [iconStyles, isDevelopmentTenant, isPreview, ref, styles]);\n\n  if (!isDevelopmentTenant || isPreview) {\n    return null;\n  }\n\n  return createPortal(\n    <div ref={ref}>\n      <span ref={iconRef}>\n        <DevIcon />\n      </span>\n      {t('development_tenant.notification')}\n    </div>,\n    document.body\n  );\n};\n\nexport default DevelopmentTenantNotification;\n","import styles from './index.module.scss';\n\ntype Props = {\n  readonly children: React.ReactNode;\n};\n\nconst StaticPageLayout = ({ children }: Props) => {\n  return <div className={styles.wrapper}>{children}</div>;\n};\n\nexport default StaticPageLayout;\n","import * as React from \"react\";\nconst SvgLoadingIcon = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 32, height: 32, viewBox: \"0 0 32 32\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"rect\", { opacity: 0.48, x: 15, width: 2, height: 8, rx: 1, fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"rect\", { opacity: 0.96, x: 15, y: 24, width: 2, height: 8, rx: 1, fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"rect\", { opacity: 0.72, y: 17, width: 2, height: 8, rx: 1, transform: \"rotate(-90 0 17)\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"rect\", { opacity: 0.24, x: 24, y: 17, width: 2, height: 8, rx: 1, transform: \"rotate(-90 24 17)\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"rect\", { opacity: 0.32, x: 29.3564, y: 7.13403, width: 2, height: 8, rx: 1, transform: \"rotate(60 29.3564 7.13403)\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"rect\", { opacity: 0.8, x: 8.57227, y: 19.134, width: 2, height: 8, rx: 1, transform: \"rotate(60 8.57227 19.134)\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"rect\", { opacity: 0.64, x: 1.64355, y: 8.86597, width: 2, height: 8, rx: 1, transform: \"rotate(-60 1.64355 8.86597)\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"rect\", { opacity: 0.16, x: 22.4277, y: 20.866, width: 2, height: 8, rx: 1, transform: \"rotate(-60 22.4277 20.866)\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"rect\", { opacity: 0.4, x: 23.1338, y: 1.64355, width: 2, height: 8, rx: 1, transform: \"rotate(30 23.1338 1.64355)\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"rect\", { opacity: 0.88, x: 11.1338, y: 22.4282, width: 2, height: 8, rx: 1, transform: \"rotate(30 11.1338 22.4282)\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"rect\", { opacity: 0.56, x: 7.13379, y: 2.64355, width: 2, height: 8, rx: 1, transform: \"rotate(-30 7.13379 2.64355)\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"rect\", { opacity: 0.08, x: 19.1338, y: 23.4282, width: 2, height: 8, rx: 1, transform: \"rotate(-30 19.1338 23.4282)\", fill: \"currentColor\" }));\nexport default SvgLoadingIcon;\n","import classNames from 'classnames';\n\nimport LoadingSvg from '@/assets/icons/loading-icon.svg?react';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly className?: string;\n};\n\nconst LoadingIcon = ({ className }: Props) => (\n  <LoadingSvg className={classNames(styles.loadingIcon, className)} />\n);\n\nexport default LoadingIcon;\n","import LoadingMask from '../LoadingMask';\n\nimport LoadingIcon from './LoadingIcon';\nimport styles from './index.module.scss';\n\nexport { default as LoadingIcon } from './LoadingIcon';\n\nexport const LoadingIconWithContainer = () => (\n  <div className={styles.container}>\n    <LoadingIcon />\n  </div>\n);\n\nconst LoadingLayer = () => (\n  <LoadingMask>\n    <LoadingIconWithContainer />\n  </LoadingMask>\n);\n\nexport default LoadingLayer;\n","import { type ExperienceSocialConnector, Theme, type SsoConnectorMetadata } from '@logto/schemas';\nimport { type Optional } from '@silverhand/essentials';\nimport { useCallback, useContext } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\n\nimport { useSieMethods } from './use-sie';\n\ntype FindConnectorByIdResult =\n  | {\n      connector: ExperienceSocialConnector;\n      type: 'social';\n    }\n  | {\n      connector: SsoConnectorMetadata;\n      type: 'sso';\n    };\n\nconst useConnectors = () => {\n  const { socialConnectors, ssoConnectors } = useSieMethods();\n  const { theme } = useContext(PageContext);\n\n  /**\n   * Find the single sign-on or social connector by given connector id\n   */\n  const findConnectorById = useCallback(\n    (connectorId?: string): Optional<FindConnectorByIdResult> => {\n      const ssoConnector = ssoConnectors.find((connector) => connector.id === connectorId);\n\n      if (ssoConnector) {\n        return {\n          connector: ssoConnector,\n          type: 'sso',\n        };\n      }\n\n      const socialConnector = socialConnectors.find((connector) => connector.id === connectorId);\n\n      if (socialConnector) {\n        return {\n          connector: socialConnector,\n          type: 'social',\n        };\n      }\n    },\n    [socialConnectors, ssoConnectors]\n  );\n\n  const getConnectorLogo = useCallback(\n    ({ connector, type }: FindConnectorByIdResult) => {\n      if (type === 'sso') {\n        return theme === Theme.Dark ? (connector.darkLogo ?? connector.logo) : connector.logo;\n      }\n\n      return theme === Theme.Dark ? (connector.logoDark ?? connector.logo) : connector.logo;\n    },\n    [theme]\n  );\n\n  return { findConnectorById, getConnectorLogo };\n};\n\nexport default useConnectors;\n","import classNames from 'classnames';\n\nimport { LoadingIcon } from '@/components/LoadingLayer';\nimport useConnectors from '@/hooks/use-connectors';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly className?: string;\n  readonly connectorId: string;\n  readonly isLoading?: boolean;\n};\n\nconst SocialLanding = ({ className, connectorId, isLoading = false }: Props) => {\n  const { findConnectorById, getConnectorLogo } = useConnectors();\n  const result = findConnectorById(connectorId);\n\n  return (\n    <div className={classNames(styles.container, className)}>\n      <div className={styles.connector}>\n        {result ? <img src={getConnectorLogo(result)} alt=\"logo\" /> : connectorId}\n      </div>\n      {isLoading && <LoadingIcon />}\n    </div>\n  );\n};\n\nexport default SocialLanding;\n","import { useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport {\n  getCallbackLinkFromStorage,\n  removeCallbackLinkFromStorage,\n} from '@/utils/social-connectors';\n\nconst useSocialCallbackHandler = () => {\n  const navigate = useNavigate();\n\n  const socialCallbackHandler = useCallback(\n    (connectorId: string) => {\n      // Get search parameter to evaluate\n      const searchParams = new URLSearchParams(window.location.search);\n      // Get hash parameter to evaluate\n      const hashParams = new URLSearchParams(window.location.hash.slice(1));\n\n      // Join search and hash parameters\n      const joinedSearchParams = new URLSearchParams([...searchParams, ...hashParams]);\n      const search = joinedSearchParams.toString() ? `?${joinedSearchParams.toString()}` : '';\n\n      // Get native callback link from storage\n      const callbackLink = getCallbackLinkFromStorage(connectorId);\n      removeCallbackLinkFromStorage(connectorId);\n\n      if (callbackLink) {\n        window.location.replace(new URL(`${callbackLink}${search}`));\n\n        return;\n      }\n\n      // Web flow\n      navigate(\n        {\n          pathname: `/callback/social/${connectorId}`,\n          search,\n        },\n        {\n          replace: true,\n        }\n      );\n    },\n    [navigate]\n  );\n\n  return { socialCallbackHandler };\n};\n\nexport default useSocialCallbackHandler;\n","import { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport StaticPageLayout from '@/Layout/StaticPageLayout';\nimport SocialLanding from '@/containers/SocialLanding';\n\nimport styles from './index.module.scss';\nimport useSocialCallbackHandler from './use-social-callback-handler';\n\ntype Parameters = {\n  connectorId: string;\n};\n\n/**\n * Callback landing page for social sign-in and single sign-on.\n */\nconst Callback = () => {\n  const { connectorId } = useParams<Parameters>();\n\n  const { socialCallbackHandler } = useSocialCallbackHandler();\n\n  // SocialSignIn Callback Handler\n  useEffect(() => {\n    if (!connectorId) {\n      return;\n    }\n    socialCallbackHandler(connectorId);\n  }, [socialCallbackHandler, connectorId]);\n\n  if (!connectorId) {\n    return null;\n  }\n\n  return (\n    <StaticPageLayout>\n      <SocialLanding isLoading className={styles.connectorContainer} connectorId={connectorId} />\n    </StaticPageLayout>\n  );\n};\n\nexport default Callback;\n","import * as React from \"react\";\nconst SvgConnectIcon = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 21, height: 4, viewBox: \"0 0 21 4\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"circle\", { cx: 2.5, cy: 2, r: 2, fill: \"currentcolor\" }), /* @__PURE__ */ React.createElement(\"circle\", { cx: 10.5, cy: 2, r: 2, fill: \"currentcolor\" }), /* @__PURE__ */ React.createElement(\"circle\", { cx: 18.5, cy: 2, r: 2, fill: \"currentcolor\" }));\nexport default SvgConnectIcon;\n","import type { Nullable } from '@silverhand/essentials';\nimport classNames from 'classnames';\nimport type { TFuncKey } from 'i18next';\n\nimport ConnectIcon from '@/assets/icons/connect-icon.svg?react';\n\nimport DynamicT from '../DynamicT';\n\nimport styles from './index.module.scss';\n\nexport type Props = {\n  readonly className?: string;\n  readonly logo?: Nullable<string>;\n  readonly thirdPartyLogo?: Nullable<string>;\n  readonly headline?: TFuncKey;\n  readonly headlineInterpolation?: Record<string, unknown>;\n};\n\nconst BrandingHeader = ({\n  logo,\n  thirdPartyLogo,\n  headline,\n  headlineInterpolation,\n  className,\n}: Props) => {\n  const shouldShowLogo = Boolean(thirdPartyLogo ?? logo);\n  const shouldConnectSvg = Boolean(thirdPartyLogo && logo);\n\n  return (\n    <div className={classNames(styles.container, className)}>\n      {shouldShowLogo && (\n        <div className={styles.logoWrapper}>\n          {thirdPartyLogo && (\n            <img className={styles.logo} alt=\"third party logo\" src={thirdPartyLogo} />\n          )}\n          {shouldConnectSvg && <ConnectIcon className={styles.connectIcon} />}\n          {logo && <img className={styles.logo} alt=\"app logo\" src={logo} />}\n        </div>\n      )}\n\n      {headline && (\n        <div className={styles.headline}>\n          <DynamicT forKey={headline} interpolation={headlineInterpolation} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BrandingHeader;\n","import type { Branding } from '@logto/schemas';\nimport { Theme } from '@logto/schemas';\nimport type { Nullable } from '@silverhand/essentials';\n\nexport type GetLogoUrl = {\n  theme: Theme;\n  logoUrl: string;\n  darkLogoUrl?: Nullable<string>;\n  isApple?: boolean;\n};\n\nexport const getLogoUrl = ({ theme, logoUrl, darkLogoUrl, isApple }: GetLogoUrl) => {\n  if (theme === (isApple ? Theme.Light : Theme.Dark)) {\n    return darkLogoUrl ?? logoUrl;\n  }\n\n  return logoUrl;\n};\n\nexport type GetBrandingLogoUrl = {\n  theme: Theme;\n  branding: Branding;\n  isDarkModeEnabled: boolean;\n};\n\nexport const getBrandingLogoUrl = ({ theme, branding, isDarkModeEnabled }: GetBrandingLogoUrl) => {\n  const { logoUrl, darkLogoUrl } = branding;\n\n  if (!isDarkModeEnabled) {\n    return logoUrl;\n  }\n\n  if (!logoUrl && !darkLogoUrl) {\n    return null;\n  }\n\n  if (logoUrl && darkLogoUrl) {\n    return getLogoUrl({ theme, logoUrl, darkLogoUrl });\n  }\n\n  return logoUrl ?? darkLogoUrl;\n};\n","import { type TFuncKey } from 'i18next';\nimport { Helmet } from 'react-helmet';\nimport { useTranslation } from 'react-i18next';\n\nexport type Props = {\n  readonly titleKey: TFuncKey;\n  readonly titleKeyInterpolation?: Record<string, unknown>;\n};\n\nconst PageMeta = ({ titleKey, titleKeyInterpolation = {} }: Props) => {\n  const { t } = useTranslation();\n  const title = t(titleKey, titleKeyInterpolation);\n\n  return <Helmet title={String(title)} />;\n};\n\nexport default PageMeta;\n","import { type ReactNode, useContext } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\n\nimport PageMeta from '../../components/PageMeta';\nimport type { Props as PageMetaProps } from '../../components/PageMeta';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly children: ReactNode;\n  readonly pageMeta: PageMetaProps;\n};\n\nconst FirstScreenLayout = ({ children, pageMeta }: Props) => {\n  const { platform } = useContext(PageContext);\n\n  return (\n    <>\n      <PageMeta {...pageMeta} />\n      {platform === 'web' && <div className={styles.placeholderTop} />}\n      <div className={styles.wrapper}>{children}</div>\n      {platform === 'web' && <div className={styles.placeholderBottom} />}\n    </>\n  );\n};\n\nexport default FirstScreenLayout;\n","import { type ConsentInfoResponse } from '@logto/schemas';\nimport classNames from 'classnames';\nimport type { TFuncKey } from 'i18next';\nimport type { ReactNode } from 'react';\nimport { useContext } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport BrandingHeader from '@/components/BrandingHeader';\nimport { layoutClassNames } from '@/utils/consts';\nimport { getBrandingLogoUrl } from '@/utils/logo';\n\nimport FirstScreenLayout from '../FirstScreenLayout';\n\nimport styles from './index.module.scss';\n\ntype ThirdPartyBranding = ConsentInfoResponse['application']['branding'];\n\ntype Props = {\n  readonly children: ReactNode;\n  readonly title: TFuncKey;\n  readonly titleInterpolation?: Record<string, unknown>;\n  readonly thirdPartyBranding?: ThirdPartyBranding;\n};\n\nconst LandingPageLayout = ({ children, title, titleInterpolation, thirdPartyBranding }: Props) => {\n  const { experienceSettings, theme } = useContext(PageContext);\n\n  if (!experienceSettings) {\n    return null;\n  }\n\n  const {\n    color: { isDarkModeEnabled },\n    branding,\n  } = experienceSettings;\n\n  return (\n    <FirstScreenLayout pageMeta={{ titleKey: title, titleKeyInterpolation: titleInterpolation }}>\n      <BrandingHeader\n        className={classNames(styles.header, layoutClassNames.brandingHeader)}\n        headline={title}\n        headlineInterpolation={titleInterpolation}\n        logo={getBrandingLogoUrl({ theme, branding, isDarkModeEnabled })}\n        thirdPartyLogo={\n          thirdPartyBranding &&\n          getBrandingLogoUrl({ theme, branding: thirdPartyBranding, isDarkModeEnabled })\n        }\n      />\n      {children}\n    </FirstScreenLayout>\n  );\n};\n\nexport default LandingPageLayout;\n","import i18next from 'i18next';\nimport ky from 'ky';\n\nexport default ky.extend({\n  hooks: {\n    beforeRequest: [\n      (request) => {\n        request.headers.set('Accept-Language', i18next.language);\n      },\n    ],\n  },\n});\n","import { type ConsentInfoResponse } from '@logto/schemas';\n\nimport api from './api';\n\nexport const consent = async (organizationId?: string) => {\n  type Response = {\n    redirectTo: string;\n  };\n\n  return api\n    .post('/api/interaction/consent', {\n      json: {\n        organizationIds: organizationId && [organizationId],\n      },\n    })\n    .json<Response>();\n};\n\nexport const getConsentInfo = async () => {\n  return api.get('/api/interaction/consent').json<ConsentInfoResponse>();\n};\n","import classNames from 'classnames';\nimport type { TFuncKey } from 'i18next';\nimport { useMemo } from 'react';\nimport type { ReactNode, AnchorHTMLAttributes } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport type { LinkProps } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\n\nimport { useIframeModal } from '@/Providers/IframeModalProvider';\nimport usePlatform from '@/hooks/use-platform';\n\nimport DynamicT from '../DynamicT';\n\nimport styles from './index.module.scss';\n\nexport type Props = AnchorHTMLAttributes<HTMLAnchorElement> & {\n  readonly className?: string;\n  readonly children?: ReactNode;\n  readonly text?: TFuncKey;\n  readonly icon?: ReactNode;\n  readonly type?: 'primary' | 'secondary';\n} & Partial<LinkProps>;\n\nconst TextLink = ({ className, children, text, icon, type = 'primary', to, ...rest }: Props) => {\n  const { t } = useTranslation();\n  const { isMobile } = usePlatform();\n  const { setModalState } = useIframeModal();\n\n  // By default the behavior of opening a new window is not supported in WkWebView, or in android webview.\n  // Hijack the hyperlink props and open the link in an iframe modal instead.\n  const hyperLinkProps = useMemo(() => {\n    const { href, target, onClick, ...others } = rest;\n\n    // Keep the original behavior if the link is not external.\n    if (!href || target !== '_blank') {\n      return rest;\n    }\n\n    return {\n      href,\n      target,\n      onClick: (event: React.MouseEvent<HTMLAnchorElement>) => {\n        if (isMobile) {\n          const title = text && t(text);\n          event.preventDefault();\n          setModalState({ href, title: typeof title === 'string' ? title : undefined });\n        }\n\n        onClick?.(event);\n      },\n      ...others,\n    };\n  }, [isMobile, rest, setModalState, t, text]);\n\n  if (to) {\n    return (\n      <Link className={classNames(styles.link, styles[type], className)} to={to} {...rest}>\n        {icon}\n        {children ?? <DynamicT forKey={text} />}\n      </Link>\n    );\n  }\n\n  return (\n    <a\n      className={classNames(styles.link, styles[type], className)}\n      {...hyperLinkProps}\n      rel=\"noopener\"\n    >\n      {icon}\n      {children ?? <DynamicT forKey={text} />}\n    </a>\n  );\n};\n\nexport default TextLink;\n","import { useTranslation } from 'react-i18next';\n\nimport TextLink, { type Props as TextLinkProps } from '@/components/TextLink';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly linkType?: TextLinkProps['type'];\n  // eslint-disable-next-line react/boolean-prop-naming\n  readonly inline?: boolean;\n  readonly termsOfUseUrl?: string;\n  readonly privacyPolicyUrl?: string;\n};\n\nconst TermsLinks = ({ inline, termsOfUseUrl, privacyPolicyUrl, linkType = 'secondary' }: Props) => {\n  const { t } = useTranslation();\n\n  return (\n    <>\n      {termsOfUseUrl && (\n        <TextLink\n          className={styles.link}\n          text=\"description.terms_of_use\"\n          href={termsOfUseUrl}\n          type={linkType}\n          target=\"_blank\"\n          onClick={(event) => {\n            event.stopPropagation();\n          }}\n        />\n      )}\n      {termsOfUseUrl && privacyPolicyUrl && inline && ` ${t('description.and')} `}\n      {termsOfUseUrl && privacyPolicyUrl && !inline && <i className={styles.divider} />}\n      {privacyPolicyUrl && (\n        <TextLink\n          className={styles.link}\n          text=\"description.privacy_policy\"\n          href={privacyPolicyUrl}\n          type={linkType}\n          target=\"_blank\"\n          onClick={(event) => {\n            event.stopPropagation();\n          }}\n        />\n      )}\n    </>\n  );\n};\n\nexport default TermsLinks;\n","import type { Nullable } from '@silverhand/essentials';\nimport { useCallback, useContext } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\n\ntype Options = {\n  silent?: boolean;\n};\n\nconst useApi = <Args extends unknown[], Response>(\n  api: (...args: Args) => Promise<Response>,\n  options?: Options\n) => {\n  const { setLoading } = useContext(PageContext);\n\n  const request = useCallback(\n    async (...args: Args): Promise<[Nullable<unknown>, Response?]> => {\n      if (!options?.silent) {\n        setLoading(true);\n      }\n\n      try {\n        const result = await api(...args);\n        return [null, result];\n      } catch (error: unknown) {\n        return [error];\n      } finally {\n        setLoading(false);\n      }\n    },\n    [api, options?.silent, setLoading]\n  );\n\n  return request;\n};\n\nexport default useApi;\n","import type { LogtoErrorCode } from '@logto/phrases';\nimport type { RequestErrorBody } from '@logto/schemas';\nimport { HTTPError, TimeoutError } from 'ky';\nimport { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport useToast from './use-toast';\n\nexport type ErrorHandlers = {\n  [key in LogtoErrorCode]?: (error: RequestErrorBody) => void | Promise<void>;\n} & {\n  // Overwrite default global error handle logic\n  global?: (error: RequestErrorBody) => void | Promise<void>;\n};\n\nconst useErrorHandler = () => {\n  const { t } = useTranslation();\n  const { setToast } = useToast();\n\n  const handleError = useCallback(\n    async (error: unknown, errorHandlers?: ErrorHandlers) => {\n      if (error instanceof HTTPError) {\n        try {\n          const logtoError = await error.response.json<RequestErrorBody>();\n\n          const { code, message } = logtoError;\n\n          const handler = errorHandlers?.[code] ?? errorHandlers?.global;\n\n          if (handler) {\n            await handler(logtoError);\n          } else {\n            setToast(message);\n          }\n\n          return;\n        } catch (error) {\n          setToast(t('error.unknown'));\n          console.error(error);\n\n          return;\n        }\n      }\n\n      if (error instanceof TimeoutError) {\n        setToast(t('error.timeout'));\n\n        return;\n      }\n\n      setToast(t('error.unknown'));\n      console.error(error);\n    },\n    [setToast, t]\n  );\n\n  return handleError;\n};\n\nexport default useErrorHandler;\n","import { noop } from '@react-spring/shared';\nimport { useCallback, useContext } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\n\ntype Options = {\n  /**\n   * Whether to clear the interaction context session storage before redirecting.\n   * Defaults to `true`.\n   * Set to `false` if this redirection is not the final redirection in the sign-in process (not the sign-in successful redirection).\n   */\n  shouldClearInteractionContextSession?: boolean;\n  /**\n   * Whether to use `window.location.replace` instead of `window.location.assign` for the redirection.\n   * Defaults to `true`.\n   * Use `false` if this is a 3rd-party URL redirection (social sign-in or single sign-on redirection) that should be added to the browser history.\n   */\n  isReplace?: boolean;\n};\n\n/**\n * Hook for global redirection to 3rd-party URLs (e.g., social sign-in, single sign-on, and the final redirection to the\n * app redirect URI after successful sign-in).\n *\n * This hook provides an async function that represents the final step in the login process.\n * It sets a global loading state, clears the interaction context (if needed), and then redirects the user.\n *\n * The returned async function will never resolve, as the page will be redirected before\n * the Promise can settle. This behavior is intentional and serves to maintain the loading\n * state on the interaction element (e.g., a button) that triggered the successful login.\n */\nfunction useGlobalRedirectTo({\n  shouldClearInteractionContextSession = true,\n  isReplace = true,\n}: Options = {}) {\n  const { setLoading } = useContext(PageContext);\n  const { clearInteractionContextSessionStorage } = useContext(UserInteractionContext);\n\n  const redirectTo = useCallback(\n    async (url: string | URL): Promise<never> => {\n      /**\n       * Set global loading state to true\n       * This prevents further user interaction during the redirect process\n       */\n      setLoading(true);\n      /**\n       * Clear all identifier input values from the storage once the interaction is submitted.\n       * The Identifier cache should be session-isolated, so it should be cleared after the interaction is completed.\n       */\n      if (shouldClearInteractionContextSession) {\n        clearInteractionContextSessionStorage();\n      }\n      /**\n       * Perform the actual redirect\n       * This is a synchronous operation and will immediately unload the current page\n       */\n      if (isReplace) {\n        window.location.replace(url);\n      } else {\n        window.location.assign(url);\n      }\n\n      /**\n       * Return a Promise that never resolves\n       * This ensures that any async function awaiting this redirect will never continue\n       * Thus maintaining the loading state on the UI until the new page is loaded\n       */\n      return new Promise<never>(noop);\n    },\n    [\n      clearInteractionContextSessionStorage,\n      isReplace,\n      setLoading,\n      shouldClearInteractionContextSession,\n    ]\n  );\n\n  return redirectTo;\n}\n\nexport default useGlobalRedirectTo;\n","import * as React from \"react\";\nconst SvgExpandableIcon = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 20, height: 20, viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M13.575 11.9083L9.99999 15.4916L6.42499 11.9083C6.26807 11.7514 6.05524 11.6632 5.83333 11.6632C5.61141 11.6632 5.39858 11.7514 5.24166 11.9083C5.08474 12.0652 4.99658 12.278 4.99658 12.4999C4.99658 12.7219 5.08474 12.9347 5.24166 13.0916L9.40833 17.2583C9.48579 17.3364 9.57796 17.3984 9.67951 17.4407C9.78106 17.483 9.88998 17.5048 9.99999 17.5048C10.11 17.5048 10.2189 17.483 10.3205 17.4407C10.422 17.3984 10.5142 17.3364 10.5917 17.2583L14.7583 13.0916C14.836 13.0139 14.8977 12.9217 14.9397 12.8202C14.9818 12.7186 15.0034 12.6098 15.0034 12.4999C15.0034 12.3901 14.9818 12.2813 14.9397 12.1797C14.8977 12.0782 14.836 11.986 14.7583 11.9083C14.6806 11.8306 14.5884 11.7689 14.4869 11.7269C14.3853 11.6848 14.2765 11.6632 14.1667 11.6632C14.0568 11.6632 13.948 11.6848 13.8465 11.7269C13.7449 11.7689 13.6527 11.8306 13.575 11.9083ZM6.42499 8.09162L9.99999 4.50828L13.575 8.09162C13.6525 8.16972 13.7446 8.23172 13.8462 8.27402C13.9477 8.31633 14.0566 8.33811 14.1667 8.33811C14.2767 8.33811 14.3856 8.31633 14.4871 8.27402C14.5887 8.23172 14.6809 8.16972 14.7583 8.09162C14.8364 8.01415 14.8984 7.92198 14.9407 7.82043C14.983 7.71888 15.0048 7.60996 15.0048 7.49995C15.0048 7.38994 14.983 7.28102 14.9407 7.17947C14.8984 7.07792 14.8364 6.98575 14.7583 6.90828L10.5917 2.74162C10.5142 2.66351 10.422 2.60151 10.3205 2.55921C10.2189 2.5169 10.11 2.49512 9.99999 2.49512C9.88998 2.49512 9.78106 2.5169 9.67951 2.55921C9.57796 2.60151 9.48579 2.66351 9.40833 2.74162L5.24166 6.90828C5.08474 7.0652 4.99658 7.27803 4.99658 7.49995C4.99658 7.72187 5.08474 7.9347 5.24166 8.09162C5.39858 8.24854 5.61141 8.33669 5.83333 8.33669C6.05524 8.33669 6.26807 8.24854 6.42499 8.09162Z\", fill: \"currentcolor\" }));\nexport default SvgExpandableIcon;\n","import * as React from \"react\";\nconst SvgArrowDown = (props) => /* @__PURE__ */ React.createElement(\"svg\", { viewBox: \"0 0 20 20\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M10.5916 12.9499L15.2999 8.23328C15.378 8.15581 15.44 8.06364 15.4823 7.96209C15.5246 7.86054 15.5464 7.75162 15.5464 7.64161C15.5464 7.5316 15.5246 7.42268 15.4823 7.32113C15.44 7.21958 15.378 7.12741 15.2999 7.04994C15.1438 6.89474 14.9325 6.80762 14.7124 6.80762C14.4922 6.80762 14.281 6.89474 14.1249 7.04994L9.95822 11.1749L5.83322 7.04994C5.67709 6.89474 5.46588 6.80762 5.24572 6.80762C5.02557 6.80762 4.81436 6.89474 4.65822 7.04994C4.57948 7.12712 4.51684 7.21916 4.47393 7.32072C4.43101 7.42229 4.40868 7.53136 4.40822 7.64161C4.40868 7.75187 4.43101 7.86094 4.47393 7.9625C4.51684 8.06406 4.57948 8.1561 4.65822 8.23328L9.36655 12.9499C9.44459 13.0345 9.5393 13.102 9.64472 13.1482C9.75013 13.1944 9.86397 13.2182 9.97905 13.2182C10.0941 13.2182 10.208 13.1944 10.3134 13.1482C10.4188 13.102 10.5135 13.0345 10.5916 12.9499Z\", fill: \"currentcolor\" }));\nexport default SvgArrowDown;\n","import * as React from \"react\";\nconst SvgCheckMark = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 20, height: 21, viewBox: \"0 0 20 21\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M15.5837 6.5C15.2503 6.16667 14.7503 6.16667 14.417 6.5L8.16699 12.75L5.58366 10.1667C5.25033 9.83333 4.75033 9.83333 4.41699 10.1667C4.08366 10.5 4.08366 11 4.41699 11.3333L7.58366 14.5C7.75033 14.6667 7.91699 14.75 8.16699 14.75C8.41699 14.75 8.58366 14.6667 8.75033 14.5L15.5837 7.66667C15.917 7.33333 15.917 6.83333 15.5837 6.5Z\", fill: \"currentcolor\" }));\nexport default SvgCheckMark;\n","import { type Nullable } from '@silverhand/essentials';\nimport classNames from 'classnames';\nimport { useState, useCallback } from 'react';\n\nimport DownArrowIcon from '@/assets/icons/arrow-down.svg?react';\nimport CheckMark from '@/assets/icons/check-mark.svg?react';\nimport { onKeyDownHandler } from '@/utils/a11y';\n\nimport styles from './index.module.scss';\n\ntype ScopeGroupProps = {\n  readonly groupName: string;\n  readonly isAutoExpand?: boolean;\n  readonly scopes: Array<{\n    id: string;\n    name: string;\n    description?: Nullable<string>; // Organization scope description cloud be `null`\n  }>;\n};\n\nconst ScopeGroup = ({ groupName, scopes, isAutoExpand = false }: ScopeGroupProps) => {\n  const [expanded, setExpanded] = useState(isAutoExpand);\n\n  const toggle = useCallback(() => {\n    setExpanded((previous) => !previous);\n  }, []);\n\n  return (\n    <div className={classNames(styles.scopeGroup)}>\n      <div\n        className={styles.scopeGroupHeader}\n        role=\"button\"\n        tabIndex={0}\n        onClick={toggle}\n        onKeyDown={onKeyDownHandler(toggle)}\n      >\n        <CheckMark className={styles.check} />\n        <div className={styles.scopeGroupName}>{groupName}</div>\n        <DownArrowIcon className={styles.toggleButton} data-expanded={expanded} />\n      </div>\n      {expanded && (\n        <ul className={styles.scopesList}>\n          {scopes.map(({ id, name, description }) => (\n            <li key={id} className={styles.scopeItem}>\n              {description ?? name}\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default ScopeGroup;\n","import * as React from \"react\";\nconst SvgOrganizationIcon = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 20, height: 20, viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M11.6665 6.66699H12.4998C12.7209 6.66699 12.9328 6.5792 13.0891 6.42291C13.2454 6.26663 13.3332 6.05467 13.3332 5.83366C13.3332 5.61265 13.2454 5.40068 13.0891 5.2444C12.9328 5.08812 12.7209 5.00033 12.4998 5.00033H11.6665C11.4455 5.00033 11.2335 5.08812 11.0772 5.2444C10.921 5.40068 10.8332 5.61265 10.8332 5.83366C10.8332 6.05467 10.921 6.26663 11.0772 6.42291C11.2335 6.5792 11.4455 6.66699 11.6665 6.66699ZM11.6665 10.0003H12.4998C12.7209 10.0003 12.9328 9.91253 13.0891 9.75625C13.2454 9.59997 13.3332 9.38801 13.3332 9.16699C13.3332 8.94598 13.2454 8.73402 13.0891 8.57774C12.9328 8.42146 12.7209 8.33366 12.4998 8.33366H11.6665C11.4455 8.33366 11.2335 8.42146 11.0772 8.57774C10.921 8.73402 10.8332 8.94598 10.8332 9.16699C10.8332 9.38801 10.921 9.59997 11.0772 9.75625C11.2335 9.91253 11.4455 10.0003 11.6665 10.0003ZM7.49984 6.66699H8.33317C8.55418 6.66699 8.76615 6.5792 8.92243 6.42291C9.07871 6.26663 9.1665 6.05467 9.1665 5.83366C9.1665 5.61265 9.07871 5.40068 8.92243 5.2444C8.76615 5.08812 8.55418 5.00033 8.33317 5.00033H7.49984C7.27882 5.00033 7.06686 5.08812 6.91058 5.2444C6.7543 5.40068 6.6665 5.61265 6.6665 5.83366C6.6665 6.05467 6.7543 6.26663 6.91058 6.42291C7.06686 6.5792 7.27882 6.66699 7.49984 6.66699ZM7.49984 10.0003H8.33317C8.55418 10.0003 8.76615 9.91253 8.92243 9.75625C9.07871 9.59997 9.1665 9.38801 9.1665 9.16699C9.1665 8.94598 9.07871 8.73402 8.92243 8.57774C8.76615 8.42146 8.55418 8.33366 8.33317 8.33366H7.49984C7.27882 8.33366 7.06686 8.42146 6.91058 8.57774C6.7543 8.73402 6.6665 8.94598 6.6665 9.16699C6.6665 9.38801 6.7543 9.59997 6.91058 9.75625C7.06686 9.91253 7.27882 10.0003 7.49984 10.0003ZM17.4998 16.667H16.6665V2.50033C16.6665 2.27931 16.5787 2.06735 16.4224 1.91107C16.2661 1.75479 16.0542 1.66699 15.8332 1.66699H4.1665C3.94549 1.66699 3.73353 1.75479 3.57725 1.91107C3.42097 2.06735 3.33317 2.27931 3.33317 2.50033V16.667H2.49984C2.27882 16.667 2.06686 16.7548 1.91058 16.9111C1.7543 17.0674 1.6665 17.2793 1.6665 17.5003C1.6665 17.7213 1.7543 17.9333 1.91058 18.0896C2.06686 18.2459 2.27882 18.3337 2.49984 18.3337H17.4998C17.7209 18.3337 17.9328 18.2459 18.0891 18.0896C18.2454 17.9333 18.3332 17.7213 18.3332 17.5003C18.3332 17.2793 18.2454 17.0674 18.0891 16.9111C17.9328 16.7548 17.7209 16.667 17.4998 16.667ZM10.8332 16.667H9.1665V13.3337H10.8332V16.667ZM14.9998 16.667H12.4998V12.5003C12.4998 12.2793 12.412 12.0674 12.2558 11.9111C12.0995 11.7548 11.8875 11.667 11.6665 11.667H8.33317C8.11216 11.667 7.9002 11.7548 7.74392 11.9111C7.58764 12.0674 7.49984 12.2793 7.49984 12.5003V16.667H4.99984V3.33366H14.9998V16.667Z\", fill: \"currentcolor\" }));\nexport default SvgOrganizationIcon;\n","import { type ConsentInfoResponse } from '@logto/schemas';\nimport classNames from 'classnames';\nimport { type ReactNode } from 'react';\n\nimport CheckMark from '@/assets/icons/check-mark.svg?react';\nimport OrganizationIcon from '@/assets/icons/organization-icon.svg?react';\nimport { onKeyDownHandler } from '@/utils/a11y';\n\nimport styles from './index.module.scss';\n\nexport type Organization = Exclude<ConsentInfoResponse['organizations'], undefined>[number];\n\ntype OrganizationItemProps = {\n  readonly className?: string;\n  readonly organization: Organization;\n  readonly onSelect?: (organization: Organization) => void;\n  readonly isSelected?: boolean;\n  readonly suffixElement?: ReactNode;\n};\n\nconst OrganizationItem = ({\n  organization,\n  onSelect,\n  isSelected,\n  suffixElement,\n  className,\n}: OrganizationItemProps) => {\n  return (\n    <div\n      className={classNames(styles.organizationItem, className)}\n      data-selected={isSelected}\n      {...(onSelect && {\n        role: 'button',\n        tabIndex: 0,\n        onClick: () => {\n          onSelect(organization);\n        },\n        onKeyDown: onKeyDownHandler(() => {\n          onSelect(organization);\n        }),\n      })}\n    >\n      {isSelected ? (\n        <CheckMark className={styles.icon} />\n      ) : (\n        <OrganizationIcon className={styles.icon} />\n      )}\n      <div className={styles.organizationName}>{organization.name}</div>\n      {suffixElement}\n    </div>\n  );\n};\n\nexport default OrganizationItem;\n","import { useState, useCallback, useLayoutEffect } from 'react';\nimport ReactModal from 'react-modal';\n\nimport usePlatform from '@/hooks/use-platform';\n\nimport OrganizationItem from '../OrganizationItem';\nimport { type Organization } from '../OrganizationItem';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly isOpen: boolean;\n  readonly parentElementRef: React.RefObject<HTMLDivElement>;\n  readonly organizations: Organization[];\n  readonly selectedOrganization: Organization;\n  readonly onSelect: (organization: Organization) => void;\n  readonly onClose: () => void;\n};\n\nconst OrganizationSelectorModal = ({\n  isOpen,\n  parentElementRef,\n  organizations,\n  selectedOrganization,\n  onSelect,\n  onClose,\n}: Props) => {\n  const { isMobile } = usePlatform();\n  const [position, setPosition] = useState({});\n\n  const updatePosition = useCallback(() => {\n    const parent = parentElementRef.current;\n\n    if (!parent || isMobile || !isOpen) {\n      setPosition({});\n      return;\n    }\n\n    const { top, left, height, width } = parent.getBoundingClientRect();\n\n    // Offset the modal from the parent element\n    const offset = 8;\n\n    // The height of each organization item\n    const organizationItemHeight = 40;\n    // The padding around the modal content\n    const organizationModalPadding = 8;\n\n    // Calculate the max top position so that the modal doesn't go off the screen\n    const modalContentHeight =\n      organizations.length * organizationItemHeight + organizationModalPadding * 2;\n    const windowHeight = window.innerHeight;\n    const maxTop = windowHeight - modalContentHeight;\n\n    setPosition({ top: Math.min(top + height + offset, maxTop), left, width });\n  }, [isMobile, isOpen, organizations.length, parentElementRef]);\n\n  useLayoutEffect(() => {\n    updatePosition();\n    window.addEventListener('resize', updatePosition);\n\n    return () => {\n      window.removeEventListener('resize', updatePosition);\n    };\n  }, [updatePosition, isOpen]);\n\n  return (\n    <ReactModal\n      isOpen={isOpen}\n      overlayClassName={styles.dropdownOverlay}\n      className={styles.dropdownModal}\n      style={{\n        content: {\n          ...position,\n        },\n      }}\n      closeTimeoutMS={isMobile ? 300 : 0}\n      onRequestClose={onClose}\n    >\n      <div className={styles.container}>\n        {organizations.map((organization) => (\n          <OrganizationItem\n            key={organization.id}\n            className={styles.organizationItem}\n            organization={organization}\n            isSelected={organization.id === selectedOrganization.id}\n            onSelect={() => {\n              onClose();\n              onSelect(organization);\n            }}\n          />\n        ))}\n      </div>\n    </ReactModal>\n  );\n};\n\nexport default OrganizationSelectorModal;\n","import { ReservedResource } from '@logto/core-kit';\nimport classNames from 'classnames';\nimport { useState, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport ExpandableIcon from '@/assets/icons/expandable-icon.svg?react';\n\nimport ScopeGroup from '../ScopeGroup';\n\nimport OrganizationItem, { type Organization } from './OrganizationItem';\nimport OrganizationSelectorModal from './OrganizationSelectorModal';\nimport styles from './index.module.scss';\n\nexport { type Organization } from './OrganizationItem';\n\ntype Props = {\n  readonly organizations: Organization[];\n  readonly selectedOrganization: Organization | undefined;\n  readonly onSelect: (organization: Organization) => void;\n  readonly className?: string;\n};\n\nconst OrganizationSelector = ({\n  organizations,\n  selectedOrganization,\n  onSelect,\n  className,\n}: Props) => {\n  const { t } = useTranslation();\n  const parentElementRef = useRef<HTMLDivElement>(null);\n  const [showDropdown, setShowDropdown] = useState(false);\n\n  if (organizations.length === 0 || !selectedOrganization) {\n    return null;\n  }\n\n  const { missingResourceScopes: resourceScopes } = selectedOrganization;\n\n  return (\n    <div className={className}>\n      <div className={styles.title}>{t(`description.authorize_organization_access`)}</div>\n      {resourceScopes && resourceScopes.length > 0 && (\n        <div className={styles.scopeListWrapper}>\n          {resourceScopes\n            .slice()\n            // Sort the scopes to make sure the organization scope is always on top\n            .sort(({ resource: resourceA }, { resource: resourceB }) => {\n              if (resourceA.id === ReservedResource.Organization) {\n                return -1;\n              }\n              return resourceB.id === ReservedResource.Organization ? 1 : 0;\n            })\n            .map(({ resource, scopes }) => (\n              <ScopeGroup\n                key={resource.id}\n                groupName={\n                  resource.id === ReservedResource.Organization\n                    ? t('description.organization_scopes')\n                    : resource.name\n                }\n                scopes={scopes}\n                isAutoExpand={resourceScopes.length === 1}\n              />\n            ))}\n        </div>\n      )}\n      <div\n        ref={parentElementRef}\n        className={classNames(\n          styles.cardWrapper,\n          Boolean(resourceScopes?.length) && styles.withoutTopRadius\n        )}\n        data-active={showDropdown}\n      >\n        <OrganizationItem\n          className={styles.selectedOrganization}\n          organization={selectedOrganization}\n          suffixElement={<ExpandableIcon className={styles.expandButton} />}\n          onSelect={() => {\n            setShowDropdown(true);\n          }}\n        />\n      </div>\n      <OrganizationSelectorModal\n        isOpen={showDropdown}\n        parentElementRef={parentElementRef}\n        organizations={organizations}\n        selectedOrganization={selectedOrganization}\n        onSelect={onSelect}\n        onClose={() => {\n          setShowDropdown(false);\n        }}\n      />\n    </div>\n  );\n};\n\nexport default OrganizationSelector;\n","import { UserScope } from '@logto/core-kit';\nimport { type ConsentInfoResponse } from '@logto/schemas';\nimport { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport ScopeGroup from '../ScopeGroup';\n\nimport styles from './index.module.scss';\n\nconst isUserScope = (scope: string): scope is UserScope =>\n  Object.values<string>(UserScope).includes(scope);\n\ntype Props = {\n  readonly userScopes: ConsentInfoResponse['missingOIDCScope'];\n  readonly resourceScopes: ConsentInfoResponse['missingResourceScopes'];\n  readonly appName: string;\n  readonly className?: string;\n};\n\nconst ScopesListCard = ({ userScopes, resourceScopes, appName, className }: Props) => {\n  const { t } = useTranslation();\n\n  const userScopesData = useMemo(\n    () =>\n      userScopes?.map((scope) => ({\n        id: scope,\n        name: scope,\n        description: isUserScope(scope)\n          ? // We have ':' in the user scope, need to change the nsSeparator to '|' to avoid i18n ns matching\n            t(`user_scopes.descriptions.${scope}`, { nsSeparator: '|' })\n          : undefined,\n      })),\n    [t, userScopes]\n  );\n\n  // If there is no user scopes and resource scopes, we don't need to show the scopes list.\n  if (!userScopesData?.length && !resourceScopes?.length) {\n    return null;\n  }\n\n  return (\n    <div className={className}>\n      <div className={styles.title}>\n        {t(`description.authorize_personal_data_usage`, { name: appName })}\n      </div>\n      <div className={styles.cardWrapper}>\n        {userScopesData && userScopesData.length > 0 && (\n          <ScopeGroup\n            groupName=\"User Scopes\"\n            scopes={userScopesData}\n            // If there is no resource scopes, we should auto expand the user scopes\n            isAutoExpand={!resourceScopes?.length}\n          />\n        )}\n        {resourceScopes?.map(({ resource, scopes }) => (\n          <ScopeGroup\n            key={resource.id}\n            groupName={resource.name}\n            scopes={scopes}\n            // If there is no user scopes, we should auto expand the resource scopes\n            isAutoExpand={!userScopesData?.length && resourceScopes.length === 1}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ScopesListCard;\n","import * as React from \"react\";\nconst SvgDefaultUserAvatar = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 40, height: 40, viewBox: \"0 0 40 40\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"rect\", { width: 40, height: 40, rx: 6, fill: \"#F7F8F8\" }), /* @__PURE__ */ React.createElement(\"rect\", { width: 40, height: 40, rx: 6, fill: \"#78767F\", fillOpacity: 0.02 }), /* @__PURE__ */ React.createElement(\"rect\", { width: 40, height: 40, rx: 6, fill: \"#5D34F2\", fillOpacity: 0.16 }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M20.1449 8.3335C17.6236 8.3335 15.5796 10.3774 15.5796 12.8987V13.9132C15.5796 16.4345 17.6236 18.4784 20.1449 18.4784C22.6662 18.4784 24.7101 16.4345 24.7101 13.9132V12.8987C24.7101 10.3774 22.6662 8.3335 20.1449 8.3335ZM20.1449 31.6668C30.2899 31.6668 30.2899 28.369 30.2899 28.369C30.2899 24.0916 28.1669 20.1045 22.6812 20.0002C22.6579 19.9997 22.4995 20.1538 22.2699 20.3772C21.6671 20.9635 20.5736 22.0272 20.1449 22.0272C19.7162 22.0272 18.6227 20.9635 18.02 20.3772C17.7904 20.1538 17.6319 19.9997 17.6087 20.0002C12.123 20.1045 10 24.0916 10 28.369C10 28.369 10 31.6668 20.1449 31.6668Z\", fill: \"#947DFF\" }));\nexport default SvgDefaultUserAvatar;\n","import { type ConsentInfoResponse } from '@logto/schemas';\nimport classNames from 'classnames';\nimport { useTranslation } from 'react-i18next';\n\nimport UserAvatar from '@/assets/icons/default-user-avatar.svg?react';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly user: ConsentInfoResponse['user'];\n  readonly className?: string;\n};\n\nconst UserProfile = ({\n  user: { id, avatar, name, primaryEmail, primaryPhone, username },\n  className,\n}: Props) => {\n  const { t } = useTranslation();\n\n  return (\n    <div className={classNames(styles.wrapper, className)}>\n      {avatar ? (\n        <img src={avatar} alt=\"avatar\" className={styles.avatar} />\n      ) : (\n        <UserAvatar className={styles.avatar} />\n      )}\n      <div>\n        <div className={styles.name}>{name ?? t('description.user_id', { id })}</div>\n        <div className={styles.identifier}>{primaryEmail ?? primaryPhone ?? username}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserProfile;\n","/**\n * We need to hide the query params and path from the redirectUri for security reasons when displaying it to the user.\n *\n * if the redirectUri is a http url, we should return the origin\n * Otherwise return the original uri. e.g. native schema io.logto://callback\n */\nexport const getRedirectUriOrigin = (redirectUri: string) => {\n  const url = new URL(redirectUri);\n\n  // If the redirectUri is a http url, we should return the origin\n  if (url.protocol.startsWith('http')) {\n    return url.origin;\n  }\n\n  // Otherwise return the original uri. e.g. native schema io.logto://callback\n  return redirectUri;\n};\n","import { ReservedResource } from '@logto/core-kit';\nimport { type ConsentInfoResponse } from '@logto/schemas';\nimport { useCallback, useEffect, useState } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport LandingPageLayout from '@/Layout/LandingPageLayout';\nimport { consent, getConsentInfo } from '@/apis/consent';\nimport Button from '@/components/Button';\nimport TermsLinks from '@/components/TermsLinks';\nimport TextLink from '@/components/TextLink';\nimport useApi from '@/hooks/use-api';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport useGlobalRedirectTo from '@/hooks/use-global-redirect-to';\n\nimport OrganizationSelector, { type Organization } from './OrganizationSelector';\nimport ScopesListCard from './ScopesListCard';\nimport UserProfile from './UserProfile';\nimport styles from './index.module.scss';\nimport { getRedirectUriOrigin } from './util';\n\nconst Consent = () => {\n  const handleError = useErrorHandler();\n  const asyncConsent = useApi(consent);\n  const { t } = useTranslation();\n  const redirectTo = useGlobalRedirectTo();\n\n  const [consentData, setConsentData] = useState<ConsentInfoResponse>();\n  const [selectedOrganization, setSelectedOrganization] = useState<Organization>();\n\n  const [isConsentLoading, setIsConsentLoading] = useState(false);\n\n  const asyncGetConsentInfo = useApi(getConsentInfo);\n\n  const consentHandler = useCallback(async () => {\n    setIsConsentLoading(true);\n    const [error, result] = await asyncConsent(selectedOrganization?.id);\n    setIsConsentLoading(false);\n\n    if (error) {\n      await handleError(error);\n\n      return;\n    }\n\n    if (result?.redirectTo) {\n      await redirectTo(result.redirectTo);\n    }\n  }, [asyncConsent, handleError, redirectTo, selectedOrganization?.id]);\n\n  useEffect(() => {\n    const getConsentInfoHandler = async () => {\n      const [error, result] = await asyncGetConsentInfo();\n\n      if (error) {\n        await handleError(error);\n\n        return;\n      }\n\n      setConsentData(result);\n\n      // Init the default organization selection\n      if (!result?.organizations?.length) {\n        return;\n      }\n\n      setSelectedOrganization(result.organizations[0]);\n    };\n\n    void getConsentInfoHandler();\n  }, [asyncGetConsentInfo, handleError]);\n\n  if (!consentData) {\n    return null;\n  }\n\n  const {\n    application: { displayName, name, termsOfUseUrl, privacyPolicyUrl },\n  } = consentData;\n\n  const applicationName = displayName ?? name;\n  const showTerms = Boolean(termsOfUseUrl ?? privacyPolicyUrl);\n\n  return (\n    <LandingPageLayout\n      title=\"description.authorize_title\"\n      titleInterpolation={{\n        name: applicationName,\n      }}\n      thirdPartyBranding={consentData.application.branding}\n    >\n      <UserProfile user={consentData.user} />\n      <ScopesListCard\n        userScopes={consentData.missingOIDCScope}\n        /**\n         * The org resources is included in the user scopes for compatibility.\n         */\n        resourceScopes={consentData.missingResourceScopes?.filter(\n          ({ resource }) => resource.id !== ReservedResource.Organization\n        )}\n        appName={applicationName}\n        className={styles.scopesCard}\n      />\n      {consentData.organizations && (\n        <OrganizationSelector\n          className={styles.organizationSelector}\n          organizations={consentData.organizations}\n          selectedOrganization={selectedOrganization}\n          onSelect={setSelectedOrganization}\n        />\n      )}\n      <div className={styles.footerButton}>\n        <Button\n          title=\"action.cancel\"\n          type=\"secondary\"\n          onClick={() => {\n            window.location.replace(consentData.redirectUri);\n          }}\n        />\n        <Button title=\"action.authorize\" isLoading={isConsentLoading} onClick={consentHandler} />\n      </div>\n      {!showTerms && (\n        <div className={styles.redirectUri}>\n          {t('description.redirect_to', { name: getRedirectUriOrigin(consentData.redirectUri) })}\n        </div>\n      )}\n      {showTerms && (\n        <div className={styles.terms}>\n          <Trans\n            components={{\n              link: (\n                <TermsLinks\n                  inline\n                  termsOfUseUrl={termsOfUseUrl ?? ''}\n                  privacyPolicyUrl={privacyPolicyUrl ?? ''}\n                />\n              ),\n            }}\n          >\n            {t('description.authorize_agreement_with_redirect', {\n              name,\n              uri: getRedirectUriOrigin(consentData.redirectUri),\n            })}\n          </Trans>\n        </div>\n      )}\n      <div className={styles.footerLink}>\n        {t('description.not_you')}{' '}\n        <TextLink replace to=\"/sign-in\" text=\"action.use_another_account\" />\n      </div>\n    </LandingPageLayout>\n  );\n};\n\nexport default Consent;\n","import * as React from \"react\";\nconst SvgEmptyStateDark = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 194, height: 196, viewBox: \"0 0 194 196\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"rect\", { x: 34, y: 46, width: 140, height: 108, rx: 12, fill: \"#928F9A\" }), /* @__PURE__ */ React.createElement(\"mask\", { id: \"mask0_1266_17280\", style: {\n  maskType: \"alpha\"\n}, maskUnits: \"userSpaceOnUse\", x: 34, y: 46, width: 140, height: 108 }, /* @__PURE__ */ React.createElement(\"rect\", { x: 34, y: 46, width: 140, height: 108, rx: 12.1905, fill: \"#928F9A\" })), /* @__PURE__ */ React.createElement(\"g\", { mask: \"url(#mask0_1266_17280)\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M34 58C34 51.3726 39.3726 46 46 46H162C168.627 46 174 51.3726 174 58V62H34V58Z\", fill: \"#78767F\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M77.6858 96.686C76.1238 98.2481 76.1238 100.781 77.6858 102.343L83.3434 108L77.6872 113.657C76.1251 115.219 76.1251 117.751 77.6872 119.313C79.2493 120.876 81.782 120.876 83.3441 119.313L89.0002 113.657L94.6564 119.313C96.2185 120.875 98.7512 120.875 100.313 119.313C101.875 117.751 101.875 115.219 100.313 113.657L94.6571 108L100.315 102.343C101.877 100.781 101.877 98.2481 100.315 96.686C98.7525 95.1239 96.2199 95.1239 94.6578 96.686L89.0002 102.344L83.3427 96.686C81.7806 95.1239 79.2479 95.1239 77.6858 96.686Z\", fill: \"#CABEFF\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M125.686 96.686C124.124 98.2481 124.124 100.781 125.686 102.343L131.343 108L125.687 113.657C124.125 115.219 124.125 117.751 125.687 119.313C127.249 120.876 129.782 120.876 131.344 119.313L137 113.657L142.656 119.313C144.219 120.875 146.751 120.875 148.313 119.313C149.875 117.751 149.875 115.219 148.313 113.657L142.657 108L148.315 102.343C149.877 100.781 149.877 98.2481 148.315 96.686C146.753 95.1239 144.22 95.1239 142.658 96.686L137 102.344L131.343 96.686C129.781 95.1239 127.248 95.1239 125.686 96.686Z\", fill: \"#CABEFF\" }), /* @__PURE__ */ React.createElement(\"circle\", { cx: 48, cy: 54, r: 2, fill: \"#5F5D67\" }), /* @__PURE__ */ React.createElement(\"circle\", { cx: 58, cy: 54, r: 2, fill: \"#ADAAB4\" }), /* @__PURE__ */ React.createElement(\"circle\", { cx: 68, cy: 54, r: 2, fill: \"#ADAAB4\" }), /* @__PURE__ */ React.createElement(\"rect\", { x: 50, y: 74, width: 64, height: 4, rx: 2, fill: \"#ADAAB4\" }), /* @__PURE__ */ React.createElement(\"rect\", { x: 50, y: 81, width: 14, height: 4, rx: 2, fill: \"#ADAAB4\" }), /* @__PURE__ */ React.createElement(\"rect\", { x: 148, y: 81, width: 10, height: 4, rx: 2, fill: \"#ADAAB4\" }), /* @__PURE__ */ React.createElement(\"rect\", { x: 68, y: 81, width: 74, height: 4, rx: 2, fill: \"#ADAAB4\" }), /* @__PURE__ */ React.createElement(\"rect\", { x: 122, y: 74, width: 10, height: 4, rx: 2, fill: \"#ADAAB4\" }), /* @__PURE__ */ React.createElement(\"rect\", { x: 135, y: 74, width: 23, height: 4, rx: 2, fill: \"#ADAAB4\" }), /* @__PURE__ */ React.createElement(\"mask\", { id: \"mask1_1266_17280\", style: {\n  maskType: \"alpha\"\n}, maskUnits: \"userSpaceOnUse\", x: 1, y: 65, width: 92, height: 99 }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M92 70.5V66H1.5V163.5H39C52.2548 163.5 63 152.755 63 139.5V99.5C63 91.4919 69.4919 85 77.5 85C85.5081 85 92 78.5081 92 70.5Z\", fill: \"white\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeLinecap: \"round\", strokeLinejoin: \"round\" })), /* @__PURE__ */ React.createElement(\"g\", { mask: \"url(#mask1_1266_17280)\" }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 62L-24 64C-21.4819 65.2591 -18.5181 65.259 -16 64V64C-13.482 62.7409 -10.518 62.7409 -7.99999 64V64C-5.48195 65.259 -2.51804 65.259 8.58307e-06 64V64C2.51805 62.7409 5.48197 62.7409 8.00001 64V64C10.518 65.259 13.482 65.2591 16 64V64C18.5181 62.741 21.4951 62.7476 24.0131 64.0066V64.0066C26.5181 65.2591 29.4764 65.281 31.9943 64.0547L32.3036 63.9041C34.7646 62.7055 37.6464 62.7363 40.0813 63.987V63.987C42.5446 65.2524 45.4634 65.2683 47.9404 64.0298L48.0271 63.9865C50.5281 62.736 53.4854 62.7427 55.9864 63.9932V63.9932C58.5045 65.2522 61.4849 65.2576 64.0029 63.9986V63.9986C66.5181 62.741 69.5108 62.751 72.0289 64.0027V64.0027C74.5398 65.2509 77.522 65.2603 80.0284 64.0034V64.0034C82.5424 62.7427 85.5043 62.7416 88.019 64.0008V64.0008C90.5321 65.2591 93.4913 65.2591 96.0044 64.0008L100 62\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 66L-24 68C-21.4819 69.2591 -18.5181 69.259 -16 68V68C-13.482 66.7409 -10.518 66.7409 -7.99999 68V68C-5.48195 69.259 -2.51804 69.259 8.58307e-06 68V68C2.51805 66.7409 5.48197 66.7409 8.00001 68V68C10.518 69.259 13.482 69.2591 16 68V68C18.5181 66.741 21.4951 66.7476 24.0131 68.0066V68.0066C26.5181 69.2591 29.4764 69.281 31.9943 68.0547L32.3036 67.9041C34.7646 66.7055 37.6464 66.7363 40.0813 67.987V67.987C42.5446 69.2524 45.4634 69.2683 47.9404 68.0298L48.0271 67.9865C50.5281 66.736 53.4854 66.7427 55.9864 67.9932V67.9932C58.5045 69.2522 61.4849 69.2576 64.0029 67.9986V67.9986C66.5181 66.741 69.5108 66.751 72.0289 68.0027V68.0027C74.5398 69.2509 77.522 69.2603 80.0284 68.0034V68.0034C82.5424 66.7427 85.5043 66.7416 88.019 68.0008V68.0008C90.5321 69.2591 93.4913 69.2591 96.0044 68.0008L100 66\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 70L-24 72C-21.4819 73.2591 -18.5181 73.259 -16 72V72C-13.482 70.7409 -10.518 70.7409 -7.99999 72V72C-5.48195 73.259 -2.51804 73.259 8.58307e-06 72V72C2.51805 70.7409 5.48197 70.7409 8.00001 72V72C10.518 73.259 13.482 73.2591 16 72V72C18.5181 70.741 21.4951 70.7476 24.0131 72.0066V72.0066C26.5181 73.2591 29.4764 73.281 31.9943 72.0547L32.3036 71.9041C34.7646 70.7055 37.6464 70.7363 40.0813 71.987V71.987C42.5446 73.2524 45.4634 73.2683 47.9404 72.0298L48.0271 71.9865C50.5281 70.736 53.4854 70.7427 55.9864 71.9932V71.9932C58.5045 73.2522 61.4849 73.2576 64.0029 71.9986V71.9986C66.5181 70.741 69.5108 70.751 72.0289 72.0027V72.0027C74.5398 73.2509 77.522 73.2603 80.0284 72.0034V72.0034C82.5424 70.7427 85.5043 70.7416 88.019 72.0008V72.0008C90.5321 73.2591 93.4913 73.2591 96.0044 72.0008L100 70\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 74L-24 76C-21.4819 77.2591 -18.5181 77.259 -16 76V76C-13.482 74.7409 -10.518 74.7409 -7.99999 76V76C-5.48195 77.259 -2.51804 77.259 8.58307e-06 76V76C2.51805 74.7409 5.48197 74.7409 8.00001 76V76C10.518 77.259 13.482 77.2591 16 76V76C18.5181 74.741 21.4951 74.7476 24.0131 76.0066V76.0066C26.5181 77.2591 29.4764 77.281 31.9943 76.0547L32.3036 75.9041C34.7646 74.7055 37.6464 74.7363 40.0813 75.987V75.987C42.5446 77.2524 45.4634 77.2683 47.9404 76.0298L48.0271 75.9865C50.5281 74.736 53.4854 74.7427 55.9864 75.9932V75.9932C58.5045 77.2522 61.4849 77.2576 64.0029 75.9986V75.9986C66.5181 74.741 69.5108 74.751 72.0289 76.0027V76.0027C74.5398 77.2509 77.522 77.2603 80.0284 76.0034V76.0034C82.5424 74.7427 85.5043 74.7416 88.019 76.0008V76.0008C90.5321 77.2591 93.4913 77.2591 96.0044 76.0008L100 74\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 78L-24 80C-21.4819 81.2591 -18.5181 81.259 -16 80V80C-13.482 78.7409 -10.518 78.7409 -7.99999 80V80C-5.48195 81.259 -2.51804 81.259 8.58307e-06 80V80C2.51805 78.7409 5.48197 78.7409 8.00001 80V80C10.518 81.259 13.482 81.2591 16 80V80C18.5181 78.741 21.4951 78.7476 24.0131 80.0066V80.0066C26.5181 81.2591 29.4764 81.281 31.9943 80.0547L32.3036 79.9041C34.7646 78.7055 37.6464 78.7363 40.0813 79.987V79.987C42.5446 81.2524 45.4634 81.2683 47.9404 80.0298L48.0271 79.9865C50.5281 78.736 53.4854 78.7427 55.9864 79.9932V79.9932C58.5045 81.2522 61.4849 81.2576 64.0029 79.9986V79.9986C66.5181 78.741 69.5108 78.751 72.0289 80.0027V80.0027C74.5398 81.2509 77.522 81.2603 80.0284 80.0034V80.0034C82.5424 78.7427 85.5043 78.7416 88.019 80.0008V80.0008C90.5321 81.2591 93.4913 81.2591 96.0044 80.0008L100 78\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 82L-24 84C-21.4819 85.2591 -18.5181 85.259 -16 84V84C-13.482 82.7409 -10.518 82.7409 -7.99999 84V84C-5.48195 85.259 -2.51804 85.259 8.58307e-06 84V84C2.51805 82.7409 5.48197 82.7409 8.00001 84V84C10.518 85.259 13.482 85.2591 16 84V84C18.5181 82.741 21.4951 82.7476 24.0131 84.0066V84.0066C26.5181 85.2591 29.4764 85.281 31.9943 84.0547L32.3036 83.9041C34.7646 82.7055 37.6464 82.7363 40.0813 83.987V83.987C42.5446 85.2524 45.4634 85.2683 47.9404 84.0298L48.0271 83.9865C50.5281 82.736 53.4854 82.7427 55.9864 83.9932V83.9932C58.5045 85.2522 61.4849 85.2576 64.0029 83.9986V83.9986C66.5181 82.741 69.5108 82.751 72.0289 84.0027V84.0027C74.5398 85.2509 77.522 85.2603 80.0284 84.0034V84.0034C82.5424 82.7427 85.5043 82.7416 88.019 84.0008V84.0008C90.5321 85.2591 93.4913 85.2591 96.0044 84.0008L100 82\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 86L-24 88C-21.4819 89.2591 -18.5181 89.259 -16 88V88C-13.482 86.7409 -10.518 86.7409 -7.99999 88V88C-5.48195 89.259 -2.51804 89.259 8.58307e-06 88V88C2.51805 86.7409 5.48197 86.7409 8.00001 88V88C10.518 89.259 13.482 89.2591 16 88V88C18.5181 86.741 21.4951 86.7476 24.0131 88.0066V88.0066C26.5181 89.2591 29.4764 89.281 31.9943 88.0547L32.3036 87.9041C34.7646 86.7055 37.6464 86.7363 40.0813 87.987V87.987C42.5446 89.2524 45.4634 89.2683 47.9404 88.0298L48.0271 87.9865C50.5281 86.736 53.4854 86.7427 55.9864 87.9932V87.9932C58.5045 89.2522 61.4849 89.2576 64.0029 87.9986V87.9986C66.5181 86.741 69.5108 86.751 72.0289 88.0027V88.0027C74.5398 89.2509 77.522 89.2603 80.0284 88.0034V88.0034C82.5424 86.7427 85.5043 86.7416 88.019 88.0008V88.0008C90.5321 89.2591 93.4913 89.2591 96.0044 88.0008L100 86\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 90L-24 92C-21.4819 93.2591 -18.5181 93.259 -16 92V92C-13.482 90.7409 -10.518 90.7409 -7.99999 92V92C-5.48195 93.259 -2.51804 93.259 8.58307e-06 92V92C2.51805 90.7409 5.48197 90.7409 8.00001 92V92C10.518 93.259 13.482 93.2591 16 92V92C18.5181 90.741 21.4951 90.7476 24.0131 92.0066V92.0066C26.5181 93.2591 29.4764 93.281 31.9943 92.0547L32.3036 91.9041C34.7646 90.7055 37.6464 90.7363 40.0813 91.987V91.987C42.5446 93.2524 45.4634 93.2683 47.9404 92.0298L48.0271 91.9865C50.5281 90.736 53.4854 90.7427 55.9864 91.9932V91.9932C58.5045 93.2522 61.4849 93.2576 64.0029 91.9986V91.9986C66.5181 90.741 69.5108 90.751 72.0289 92.0027V92.0027C74.5398 93.2509 77.522 93.2603 80.0284 92.0034V92.0034C82.5424 90.7427 85.5043 90.7416 88.019 92.0008V92.0008C90.5321 93.2591 93.4913 93.2591 96.0044 92.0008L100 90\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 94L-24 96C-21.4819 97.2591 -18.5181 97.259 -16 96V96C-13.482 94.7409 -10.518 94.7409 -7.99999 96V96C-5.48195 97.259 -2.51804 97.259 8.58307e-06 96V96C2.51805 94.7409 5.48197 94.7409 8.00001 96V96C10.518 97.259 13.482 97.2591 16 96V96C18.5181 94.741 21.4951 94.7476 24.0131 96.0066V96.0066C26.5181 97.2591 29.4764 97.281 31.9943 96.0547L32.3036 95.9041C34.7646 94.7055 37.6464 94.7363 40.0813 95.987V95.987C42.5446 97.2524 45.4634 97.2683 47.9404 96.0298L48.0271 95.9865C50.5281 94.736 53.4854 94.7427 55.9864 95.9932V95.9932C58.5045 97.2522 61.4849 97.2576 64.0029 95.9986V95.9986C66.5181 94.741 69.5108 94.751 72.0289 96.0027V96.0027C74.5398 97.2509 77.522 97.2603 80.0284 96.0034V96.0034C82.5424 94.7427 85.5043 94.7416 88.019 96.0008V96.0008C90.5321 97.2591 93.4913 97.2591 96.0044 96.0008L100 94\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 98L-24 100C-21.4819 101.259 -18.5181 101.259 -16 100V100C-13.482 98.7409 -10.518 98.7409 -7.99999 100V100C-5.48195 101.259 -2.51804 101.259 8.58307e-06 100V100C2.51805 98.7409 5.48197 98.7409 8.00001 100V100C10.518 101.259 13.482 101.259 16 100V100C18.5181 98.741 21.4951 98.7476 24.0131 100.007V100.007C26.5181 101.259 29.4764 101.281 31.9943 100.055L32.3036 99.9041C34.7646 98.7055 37.6464 98.7363 40.0813 99.987V99.987C42.5446 101.252 45.4634 101.268 47.9404 100.03L48.0271 99.9865C50.5281 98.736 53.4854 98.7427 55.9864 99.9932V99.9932C58.5045 101.252 61.4849 101.258 64.0029 99.9986V99.9986C66.5181 98.741 69.5108 98.751 72.0289 100.003V100.003C74.5398 101.251 77.522 101.26 80.0284 100.003V100.003C82.5424 98.7427 85.5043 98.7416 88.019 100.001V100.001C90.5321 101.259 93.4913 101.259 96.0044 100.001L100 98\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 102L-24 104C-21.4819 105.259 -18.5181 105.259 -16 104V104C-13.482 102.741 -10.518 102.741 -7.99999 104V104C-5.48195 105.259 -2.51804 105.259 8.58307e-06 104V104C2.51805 102.741 5.48197 102.741 8.00001 104V104C10.518 105.259 13.482 105.259 16 104V104C18.5181 102.741 21.4951 102.748 24.0131 104.007V104.007C26.5181 105.259 29.4764 105.281 31.9943 104.055L32.3036 103.904C34.7646 102.706 37.6464 102.736 40.0813 103.987V103.987C42.5446 105.252 45.4634 105.268 47.9404 104.03L48.0271 103.986C50.5281 102.736 53.4854 102.743 55.9864 103.993V103.993C58.5045 105.252 61.4849 105.258 64.0029 103.999V103.999C66.5181 102.741 69.5108 102.751 72.0289 104.003V104.003C74.5398 105.251 77.522 105.26 80.0284 104.003V104.003C82.5424 102.743 85.5043 102.742 88.019 104.001V104.001C90.5321 105.259 93.4913 105.259 96.0044 104.001L100 102\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 106L-24 108C-21.4819 109.259 -18.5181 109.259 -16 108V108C-13.482 106.741 -10.518 106.741 -7.99999 108V108C-5.48195 109.259 -2.51804 109.259 8.58307e-06 108V108C2.51805 106.741 5.48197 106.741 8.00001 108V108C10.518 109.259 13.482 109.259 16 108V108C18.5181 106.741 21.4951 106.748 24.0131 108.007V108.007C26.5181 109.259 29.4764 109.281 31.9943 108.055L32.3036 107.904C34.7646 106.706 37.6464 106.736 40.0813 107.987V107.987C42.5446 109.252 45.4634 109.268 47.9404 108.03L48.0271 107.986C50.5281 106.736 53.4854 106.743 55.9864 107.993V107.993C58.5045 109.252 61.4849 109.258 64.0029 107.999V107.999C66.5181 106.741 69.5108 106.751 72.0289 108.003V108.003C74.5398 109.251 77.522 109.26 80.0284 108.003V108.003C82.5424 106.743 85.5043 106.742 88.019 108.001V108.001C90.5321 109.259 93.4913 109.259 96.0044 108.001L100 106\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 110L-24 112C-21.4819 113.259 -18.5181 113.259 -16 112V112C-13.482 110.741 -10.518 110.741 -7.99999 112V112C-5.48195 113.259 -2.51804 113.259 8.58307e-06 112V112C2.51805 110.741 5.48197 110.741 8.00001 112V112C10.518 113.259 13.482 113.259 16 112V112C18.5181 110.741 21.4951 110.748 24.0131 112.007V112.007C26.5181 113.259 29.4764 113.281 31.9943 112.055L32.3036 111.904C34.7646 110.706 37.6464 110.736 40.0813 111.987V111.987C42.5446 113.252 45.4634 113.268 47.9404 112.03L48.0271 111.986C50.5281 110.736 53.4854 110.743 55.9864 111.993V111.993C58.5045 113.252 61.4849 113.258 64.0029 111.999V111.999C66.5181 110.741 69.5108 110.751 72.0289 112.003V112.003C74.5398 113.251 77.522 113.26 80.0284 112.003V112.003C82.5424 110.743 85.5043 110.742 88.019 112.001V112.001C90.5321 113.259 93.4913 113.259 96.0044 112.001L100 110\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 114L-24 116C-21.4819 117.259 -18.5181 117.259 -16 116V116C-13.482 114.741 -10.518 114.741 -7.99999 116V116C-5.48195 117.259 -2.51804 117.259 8.58307e-06 116V116C2.51805 114.741 5.48197 114.741 8.00001 116V116C10.518 117.259 13.482 117.259 16 116V116C18.5181 114.741 21.4951 114.748 24.0131 116.007V116.007C26.5181 117.259 29.4764 117.281 31.9943 116.055L32.3036 115.904C34.7646 114.706 37.6464 114.736 40.0813 115.987V115.987C42.5446 117.252 45.4634 117.268 47.9404 116.03L48.0271 115.986C50.5281 114.736 53.4854 114.743 55.9864 115.993V115.993C58.5045 117.252 61.4849 117.258 64.0029 115.999V115.999C66.5181 114.741 69.5108 114.751 72.0289 116.003V116.003C74.5398 117.251 77.522 117.26 80.0284 116.003V116.003C82.5424 114.743 85.5043 114.742 88.019 116.001V116.001C90.5321 117.259 93.4913 117.259 96.0044 116.001L100 114\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 118L-24 120C-21.4819 121.259 -18.5181 121.259 -16 120V120C-13.482 118.741 -10.518 118.741 -7.99999 120V120C-5.48195 121.259 -2.51804 121.259 8.58307e-06 120V120C2.51805 118.741 5.48197 118.741 8.00001 120V120C10.518 121.259 13.482 121.259 16 120V120C18.5181 118.741 21.4951 118.748 24.0131 120.007V120.007C26.5181 121.259 29.4764 121.281 31.9943 120.055L32.3036 119.904C34.7646 118.706 37.6464 118.736 40.0813 119.987V119.987C42.5446 121.252 45.4634 121.268 47.9404 120.03L48.0271 119.986C50.5281 118.736 53.4854 118.743 55.9864 119.993V119.993C58.5045 121.252 61.4849 121.258 64.0029 119.999V119.999C66.5181 118.741 69.5108 118.751 72.0289 120.003V120.003C74.5398 121.251 77.522 121.26 80.0284 120.003V120.003C82.5424 118.743 85.5043 118.742 88.019 120.001V120.001C90.5321 121.259 93.4913 121.259 96.0044 120.001L100 118\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 122L-24 124C-21.4819 125.259 -18.5181 125.259 -16 124V124C-13.482 122.741 -10.518 122.741 -7.99999 124V124C-5.48195 125.259 -2.51804 125.259 8.58307e-06 124V124C2.51805 122.741 5.48197 122.741 8.00001 124V124C10.518 125.259 13.482 125.259 16 124V124C18.5181 122.741 21.4951 122.748 24.0131 124.007V124.007C26.5181 125.259 29.4764 125.281 31.9943 124.055L32.3036 123.904C34.7646 122.706 37.6464 122.736 40.0813 123.987V123.987C42.5446 125.252 45.4634 125.268 47.9404 124.03L48.0271 123.986C50.5281 122.736 53.4854 122.743 55.9864 123.993V123.993C58.5045 125.252 61.4849 125.258 64.0029 123.999V123.999C66.5181 122.741 69.5108 122.751 72.0289 124.003V124.003C74.5398 125.251 77.522 125.26 80.0284 124.003V124.003C82.5424 122.743 85.5043 122.742 88.019 124.001V124.001C90.5321 125.259 93.4913 125.259 96.0044 124.001L100 122\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 126L-24 128C-21.4819 129.259 -18.5181 129.259 -16 128V128C-13.482 126.741 -10.518 126.741 -7.99999 128V128C-5.48195 129.259 -2.51804 129.259 8.58307e-06 128V128C2.51805 126.741 5.48197 126.741 8.00001 128V128C10.518 129.259 13.482 129.259 16 128V128C18.5181 126.741 21.4951 126.748 24.0131 128.007V128.007C26.5181 129.259 29.4764 129.281 31.9943 128.055L32.3036 127.904C34.7646 126.706 37.6464 126.736 40.0813 127.987V127.987C42.5446 129.252 45.4634 129.268 47.9404 128.03L48.0271 127.986C50.5281 126.736 53.4854 126.743 55.9864 127.993V127.993C58.5045 129.252 61.4849 129.258 64.0029 127.999V127.999C66.5181 126.741 69.5108 126.751 72.0289 128.003V128.003C74.5398 129.251 77.522 129.26 80.0284 128.003V128.003C82.5424 126.743 85.5043 126.742 88.019 128.001V128.001C90.5321 129.259 93.4913 129.259 96.0044 128.001L100 126\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 130L-24 132C-21.4819 133.259 -18.5181 133.259 -16 132V132C-13.482 130.741 -10.518 130.741 -7.99999 132V132C-5.48195 133.259 -2.51804 133.259 8.58307e-06 132V132C2.51805 130.741 5.48197 130.741 8.00001 132V132C10.518 133.259 13.482 133.259 16 132V132C18.5181 130.741 21.4951 130.748 24.0131 132.007V132.007C26.5181 133.259 29.4764 133.281 31.9943 132.055L32.3036 131.904C34.7646 130.706 37.6464 130.736 40.0813 131.987V131.987C42.5446 133.252 45.4634 133.268 47.9404 132.03L48.0271 131.986C50.5281 130.736 53.4854 130.743 55.9864 131.993V131.993C58.5045 133.252 61.4849 133.258 64.0029 131.999V131.999C66.5181 130.741 69.5108 130.751 72.0289 132.003V132.003C74.5398 133.251 77.522 133.26 80.0284 132.003V132.003C82.5424 130.743 85.5043 130.742 88.019 132.001V132.001C90.5321 133.259 93.4913 133.259 96.0044 132.001L100 130\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 134L-24 136C-21.4819 137.259 -18.5181 137.259 -16 136V136C-13.482 134.741 -10.518 134.741 -7.99999 136V136C-5.48195 137.259 -2.51804 137.259 8.58307e-06 136V136C2.51805 134.741 5.48197 134.741 8.00001 136V136C10.518 137.259 13.482 137.259 16 136V136C18.5181 134.741 21.4951 134.748 24.0131 136.007V136.007C26.5181 137.259 29.4764 137.281 31.9943 136.055L32.3036 135.904C34.7646 134.706 37.6464 134.736 40.0813 135.987V135.987C42.5446 137.252 45.4634 137.268 47.9404 136.03L48.0271 135.986C50.5281 134.736 53.4854 134.743 55.9864 135.993V135.993C58.5045 137.252 61.4849 137.258 64.0029 135.999V135.999C66.5181 134.741 69.5108 134.751 72.0289 136.003V136.003C74.5398 137.251 77.522 137.26 80.0284 136.003V136.003C82.5424 134.743 85.5043 134.742 88.019 136.001V136.001C90.5321 137.259 93.4913 137.259 96.0044 136.001L100 134\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 138L-24 140C-21.4819 141.259 -18.5181 141.259 -16 140V140C-13.482 138.741 -10.518 138.741 -7.99999 140V140C-5.48195 141.259 -2.51804 141.259 8.58307e-06 140V140C2.51805 138.741 5.48197 138.741 8.00001 140V140C10.518 141.259 13.482 141.259 16 140V140C18.5181 138.741 21.4951 138.748 24.0131 140.007V140.007C26.5181 141.259 29.4764 141.281 31.9943 140.055L32.3036 139.904C34.7646 138.706 37.6464 138.736 40.0813 139.987V139.987C42.5446 141.252 45.4634 141.268 47.9404 140.03L48.0271 139.986C50.5281 138.736 53.4854 138.743 55.9864 139.993V139.993C58.5045 141.252 61.4849 141.258 64.0029 139.999V139.999C66.5181 138.741 69.5108 138.751 72.0289 140.003V140.003C74.5398 141.251 77.522 141.26 80.0284 140.003V140.003C82.5424 138.743 85.5043 138.742 88.019 140.001V140.001C90.5321 141.259 93.4913 141.259 96.0044 140.001L100 138\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 142L-24 144C-21.4819 145.259 -18.5181 145.259 -16 144V144C-13.482 142.741 -10.518 142.741 -7.99999 144V144C-5.48195 145.259 -2.51804 145.259 8.58307e-06 144V144C2.51805 142.741 5.48197 142.741 8.00001 144V144C10.518 145.259 13.482 145.259 16 144V144C18.5181 142.741 21.4951 142.748 24.0131 144.007V144.007C26.5181 145.259 29.4764 145.281 31.9943 144.055L32.3036 143.904C34.7646 142.706 37.6464 142.736 40.0813 143.987V143.987C42.5446 145.252 45.4634 145.268 47.9404 144.03L48.0271 143.986C50.5281 142.736 53.4854 142.743 55.9864 143.993V143.993C58.5045 145.252 61.4849 145.258 64.0029 143.999V143.999C66.5181 142.741 69.5108 142.751 72.0289 144.003V144.003C74.5398 145.251 77.522 145.26 80.0284 144.003V144.003C82.5424 142.743 85.5043 142.742 88.019 144.001V144.001C90.5321 145.259 93.4913 145.259 96.0044 144.001L100 142\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 146L-24 148C-21.4819 149.259 -18.5181 149.259 -16 148V148C-13.482 146.741 -10.518 146.741 -7.99999 148V148C-5.48195 149.259 -2.51804 149.259 8.58307e-06 148V148C2.51805 146.741 5.48197 146.741 8.00001 148V148C10.518 149.259 13.482 149.259 16 148V148C18.5181 146.741 21.4951 146.748 24.0131 148.007V148.007C26.5181 149.259 29.4764 149.281 31.9943 148.055L32.3036 147.904C34.7646 146.706 37.6464 146.736 40.0813 147.987V147.987C42.5446 149.252 45.4634 149.268 47.9404 148.03L48.0271 147.986C50.5281 146.736 53.4854 146.743 55.9864 147.993V147.993C58.5045 149.252 61.4849 149.258 64.0029 147.999V147.999C66.5181 146.741 69.5108 146.751 72.0289 148.003V148.003C74.5398 149.251 77.522 149.26 80.0284 148.003V148.003C82.5424 146.743 85.5043 146.742 88.019 148.001V148.001C90.5321 149.259 93.4913 149.259 96.0044 148.001L100 146\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 150L-24 152C-21.4819 153.259 -18.5181 153.259 -16 152V152C-13.482 150.741 -10.518 150.741 -7.99999 152V152C-5.48195 153.259 -2.51804 153.259 8.58307e-06 152V152C2.51805 150.741 5.48197 150.741 8.00001 152V152C10.518 153.259 13.482 153.259 16 152V152C18.5181 150.741 21.4951 150.748 24.0131 152.007V152.007C26.5181 153.259 29.4764 153.281 31.9943 152.055L32.3036 151.904C34.7646 150.706 37.6464 150.736 40.0813 151.987V151.987C42.5446 153.252 45.4634 153.268 47.9404 152.03L48.0271 151.986C50.5281 150.736 53.4854 150.743 55.9864 151.993V151.993C58.5045 153.252 61.4849 153.258 64.0029 151.999V151.999C66.5181 150.741 69.5108 150.751 72.0289 152.003V152.003C74.5398 153.251 77.522 153.26 80.0284 152.003V152.003C82.5424 150.743 85.5043 150.742 88.019 152.001V152.001C90.5321 153.259 93.4913 153.259 96.0044 152.001L100 150\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 154L-24 156C-21.4819 157.259 -18.5181 157.259 -16 156V156C-13.482 154.741 -10.518 154.741 -7.99999 156V156C-5.48195 157.259 -2.51804 157.259 8.58307e-06 156V156C2.51805 154.741 5.48197 154.741 8.00001 156V156C10.518 157.259 13.482 157.259 16 156V156C18.5181 154.741 21.4951 154.748 24.0131 156.007V156.007C26.5181 157.259 29.4764 157.281 31.9943 156.055L32.3036 155.904C34.7646 154.706 37.6464 154.736 40.0813 155.987V155.987C42.5446 157.252 45.4634 157.268 47.9404 156.03L48.0271 155.986C50.5281 154.736 53.4854 154.743 55.9864 155.993V155.993C58.5045 157.252 61.4849 157.258 64.0029 155.999V155.999C66.5181 154.741 69.5108 154.751 72.0289 156.003V156.003C74.5398 157.251 77.522 157.26 80.0284 156.003V156.003C82.5424 154.743 85.5043 154.742 88.019 156.001V156.001C90.5321 157.259 93.4913 157.259 96.0044 156.001L100 154\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 158L-24 160C-21.4819 161.259 -18.5181 161.259 -16 160V160C-13.482 158.741 -10.518 158.741 -7.99999 160V160C-5.48195 161.259 -2.51804 161.259 8.58307e-06 160V160C2.51805 158.741 5.48197 158.741 8.00001 160V160C10.518 161.259 13.482 161.259 16 160V160C18.5181 158.741 21.4951 158.748 24.0131 160.007V160.007C26.5181 161.259 29.4764 161.281 31.9943 160.055L32.3036 159.904C34.7646 158.706 37.6464 158.736 40.0813 159.987V159.987C42.5446 161.252 45.4634 161.268 47.9404 160.03L48.0271 159.986C50.5281 158.736 53.4854 158.743 55.9864 159.993V159.993C58.5045 161.252 61.4849 161.258 64.0029 159.999V159.999C66.5181 158.741 69.5108 158.751 72.0289 160.003V160.003C74.5398 161.251 77.522 161.26 80.0284 160.003V160.003C82.5424 158.743 85.5043 158.742 88.019 160.001V160.001C90.5321 161.259 93.4913 161.259 96.0044 160.001L100 158\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 162L-24 164C-21.4819 165.259 -18.5181 165.259 -16 164V164C-13.482 162.741 -10.518 162.741 -7.99999 164V164C-5.48195 165.259 -2.51804 165.259 8.58307e-06 164V164C2.51805 162.741 5.48197 162.741 8.00001 164V164C10.518 165.259 13.482 165.259 16 164V164C18.5181 162.741 21.4951 162.748 24.0131 164.007V164.007C26.5181 165.259 29.4764 165.281 31.9943 164.055L32.3036 163.904C34.7646 162.706 37.6464 162.736 40.0813 163.987V163.987C42.5446 165.252 45.4634 165.268 47.9404 164.03L48.0271 163.986C50.5281 162.736 53.4854 162.743 55.9864 163.993V163.993C58.5045 165.252 61.4849 165.258 64.0029 163.999V163.999C66.5181 162.741 69.5108 162.751 72.0289 164.003V164.003C74.5398 165.251 77.522 165.26 80.0284 164.003V164.003C82.5424 162.743 85.5043 162.742 88.019 164.001V164.001C90.5321 165.259 93.4913 165.259 96.0044 164.001L100 162\", stroke: \"#F7F8F8\", strokeOpacity: 0.16, strokeWidth: 0.8 })), /* @__PURE__ */ React.createElement(\"rect\", { x: 143.453, y: 24, width: 24, height: 24, rx: 4, transform: \"rotate(50.249 143.453 24)\", fill: \"#F7F8F8\", fillOpacity: 0.16 }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M181.914 0.208615C181.914 0.0934007 182.008 0 182.123 0H185.878C185.993 0 186.087 0.0933997 186.087 0.208614V6.81728L191.81 3.513C191.91 3.45539 192.037 3.48958 192.095 3.58936L193.972 6.84133C194.03 6.94111 193.996 7.06869 193.896 7.1263L188.172 10.4308L193.896 13.7351C193.995 13.7927 194.03 13.9203 193.972 14.0201L192.094 17.272C192.037 17.3718 191.909 17.406 191.81 17.3484L186.087 14.0443V20.6528C186.087 20.768 185.993 20.8614 185.878 20.8614H182.123C182.008 20.8614 181.914 20.768 181.914 20.6528V14.0439L176.191 17.3484C176.091 17.406 175.963 17.3718 175.906 17.272L174.028 14.0201C173.971 13.9203 174.005 13.7927 174.105 13.7351L179.828 10.4308L174.104 7.1263C174.005 7.06869 173.97 6.94111 174.028 6.84133L175.906 3.58936C175.963 3.48958 176.091 3.45539 176.19 3.513L181.914 6.8177V0.208615Z\", fill: \"#CABEFF\", fillOpacity: 0.16 }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M8 25C12.4183 25 16 21.4183 16 17C16 12.5817 12.4183 9 8 9C3.58172 9 0 12.5817 0 17C0 21.4183 3.58172 25 8 25ZM8 21C10.2091 21 12 19.2091 12 17C12 14.7909 10.2091 13 8 13C5.79086 13 4 14.7909 4 17C4 19.2091 5.79086 21 8 21Z\", fill: \"#F7F8F8\", fillOpacity: 0.16 }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M170 162C176.627 162 182 156.627 182 150C182 143.373 176.627 138 170 138C163.373 138 158 143.373 158 150C158 156.627 163.373 162 170 162ZM170 156C173.314 156 176 153.314 176 150C176 146.686 173.314 144 170 144C166.686 144 164 146.686 164 150C164 153.314 166.686 156 170 156Z\", fill: \"#ADAAB4\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M52.3049 25.602C51.2391 22.7131 53.7004 19.7538 56.7351 20.2753L61.2872 21.0576C64.3219 21.5791 65.6541 25.1902 63.6851 27.5576L60.7316 31.1087C58.7626 33.4761 54.9692 32.8242 53.9034 29.9353L52.3049 25.602Z\", fill: \"#F7F8F8\", fillOpacity: 0.12 }), /* @__PURE__ */ React.createElement(\"rect\", { x: 51, y: 192, width: 80, height: 4, rx: 2, fill: \"#CABEFF\", fillOpacity: 0.12 }), /* @__PURE__ */ React.createElement(\"rect\", { x: 143, y: 192, width: 19, height: 4, rx: 2, fill: \"#CABEFF\", fillOpacity: 0.12 }));\nexport default SvgEmptyStateDark;\n","import * as React from \"react\";\nconst SvgEmptyState = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 194, height: 196, viewBox: \"0 0 194 196\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"rect\", { x: 34, y: 46, width: 140, height: 108, rx: 12, fill: \"#C9C5D0\" }), /* @__PURE__ */ React.createElement(\"mask\", { id: \"mask0_1266_17177\", style: {\n  maskType: \"alpha\"\n}, maskUnits: \"userSpaceOnUse\", x: 34, y: 46, width: 140, height: 108 }, /* @__PURE__ */ React.createElement(\"rect\", { x: 34, y: 46, width: 140, height: 108, rx: 12, fill: \"#D5CFF1\" })), /* @__PURE__ */ React.createElement(\"g\", { mask: \"url(#mask0_1266_17177)\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M34 58C34 51.3726 39.3726 46 46 46H162C168.627 46 174 51.3726 174 58V62H34V58Z\", fill: \"#78767F\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M77.6858 96.6863C76.1237 98.2484 76.1237 100.781 77.6858 102.343L83.3433 108.001L77.6871 113.657C76.125 115.219 76.125 117.752 77.6871 119.314C79.2492 120.876 81.7819 120.876 83.344 119.314L89.0001 113.658L94.6564 119.314C96.2184 120.876 98.7511 120.876 100.313 119.314C101.875 117.752 101.875 115.219 100.313 113.657L94.657 108.001L100.315 102.343C101.877 100.781 101.877 98.2483 100.315 96.6862C98.7525 95.1241 96.2198 95.1241 94.6577 96.6862L89.0001 102.344L83.3426 96.6863C81.7805 95.1242 79.2479 95.1242 77.6858 96.6863Z\", fill: \"#947DFF\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M125.686 96.6863C124.124 98.2484 124.124 100.781 125.686 102.343L131.343 108.001L125.687 113.657C124.125 115.219 124.125 117.752 125.687 119.314C127.249 120.876 129.782 120.876 131.344 119.314L137 113.658L142.656 119.314C144.218 120.876 146.751 120.876 148.313 119.314C149.875 117.752 149.875 115.219 148.313 113.657L142.657 108.001L148.315 102.343C149.877 100.781 149.877 98.2483 148.315 96.6862C146.752 95.1241 144.22 95.1241 142.658 96.6862L137 102.344L131.343 96.6863C129.781 95.1242 127.248 95.1242 125.686 96.6863Z\", fill: \"#947DFF\" }), /* @__PURE__ */ React.createElement(\"circle\", { cx: 48, cy: 54, r: 2, fill: \"#78767F\" }), /* @__PURE__ */ React.createElement(\"circle\", { cx: 58, cy: 54, r: 2, fill: \"#C9C5D0\" }), /* @__PURE__ */ React.createElement(\"circle\", { cx: 68, cy: 54, r: 2, fill: \"#C9C5D0\" }), /* @__PURE__ */ React.createElement(\"rect\", { x: 50, y: 74, width: 64, height: 4, rx: 2, fill: \"#ADAAB4\" }), /* @__PURE__ */ React.createElement(\"rect\", { x: 50, y: 81, width: 14, height: 4, rx: 2, fill: \"#ADAAB4\" }), /* @__PURE__ */ React.createElement(\"rect\", { x: 148, y: 81, width: 10, height: 4, rx: 2, fill: \"#ADAAB4\" }), /* @__PURE__ */ React.createElement(\"rect\", { x: 68, y: 81, width: 74, height: 4, rx: 2, fill: \"#ADAAB4\" }), /* @__PURE__ */ React.createElement(\"rect\", { x: 122, y: 74, width: 10, height: 4, rx: 2, fill: \"#ADAAB4\" }), /* @__PURE__ */ React.createElement(\"rect\", { x: 135, y: 74, width: 23, height: 4, rx: 2, fill: \"#ADAAB4\" }), /* @__PURE__ */ React.createElement(\"mask\", { id: \"mask1_1266_17177\", style: {\n  maskType: \"alpha\"\n}, maskUnits: \"userSpaceOnUse\", x: 1, y: 66, width: 91, height: 98 }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M92 70.5V66H1.5V163.5H39C52.2548 163.5 63 152.755 63 139.5V99.5C63 91.4919 69.4919 85 77.5 85C85.5081 85 92 78.5081 92 70.5Z\", fill: \"white\" })), /* @__PURE__ */ React.createElement(\"g\", { mask: \"url(#mask1_1266_17177)\" }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 66L-24 68C-21.4819 69.2591 -18.5181 69.259 -16 68V68C-13.482 66.7409 -10.518 66.7409 -7.99999 68V68C-5.48195 69.259 -2.51804 69.259 8.58307e-06 68V68C2.51805 66.7409 5.48197 66.7409 8.00001 68V68C10.518 69.259 13.482 69.2591 16 68V68C18.5181 66.741 21.4951 66.7476 24.0131 68.0066V68.0066C26.5181 69.2591 29.4764 69.281 31.9943 68.0547L32.3036 67.9041C34.7646 66.7055 37.6464 66.7363 40.0813 67.987V67.987C42.5446 69.2524 45.4634 69.2683 47.9404 68.0298L48.0271 67.9865C50.5281 66.736 53.4854 66.7427 55.9864 67.9932V67.9932C58.5045 69.2522 61.4849 69.2576 64.0029 67.9986V67.9986C66.5181 66.741 69.5108 66.751 72.0289 68.0027V68.0027C74.5398 69.2509 77.522 69.2603 80.0284 68.0034V68.0034C82.5424 66.7427 85.5043 66.7416 88.019 68.0008V68.0008C90.5321 69.2591 93.4913 69.2591 96.0044 68.0008L100 66\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 70L-24 72C-21.4819 73.2591 -18.5181 73.259 -16 72V72C-13.482 70.7409 -10.518 70.7409 -7.99999 72V72C-5.48195 73.259 -2.51804 73.259 8.58307e-06 72V72C2.51805 70.7409 5.48197 70.7409 8.00001 72V72C10.518 73.259 13.482 73.2591 16 72V72C18.5181 70.741 21.4951 70.7476 24.0131 72.0066V72.0066C26.5181 73.2591 29.4764 73.281 31.9943 72.0547L32.3036 71.9041C34.7646 70.7055 37.6464 70.7363 40.0813 71.987V71.987C42.5446 73.2524 45.4634 73.2683 47.9404 72.0298L48.0271 71.9865C50.5281 70.736 53.4854 70.7427 55.9864 71.9932V71.9932C58.5045 73.2522 61.4849 73.2576 64.0029 71.9986V71.9986C66.5181 70.741 69.5108 70.751 72.0289 72.0027V72.0027C74.5398 73.2509 77.522 73.2603 80.0284 72.0034V72.0034C82.5424 70.7427 85.5043 70.7416 88.019 72.0008V72.0008C90.5321 73.2591 93.4913 73.2591 96.0044 72.0008L100 70\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 74L-24 76C-21.4819 77.2591 -18.5181 77.259 -16 76V76C-13.482 74.7409 -10.518 74.7409 -7.99999 76V76C-5.48195 77.259 -2.51804 77.259 8.58307e-06 76V76C2.51805 74.7409 5.48197 74.7409 8.00001 76V76C10.518 77.259 13.482 77.2591 16 76V76C18.5181 74.741 21.4951 74.7476 24.0131 76.0066V76.0066C26.5181 77.2591 29.4764 77.281 31.9943 76.0547L32.3036 75.9041C34.7646 74.7055 37.6464 74.7363 40.0813 75.987V75.987C42.5446 77.2524 45.4634 77.2683 47.9404 76.0298L48.0271 75.9865C50.5281 74.736 53.4854 74.7427 55.9864 75.9932V75.9932C58.5045 77.2522 61.4849 77.2576 64.0029 75.9986V75.9986C66.5181 74.741 69.5108 74.751 72.0289 76.0027V76.0027C74.5398 77.2509 77.522 77.2603 80.0284 76.0034V76.0034C82.5424 74.7427 85.5043 74.7416 88.019 76.0008V76.0008C90.5321 77.2591 93.4913 77.2591 96.0044 76.0008L100 74\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 78L-24 80C-21.4819 81.2591 -18.5181 81.259 -16 80V80C-13.482 78.7409 -10.518 78.7409 -7.99999 80V80C-5.48195 81.259 -2.51804 81.259 8.58307e-06 80V80C2.51805 78.7409 5.48197 78.7409 8.00001 80V80C10.518 81.259 13.482 81.2591 16 80V80C18.5181 78.741 21.4951 78.7476 24.0131 80.0066V80.0066C26.5181 81.2591 29.4764 81.281 31.9943 80.0547L32.3036 79.9041C34.7646 78.7055 37.6464 78.7363 40.0813 79.987V79.987C42.5446 81.2524 45.4634 81.2683 47.9404 80.0298L48.0271 79.9865C50.5281 78.736 53.4854 78.7427 55.9864 79.9932V79.9932C58.5045 81.2522 61.4849 81.2576 64.0029 79.9986V79.9986C66.5181 78.741 69.5108 78.751 72.0289 80.0027V80.0027C74.5398 81.2509 77.522 81.2603 80.0284 80.0034V80.0034C82.5424 78.7427 85.5043 78.7416 88.019 80.0008V80.0008C90.5321 81.2591 93.4913 81.2591 96.0044 80.0008L100 78\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 82L-24 84C-21.4819 85.2591 -18.5181 85.259 -16 84V84C-13.482 82.7409 -10.518 82.7409 -7.99999 84V84C-5.48195 85.259 -2.51804 85.259 8.58307e-06 84V84C2.51805 82.7409 5.48197 82.7409 8.00001 84V84C10.518 85.259 13.482 85.2591 16 84V84C18.5181 82.741 21.4951 82.7476 24.0131 84.0066V84.0066C26.5181 85.2591 29.4764 85.281 31.9943 84.0547L32.3036 83.9041C34.7646 82.7055 37.6464 82.7363 40.0813 83.987V83.987C42.5446 85.2524 45.4634 85.2683 47.9404 84.0298L48.0271 83.9865C50.5281 82.736 53.4854 82.7427 55.9864 83.9932V83.9932C58.5045 85.2522 61.4849 85.2576 64.0029 83.9986V83.9986C66.5181 82.741 69.5108 82.751 72.0289 84.0027V84.0027C74.5398 85.2509 77.522 85.2603 80.0284 84.0034V84.0034C82.5424 82.7427 85.5043 82.7416 88.019 84.0008V84.0008C90.5321 85.2591 93.4913 85.2591 96.0044 84.0008L100 82\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 86L-24 88C-21.4819 89.2591 -18.5181 89.259 -16 88V88C-13.482 86.7409 -10.518 86.7409 -7.99999 88V88C-5.48195 89.259 -2.51804 89.259 8.58307e-06 88V88C2.51805 86.7409 5.48197 86.7409 8.00001 88V88C10.518 89.259 13.482 89.2591 16 88V88C18.5181 86.741 21.4951 86.7476 24.0131 88.0066V88.0066C26.5181 89.2591 29.4764 89.281 31.9943 88.0547L32.3036 87.9041C34.7646 86.7055 37.6464 86.7363 40.0813 87.987V87.987C42.5446 89.2524 45.4634 89.2683 47.9404 88.0298L48.0271 87.9865C50.5281 86.736 53.4854 86.7427 55.9864 87.9932V87.9932C58.5045 89.2522 61.4849 89.2576 64.0029 87.9986V87.9986C66.5181 86.741 69.5108 86.751 72.0289 88.0027V88.0027C74.5398 89.2509 77.522 89.2603 80.0284 88.0034V88.0034C82.5424 86.7427 85.5043 86.7416 88.019 88.0008V88.0008C90.5321 89.2591 93.4913 89.2591 96.0044 88.0008L100 86\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 90L-24 92C-21.4819 93.2591 -18.5181 93.259 -16 92V92C-13.482 90.7409 -10.518 90.7409 -7.99999 92V92C-5.48195 93.259 -2.51804 93.259 8.58307e-06 92V92C2.51805 90.7409 5.48197 90.7409 8.00001 92V92C10.518 93.259 13.482 93.2591 16 92V92C18.5181 90.741 21.4951 90.7476 24.0131 92.0066V92.0066C26.5181 93.2591 29.4764 93.281 31.9943 92.0547L32.3036 91.9041C34.7646 90.7055 37.6464 90.7363 40.0813 91.987V91.987C42.5446 93.2524 45.4634 93.2683 47.9404 92.0298L48.0271 91.9865C50.5281 90.736 53.4854 90.7427 55.9864 91.9932V91.9932C58.5045 93.2522 61.4849 93.2576 64.0029 91.9986V91.9986C66.5181 90.741 69.5108 90.751 72.0289 92.0027V92.0027C74.5398 93.2509 77.522 93.2603 80.0284 92.0034V92.0034C82.5424 90.7427 85.5043 90.7416 88.019 92.0008V92.0008C90.5321 93.2591 93.4913 93.2591 96.0044 92.0008L100 90\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 94L-24 96C-21.4819 97.2591 -18.5181 97.259 -16 96V96C-13.482 94.7409 -10.518 94.7409 -7.99999 96V96C-5.48195 97.259 -2.51804 97.259 8.58307e-06 96V96C2.51805 94.7409 5.48197 94.7409 8.00001 96V96C10.518 97.259 13.482 97.2591 16 96V96C18.5181 94.741 21.4951 94.7476 24.0131 96.0066V96.0066C26.5181 97.2591 29.4764 97.281 31.9943 96.0547L32.3036 95.9041C34.7646 94.7055 37.6464 94.7363 40.0813 95.987V95.987C42.5446 97.2524 45.4634 97.2683 47.9404 96.0298L48.0271 95.9865C50.5281 94.736 53.4854 94.7427 55.9864 95.9932V95.9932C58.5045 97.2522 61.4849 97.2576 64.0029 95.9986V95.9986C66.5181 94.741 69.5108 94.751 72.0289 96.0027V96.0027C74.5398 97.2509 77.522 97.2603 80.0284 96.0034V96.0034C82.5424 94.7427 85.5043 94.7416 88.019 96.0008V96.0008C90.5321 97.2591 93.4913 97.2591 96.0044 96.0008L100 94\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 98L-24 100C-21.4819 101.259 -18.5181 101.259 -16 100V100C-13.482 98.7409 -10.518 98.7409 -7.99999 100V100C-5.48195 101.259 -2.51804 101.259 8.58307e-06 100V100C2.51805 98.7409 5.48197 98.7409 8.00001 100V100C10.518 101.259 13.482 101.259 16 100V100C18.5181 98.741 21.4951 98.7476 24.0131 100.007V100.007C26.5181 101.259 29.4764 101.281 31.9943 100.055L32.3036 99.9041C34.7646 98.7055 37.6464 98.7363 40.0813 99.987V99.987C42.5446 101.252 45.4634 101.268 47.9404 100.03L48.0271 99.9865C50.5281 98.736 53.4854 98.7427 55.9864 99.9932V99.9932C58.5045 101.252 61.4849 101.258 64.0029 99.9986V99.9986C66.5181 98.741 69.5108 98.751 72.0289 100.003V100.003C74.5398 101.251 77.522 101.26 80.0284 100.003V100.003C82.5424 98.7427 85.5043 98.7416 88.019 100.001V100.001C90.5321 101.259 93.4913 101.259 96.0044 100.001L100 98\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 102L-24 104C-21.4819 105.259 -18.5181 105.259 -16 104V104C-13.482 102.741 -10.518 102.741 -7.99999 104V104C-5.48195 105.259 -2.51804 105.259 8.58307e-06 104V104C2.51805 102.741 5.48197 102.741 8.00001 104V104C10.518 105.259 13.482 105.259 16 104V104C18.5181 102.741 21.4951 102.748 24.0131 104.007V104.007C26.5181 105.259 29.4764 105.281 31.9943 104.055L32.3036 103.904C34.7646 102.706 37.6464 102.736 40.0813 103.987V103.987C42.5446 105.252 45.4634 105.268 47.9404 104.03L48.0271 103.986C50.5281 102.736 53.4854 102.743 55.9864 103.993V103.993C58.5045 105.252 61.4849 105.258 64.0029 103.999V103.999C66.5181 102.741 69.5108 102.751 72.0289 104.003V104.003C74.5398 105.251 77.522 105.26 80.0284 104.003V104.003C82.5424 102.743 85.5043 102.742 88.019 104.001V104.001C90.5321 105.259 93.4913 105.259 96.0044 104.001L100 102\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 106L-24 108C-21.4819 109.259 -18.5181 109.259 -16 108V108C-13.482 106.741 -10.518 106.741 -7.99999 108V108C-5.48195 109.259 -2.51804 109.259 8.58307e-06 108V108C2.51805 106.741 5.48197 106.741 8.00001 108V108C10.518 109.259 13.482 109.259 16 108V108C18.5181 106.741 21.4951 106.748 24.0131 108.007V108.007C26.5181 109.259 29.4764 109.281 31.9943 108.055L32.3036 107.904C34.7646 106.706 37.6464 106.736 40.0813 107.987V107.987C42.5446 109.252 45.4634 109.268 47.9404 108.03L48.0271 107.986C50.5281 106.736 53.4854 106.743 55.9864 107.993V107.993C58.5045 109.252 61.4849 109.258 64.0029 107.999V107.999C66.5181 106.741 69.5108 106.751 72.0289 108.003V108.003C74.5398 109.251 77.522 109.26 80.0284 108.003V108.003C82.5424 106.743 85.5043 106.742 88.019 108.001V108.001C90.5321 109.259 93.4913 109.259 96.0044 108.001L100 106\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 110L-24 112C-21.4819 113.259 -18.5181 113.259 -16 112V112C-13.482 110.741 -10.518 110.741 -7.99999 112V112C-5.48195 113.259 -2.51804 113.259 8.58307e-06 112V112C2.51805 110.741 5.48197 110.741 8.00001 112V112C10.518 113.259 13.482 113.259 16 112V112C18.5181 110.741 21.4951 110.748 24.0131 112.007V112.007C26.5181 113.259 29.4764 113.281 31.9943 112.055L32.3036 111.904C34.7646 110.706 37.6464 110.736 40.0813 111.987V111.987C42.5446 113.252 45.4634 113.268 47.9404 112.03L48.0271 111.986C50.5281 110.736 53.4854 110.743 55.9864 111.993V111.993C58.5045 113.252 61.4849 113.258 64.0029 111.999V111.999C66.5181 110.741 69.5108 110.751 72.0289 112.003V112.003C74.5398 113.251 77.522 113.26 80.0284 112.003V112.003C82.5424 110.743 85.5043 110.742 88.019 112.001V112.001C90.5321 113.259 93.4913 113.259 96.0044 112.001L100 110\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 114L-24 116C-21.4819 117.259 -18.5181 117.259 -16 116V116C-13.482 114.741 -10.518 114.741 -7.99999 116V116C-5.48195 117.259 -2.51804 117.259 8.58307e-06 116V116C2.51805 114.741 5.48197 114.741 8.00001 116V116C10.518 117.259 13.482 117.259 16 116V116C18.5181 114.741 21.4951 114.748 24.0131 116.007V116.007C26.5181 117.259 29.4764 117.281 31.9943 116.055L32.3036 115.904C34.7646 114.706 37.6464 114.736 40.0813 115.987V115.987C42.5446 117.252 45.4634 117.268 47.9404 116.03L48.0271 115.986C50.5281 114.736 53.4854 114.743 55.9864 115.993V115.993C58.5045 117.252 61.4849 117.258 64.0029 115.999V115.999C66.5181 114.741 69.5108 114.751 72.0289 116.003V116.003C74.5398 117.251 77.522 117.26 80.0284 116.003V116.003C82.5424 114.743 85.5043 114.742 88.019 116.001V116.001C90.5321 117.259 93.4913 117.259 96.0044 116.001L100 114\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 118L-24 120C-21.4819 121.259 -18.5181 121.259 -16 120V120C-13.482 118.741 -10.518 118.741 -7.99999 120V120C-5.48195 121.259 -2.51804 121.259 8.58307e-06 120V120C2.51805 118.741 5.48197 118.741 8.00001 120V120C10.518 121.259 13.482 121.259 16 120V120C18.5181 118.741 21.4951 118.748 24.0131 120.007V120.007C26.5181 121.259 29.4764 121.281 31.9943 120.055L32.3036 119.904C34.7646 118.706 37.6464 118.736 40.0813 119.987V119.987C42.5446 121.252 45.4634 121.268 47.9404 120.03L48.0271 119.986C50.5281 118.736 53.4854 118.743 55.9864 119.993V119.993C58.5045 121.252 61.4849 121.258 64.0029 119.999V119.999C66.5181 118.741 69.5108 118.751 72.0289 120.003V120.003C74.5398 121.251 77.522 121.26 80.0284 120.003V120.003C82.5424 118.743 85.5043 118.742 88.019 120.001V120.001C90.5321 121.259 93.4913 121.259 96.0044 120.001L100 118\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 122L-24 124C-21.4819 125.259 -18.5181 125.259 -16 124V124C-13.482 122.741 -10.518 122.741 -7.99999 124V124C-5.48195 125.259 -2.51804 125.259 8.58307e-06 124V124C2.51805 122.741 5.48197 122.741 8.00001 124V124C10.518 125.259 13.482 125.259 16 124V124C18.5181 122.741 21.4951 122.748 24.0131 124.007V124.007C26.5181 125.259 29.4764 125.281 31.9943 124.055L32.3036 123.904C34.7646 122.706 37.6464 122.736 40.0813 123.987V123.987C42.5446 125.252 45.4634 125.268 47.9404 124.03L48.0271 123.986C50.5281 122.736 53.4854 122.743 55.9864 123.993V123.993C58.5045 125.252 61.4849 125.258 64.0029 123.999V123.999C66.5181 122.741 69.5108 122.751 72.0289 124.003V124.003C74.5398 125.251 77.522 125.26 80.0284 124.003V124.003C82.5424 122.743 85.5043 122.742 88.019 124.001V124.001C90.5321 125.259 93.4913 125.259 96.0044 124.001L100 122\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 126L-24 128C-21.4819 129.259 -18.5181 129.259 -16 128V128C-13.482 126.741 -10.518 126.741 -7.99999 128V128C-5.48195 129.259 -2.51804 129.259 8.58307e-06 128V128C2.51805 126.741 5.48197 126.741 8.00001 128V128C10.518 129.259 13.482 129.259 16 128V128C18.5181 126.741 21.4951 126.748 24.0131 128.007V128.007C26.5181 129.259 29.4764 129.281 31.9943 128.055L32.3036 127.904C34.7646 126.706 37.6464 126.736 40.0813 127.987V127.987C42.5446 129.252 45.4634 129.268 47.9404 128.03L48.0271 127.986C50.5281 126.736 53.4854 126.743 55.9864 127.993V127.993C58.5045 129.252 61.4849 129.258 64.0029 127.999V127.999C66.5181 126.741 69.5108 126.751 72.0289 128.003V128.003C74.5398 129.251 77.522 129.26 80.0284 128.003V128.003C82.5424 126.743 85.5043 126.742 88.019 128.001V128.001C90.5321 129.259 93.4913 129.259 96.0044 128.001L100 126\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 130L-24 132C-21.4819 133.259 -18.5181 133.259 -16 132V132C-13.482 130.741 -10.518 130.741 -7.99999 132V132C-5.48195 133.259 -2.51804 133.259 8.58307e-06 132V132C2.51805 130.741 5.48197 130.741 8.00001 132V132C10.518 133.259 13.482 133.259 16 132V132C18.5181 130.741 21.4951 130.748 24.0131 132.007V132.007C26.5181 133.259 29.4764 133.281 31.9943 132.055L32.3036 131.904C34.7646 130.706 37.6464 130.736 40.0813 131.987V131.987C42.5446 133.252 45.4634 133.268 47.9404 132.03L48.0271 131.986C50.5281 130.736 53.4854 130.743 55.9864 131.993V131.993C58.5045 133.252 61.4849 133.258 64.0029 131.999V131.999C66.5181 130.741 69.5108 130.751 72.0289 132.003V132.003C74.5398 133.251 77.522 133.26 80.0284 132.003V132.003C82.5424 130.743 85.5043 130.742 88.019 132.001V132.001C90.5321 133.259 93.4913 133.259 96.0044 132.001L100 130\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 134L-24 136C-21.4819 137.259 -18.5181 137.259 -16 136V136C-13.482 134.741 -10.518 134.741 -7.99999 136V136C-5.48195 137.259 -2.51804 137.259 8.58307e-06 136V136C2.51805 134.741 5.48197 134.741 8.00001 136V136C10.518 137.259 13.482 137.259 16 136V136C18.5181 134.741 21.4951 134.748 24.0131 136.007V136.007C26.5181 137.259 29.4764 137.281 31.9943 136.055L32.3036 135.904C34.7646 134.706 37.6464 134.736 40.0813 135.987V135.987C42.5446 137.252 45.4634 137.268 47.9404 136.03L48.0271 135.986C50.5281 134.736 53.4854 134.743 55.9864 135.993V135.993C58.5045 137.252 61.4849 137.258 64.0029 135.999V135.999C66.5181 134.741 69.5108 134.751 72.0289 136.003V136.003C74.5398 137.251 77.522 137.26 80.0284 136.003V136.003C82.5424 134.743 85.5043 134.742 88.019 136.001V136.001C90.5321 137.259 93.4913 137.259 96.0044 136.001L100 134\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 138L-24 140C-21.4819 141.259 -18.5181 141.259 -16 140V140C-13.482 138.741 -10.518 138.741 -7.99999 140V140C-5.48195 141.259 -2.51804 141.259 8.58307e-06 140V140C2.51805 138.741 5.48197 138.741 8.00001 140V140C10.518 141.259 13.482 141.259 16 140V140C18.5181 138.741 21.4951 138.748 24.0131 140.007V140.007C26.5181 141.259 29.4764 141.281 31.9943 140.055L32.3036 139.904C34.7646 138.706 37.6464 138.736 40.0813 139.987V139.987C42.5446 141.252 45.4634 141.268 47.9404 140.03L48.0271 139.986C50.5281 138.736 53.4854 138.743 55.9864 139.993V139.993C58.5045 141.252 61.4849 141.258 64.0029 139.999V139.999C66.5181 138.741 69.5108 138.751 72.0289 140.003V140.003C74.5398 141.251 77.522 141.26 80.0284 140.003V140.003C82.5424 138.743 85.5043 138.742 88.019 140.001V140.001C90.5321 141.259 93.4913 141.259 96.0044 140.001L100 138\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 142L-24 144C-21.4819 145.259 -18.5181 145.259 -16 144V144C-13.482 142.741 -10.518 142.741 -7.99999 144V144C-5.48195 145.259 -2.51804 145.259 8.58307e-06 144V144C2.51805 142.741 5.48197 142.741 8.00001 144V144C10.518 145.259 13.482 145.259 16 144V144C18.5181 142.741 21.4951 142.748 24.0131 144.007V144.007C26.5181 145.259 29.4764 145.281 31.9943 144.055L32.3036 143.904C34.7646 142.706 37.6464 142.736 40.0813 143.987V143.987C42.5446 145.252 45.4634 145.268 47.9404 144.03L48.0271 143.986C50.5281 142.736 53.4854 142.743 55.9864 143.993V143.993C58.5045 145.252 61.4849 145.258 64.0029 143.999V143.999C66.5181 142.741 69.5108 142.751 72.0289 144.003V144.003C74.5398 145.251 77.522 145.26 80.0284 144.003V144.003C82.5424 142.743 85.5043 142.742 88.019 144.001V144.001C90.5321 145.259 93.4913 145.259 96.0044 144.001L100 142\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 146L-24 148C-21.4819 149.259 -18.5181 149.259 -16 148V148C-13.482 146.741 -10.518 146.741 -7.99999 148V148C-5.48195 149.259 -2.51804 149.259 8.58307e-06 148V148C2.51805 146.741 5.48197 146.741 8.00001 148V148C10.518 149.259 13.482 149.259 16 148V148C18.5181 146.741 21.4951 146.748 24.0131 148.007V148.007C26.5181 149.259 29.4764 149.281 31.9943 148.055L32.3036 147.904C34.7646 146.706 37.6464 146.736 40.0813 147.987V147.987C42.5446 149.252 45.4634 149.268 47.9404 148.03L48.0271 147.986C50.5281 146.736 53.4854 146.743 55.9864 147.993V147.993C58.5045 149.252 61.4849 149.258 64.0029 147.999V147.999C66.5181 146.741 69.5108 146.751 72.0289 148.003V148.003C74.5398 149.251 77.522 149.26 80.0284 148.003V148.003C82.5424 146.743 85.5043 146.742 88.019 148.001V148.001C90.5321 149.259 93.4913 149.259 96.0044 148.001L100 146\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 150L-24 152C-21.4819 153.259 -18.5181 153.259 -16 152V152C-13.482 150.741 -10.518 150.741 -7.99999 152V152C-5.48195 153.259 -2.51804 153.259 8.58307e-06 152V152C2.51805 150.741 5.48197 150.741 8.00001 152V152C10.518 153.259 13.482 153.259 16 152V152C18.5181 150.741 21.4951 150.748 24.0131 152.007V152.007C26.5181 153.259 29.4764 153.281 31.9943 152.055L32.3036 151.904C34.7646 150.706 37.6464 150.736 40.0813 151.987V151.987C42.5446 153.252 45.4634 153.268 47.9404 152.03L48.0271 151.986C50.5281 150.736 53.4854 150.743 55.9864 151.993V151.993C58.5045 153.252 61.4849 153.258 64.0029 151.999V151.999C66.5181 150.741 69.5108 150.751 72.0289 152.003V152.003C74.5398 153.251 77.522 153.26 80.0284 152.003V152.003C82.5424 150.743 85.5043 150.742 88.019 152.001V152.001C90.5321 153.259 93.4913 153.259 96.0044 152.001L100 150\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 154L-24 156C-21.4819 157.259 -18.5181 157.259 -16 156V156C-13.482 154.741 -10.518 154.741 -7.99999 156V156C-5.48195 157.259 -2.51804 157.259 8.58307e-06 156V156C2.51805 154.741 5.48197 154.741 8.00001 156V156C10.518 157.259 13.482 157.259 16 156V156C18.5181 154.741 21.4951 154.748 24.0131 156.007V156.007C26.5181 157.259 29.4764 157.281 31.9943 156.055L32.3036 155.904C34.7646 154.706 37.6464 154.736 40.0813 155.987V155.987C42.5446 157.252 45.4634 157.268 47.9404 156.03L48.0271 155.986C50.5281 154.736 53.4854 154.743 55.9864 155.993V155.993C58.5045 157.252 61.4849 157.258 64.0029 155.999V155.999C66.5181 154.741 69.5108 154.751 72.0289 156.003V156.003C74.5398 157.251 77.522 157.26 80.0284 156.003V156.003C82.5424 154.743 85.5043 154.742 88.019 156.001V156.001C90.5321 157.259 93.4913 157.259 96.0044 156.001L100 154\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 158L-24 160C-21.4819 161.259 -18.5181 161.259 -16 160V160C-13.482 158.741 -10.518 158.741 -7.99999 160V160C-5.48195 161.259 -2.51804 161.259 8.58307e-06 160V160C2.51805 158.741 5.48197 158.741 8.00001 160V160C10.518 161.259 13.482 161.259 16 160V160C18.5181 158.741 21.4951 158.748 24.0131 160.007V160.007C26.5181 161.259 29.4764 161.281 31.9943 160.055L32.3036 159.904C34.7646 158.706 37.6464 158.736 40.0813 159.987V159.987C42.5446 161.252 45.4634 161.268 47.9404 160.03L48.0271 159.986C50.5281 158.736 53.4854 158.743 55.9864 159.993V159.993C58.5045 161.252 61.4849 161.258 64.0029 159.999V159.999C66.5181 158.741 69.5108 158.751 72.0289 160.003V160.003C74.5398 161.251 77.522 161.26 80.0284 160.003V160.003C82.5424 158.743 85.5043 158.742 88.019 160.001V160.001C90.5321 161.259 93.4913 161.259 96.0044 160.001L100 158\", stroke: \"#C9C5D0\", strokeWidth: 0.8 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M-28 162L-24 164C-21.4819 165.259 -18.5181 165.259 -16 164V164C-13.482 162.741 -10.518 162.741 -7.99999 164V164C-5.48195 165.259 -2.51804 165.259 8.58307e-06 164V164C2.51805 162.741 5.48197 162.741 8.00001 164V164C10.518 165.259 13.482 165.259 16 164V164C18.5181 162.741 21.4951 162.748 24.0131 164.007V164.007C26.5181 165.259 29.4764 165.281 31.9943 164.055L32.3036 163.904C34.7646 162.706 37.6464 162.736 40.0813 163.987V163.987C42.5446 165.252 45.4634 165.268 47.9404 164.03L48.0271 163.986C50.5281 162.736 53.4854 162.743 55.9864 163.993V163.993C58.5045 165.252 61.4849 165.258 64.0029 163.999V163.999C66.5181 162.741 69.5108 162.751 72.0289 164.003V164.003C74.5398 165.251 77.522 165.26 80.0284 164.003V164.003C82.5424 162.743 85.5043 162.742 88.019 164.001V164.001C90.5321 165.259 93.4913 165.259 96.0044 164.001L100 162\", stroke: \"#C9C5D0\", strokeWidth: 0.8 })), /* @__PURE__ */ React.createElement(\"g\", { style: {\n  mixBlendMode: \"multiply\"\n} }, /* @__PURE__ */ React.createElement(\"rect\", { x: 143.453, y: 24, width: 24, height: 24, rx: 6, transform: \"rotate(50.249 143.453 24)\", fill: \"#C9C5D0\" })), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M181.914 0.208615C181.914 0.0934007 182.008 0 182.123 0H185.878C185.993 0 186.087 0.0933997 186.087 0.208614V6.81728L191.81 3.513C191.91 3.45539 192.037 3.48958 192.095 3.58936L193.972 6.84133C194.03 6.94111 193.996 7.06869 193.896 7.1263L188.172 10.4308L193.896 13.7351C193.995 13.7927 194.03 13.9203 193.972 14.0201L192.094 17.272C192.037 17.3718 191.909 17.406 191.81 17.3484L186.087 14.0443V20.6528C186.087 20.768 185.993 20.8614 185.878 20.8614H182.123C182.008 20.8614 181.914 20.768 181.914 20.6528V14.0439L176.191 17.3484C176.091 17.406 175.963 17.3718 175.906 17.272L174.028 14.0201C173.971 13.9203 174.005 13.7927 174.105 13.7351L179.828 10.4308L174.104 7.1263C174.005 7.06869 173.97 6.94111 174.028 6.84133L175.906 3.58936C175.963 3.48958 176.091 3.45539 176.19 3.513L181.914 6.8177V0.208615Z\", fill: \"#E5E1EC\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M8 25C12.4183 25 16 21.4183 16 17C16 12.5817 12.4183 9 8 9C3.58172 9 0 12.5817 0 17C0 21.4183 3.58172 25 8 25ZM8 21C10.2091 21 12 19.2091 12 17C12 14.7909 10.2091 13 8 13C5.79086 13 4 14.7909 4 17C4 19.2091 5.79086 21 8 21Z\", fill: \"#F3EFFA\" }), /* @__PURE__ */ React.createElement(\"g\", { style: {\n  mixBlendMode: \"multiply\"\n} }, /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M170 162C176.627 162 182 156.627 182 150C182 143.373 176.627 138 170 138C163.373 138 158 143.373 158 150C158 156.627 163.373 162 170 162ZM170 156C173.314 156 176 153.314 176 150C176 146.686 173.314 144 170 144C166.686 144 164 146.686 164 150C164 153.314 166.686 156 170 156Z\", fill: \"#E5E1EC\" })), /* @__PURE__ */ React.createElement(\"path\", { d: \"M52.3049 25.602C51.2391 22.7131 53.7004 19.7538 56.7351 20.2753L61.2872 21.0576C64.3219 21.5791 65.6541 25.1902 63.6851 27.5576L60.7316 31.1087C58.7626 33.4761 54.9692 32.8242 53.9034 29.9353L52.3049 25.602Z\", fill: \"#F3EFFA\" }), /* @__PURE__ */ React.createElement(\"rect\", { x: 51, y: 192, width: 80, height: 4, rx: 2, fill: \"#C9C5D0\" }), /* @__PURE__ */ React.createElement(\"rect\", { x: 143, y: 192, width: 19, height: 4, rx: 2, fill: \"#C9C5D0\" }));\nexport default SvgEmptyState;\n","import { useContext } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport TextLink from '@/components/TextLink';\n\nimport styles from './index.module.scss';\n\nconst TextLinkComponent = ({ href, text }: { readonly href: string; readonly text: string }) => (\n  <TextLink href={href}>{text}</TextLink>\n);\n\nconst SupportInfo = () => {\n  const { experienceSettings } = useContext(PageContext);\n  const { t } = useTranslation();\n\n  if (!experienceSettings?.supportEmail && !experienceSettings?.supportWebsiteUrl) {\n    return null;\n  }\n\n  const { supportEmail, supportWebsiteUrl } = experienceSettings;\n\n  return (\n    <div className={styles.support}>\n      {supportEmail && (\n        <div className={styles.message}>\n          <Trans\n            components={{\n              link: <TextLinkComponent href={`mailto:${supportEmail}`} text={supportEmail} />,\n            }}\n          >\n            {t('description.support_email')}\n          </Trans>\n        </div>\n      )}\n      {supportWebsiteUrl && (\n        <div className={styles.message}>\n          <Trans\n            components={{\n              link: <TextLinkComponent href={supportWebsiteUrl} text={supportWebsiteUrl} />,\n            }}\n          >\n            {t('description.support_website')}\n          </Trans>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SupportInfo;\n","import { Theme } from '@logto/schemas';\nimport type { TFuncKey } from 'i18next';\nimport { useContext } from 'react';\n\nimport StaticPageLayout from '@/Layout/StaticPageLayout';\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport EmptyStateDark from '@/assets/icons/empty-state-dark.svg?react';\nimport EmptyState from '@/assets/icons/empty-state.svg?react';\nimport DynamicT from '@/components/DynamicT';\nimport NavBar from '@/components/NavBar';\nimport PageMeta from '@/components/PageMeta';\n\nimport SupportInfo from './SupportInfo';\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly title?: TFuncKey;\n  readonly message?: TFuncKey;\n  readonly rawMessage?: string;\n  readonly isNavbarHidden?: boolean;\n};\n\nconst ErrorPage = ({\n  title = 'description.not_found',\n  message,\n  rawMessage,\n  isNavbarHidden,\n}: Props) => {\n  const { theme } = useContext(PageContext);\n  const errorMessage = Boolean(rawMessage ?? message);\n\n  return (\n    <StaticPageLayout>\n      <PageMeta titleKey={title} />\n      {history.length > 1 && <NavBar isHidden={isNavbarHidden} />}\n      <div className={styles.container}>\n        {theme === Theme.Light ? <EmptyState /> : <EmptyStateDark />}\n        <div className={styles.title}>\n          <DynamicT forKey={title} />\n        </div>\n        {errorMessage && (\n          <div className={styles.message}>{rawMessage ?? <DynamicT forKey={message} />}</div>\n        )}\n        <SupportInfo />\n      </div>\n    </StaticPageLayout>\n  );\n};\n\nexport default ErrorPage;\n","import * as React from \"react\";\nconst SvgInfoIcon = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 20, height: 20, viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M9.99984 1.66675C8.35166 1.66675 6.7405 2.15549 5.37009 3.07117C3.99968 3.98685 2.93158 5.28834 2.30084 6.81105C1.67011 8.33377 1.50509 10.0093 1.82663 11.6258C2.14817 13.2423 2.94185 14.7272 4.10728 15.8926C5.27272 17.0581 6.75758 17.8517 8.37409 18.1733C9.9906 18.4948 11.6662 18.3298 13.1889 17.6991C14.7116 17.0683 16.0131 16.0002 16.9288 14.6298C17.8444 13.2594 18.3332 11.6483 18.3332 10.0001C18.3332 8.90573 18.1176 7.8221 17.6988 6.81105C17.28 5.80001 16.6662 4.88135 15.8924 4.10752C15.1186 3.3337 14.1999 2.71987 13.1889 2.30109C12.1778 1.8823 11.0942 1.66675 9.99984 1.66675Z\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M9.41081 9.41066C9.56709 9.25438 9.77906 9.16658 10.0001 9.16658C10.2211 9.16658 10.433 9.25438 10.5893 9.41066C10.7456 9.56694 10.8334 9.7789 10.8334 9.99991V13.3332C10.8334 13.5543 10.7456 13.7662 10.5893 13.9225C10.433 14.0788 10.2211 14.1666 10.0001 14.1666C9.77906 14.1666 9.56709 14.0788 9.41081 13.9225C9.25453 13.7662 9.16674 13.5543 9.16674 13.3332V9.99991C9.16674 9.7789 9.25453 9.56694 9.41081 9.41066Z\", fill: \"white\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M9.6834 5.89991C9.88629 5.81657 10.1139 5.81657 10.3167 5.89991C10.419 5.93958 10.5125 5.99905 10.5917 6.07491C10.744 6.23461 10.8303 6.44594 10.8334 6.66658C10.8327 6.80307 10.7985 6.9373 10.7338 7.05747C10.6691 7.17765 10.5759 7.28009 10.4623 7.3558C10.3488 7.43151 10.2183 7.47817 10.0825 7.49167C9.94671 7.50518 9.80965 7.48511 9.6834 7.43325C9.58242 7.39105 9.4894 7.33186 9.4084 7.25825C9.33117 7.18038 9.27006 7.08803 9.22859 6.9865C9.18712 6.88497 9.1661 6.77625 9.16674 6.66658C9.16392 6.55727 9.18675 6.44881 9.2334 6.34991C9.2756 6.24893 9.33479 6.15591 9.4084 6.07491C9.48766 5.99905 9.58111 5.93958 9.6834 5.89991Z\", fill: \"white\" }));\nexport default SvgInfoIcon;\n","import classNames from 'classnames';\nimport type { CSSProperties, ForwardedRef, ReactNode } from 'react';\nimport { forwardRef } from 'react';\n\nimport InfoIcon from '@/assets/icons/info-icon.svg?react';\nimport TextLink from '@/components/TextLink';\n\nimport styles from './index.module.scss';\n\n/* eslint-disable react/require-default-props */\ntype Props = {\n  readonly className?: string;\n  readonly message: ReactNode;\n  readonly onClose: () => void;\n  readonly style?: CSSProperties;\n};\n/* eslint-enable react/require-default-props */\n\nconst AppNotification = forwardRef(\n  ({ className, message, style, onClose }: Props, ref: ForwardedRef<HTMLDivElement>) => {\n    return (\n      <div ref={ref} className={classNames(styles.notification, className)} style={style}>\n        <InfoIcon className={styles.icon} />\n        <div className={styles.message}>{message}</div>\n        <TextLink text=\"action.got_it\" className={styles.link} onClick={onClose} />\n      </div>\n    );\n  }\n);\n\nexport default AppNotification;\n","import classNames from 'classnames';\nimport type { TFuncKey } from 'i18next';\n\nimport DynamicT from '@/components/DynamicT';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly className?: string;\n  readonly message: TFuncKey;\n};\n\nconst InlineNotification = ({ className, message }: Props) => {\n  return (\n    <div className={classNames(styles.notification, className)}>\n      <DynamicT forKey={message} />\n    </div>\n  );\n};\n\nexport default InlineNotification;\n","import type { TFuncKey } from 'i18next';\nimport { type ReactElement } from 'react';\n\nimport DynamicT from '@/components/DynamicT';\nimport NavBar from '@/components/NavBar';\nimport PageMeta from '@/components/PageMeta';\nimport usePlatform from '@/hooks/use-platform';\n\nimport { InlineNotification } from '../../components/Notification';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly title: TFuncKey;\n  readonly description?: TFuncKey | ReactElement | '';\n  readonly titleProps?: Record<string, unknown>;\n  readonly descriptionProps?: Record<string, unknown>;\n  readonly notification?: TFuncKey;\n  readonly onSkip?: () => void;\n  readonly isNavBarHidden?: boolean;\n  readonly children: React.ReactNode;\n};\n\nconst SecondaryPageLayout = ({\n  title,\n  description,\n  titleProps,\n  descriptionProps,\n  notification,\n  onSkip,\n  isNavBarHidden,\n  children,\n}: Props) => {\n  const { isMobile } = usePlatform();\n\n  return (\n    <div className={styles.wrapper}>\n      <PageMeta titleKey={title} />\n      <NavBar isHidden={isNavBarHidden} onSkip={onSkip} />\n      {isMobile && notification && (\n        <InlineNotification message={notification} className={styles.notification} />\n      )}\n      <div className={styles.container}>\n        <div className={styles.header}>\n          <div className={styles.title}>\n            <DynamicT forKey={title} interpolation={titleProps} />\n          </div>\n          {description && (\n            <div className={styles.description}>\n              {typeof description === 'string' ? (\n                <DynamicT forKey={description} interpolation={descriptionProps} />\n              ) : (\n                description\n              )}\n            </div>\n          )}\n        </div>\n        {children}\n      </div>\n      {!isMobile && notification && (\n        <InlineNotification message={notification} className={styles.notification} />\n      )}\n    </div>\n  );\n};\n\nexport default SecondaryPageLayout;\n","export const prefix = '/api/experience';\n\nexport const experienceApiRoutes = Object.freeze({\n  prefix,\n  identification: `${prefix}/identification`,\n  submit: `${prefix}/submit`,\n  verification: `${prefix}/verification`,\n  profile: `${prefix}/profile`,\n  mfa: `${prefix}/profile/mfa`,\n});\n\nexport type VerificationResponse = {\n  verificationId: string;\n};\n","import {\n  type InteractionEvent,\n  type IdentificationApiPayload,\n  type UpdateProfileApiPayload,\n} from '@logto/schemas';\n\nimport api from '../api';\n\nimport { experienceApiRoutes } from './const';\n\ntype SubmitInteractionResponse = {\n  redirectTo: string;\n};\n\nexport const initInteraction = async (interactionEvent: InteractionEvent, captchaToken?: string) =>\n  api.put(`${experienceApiRoutes.prefix}`, {\n    json: {\n      interactionEvent,\n      captchaToken,\n    },\n  });\n\nexport const identifyUser = async (payload: IdentificationApiPayload = {}) =>\n  api.post(experienceApiRoutes.identification, { json: payload });\n\nexport const submitInteraction = async () =>\n  api.post(`${experienceApiRoutes.submit}`).json<SubmitInteractionResponse>();\n\nexport const updateProfile = async (payload: UpdateProfileApiPayload) =>\n  api.post(experienceApiRoutes.profile, { json: payload });\n\nexport const updateInteractionEvent = async (interactionEvent: InteractionEvent) =>\n  api.put(`${experienceApiRoutes.prefix}/interaction-event`, {\n    json: {\n      interactionEvent,\n    },\n  });\n\nexport const identifyAndSubmitInteraction = async (payload?: IdentificationApiPayload) => {\n  await identifyUser(payload);\n  return submitInteraction();\n};\n","import {\n  MfaFactor,\n  type WebAuthnRegistrationOptions,\n  type WebAuthnAuthenticationOptions,\n  type BindMfaPayload,\n  type VerifyMfaPayload,\n} from '@logto/schemas';\n\nimport api from '../api';\n\nimport { experienceApiRoutes } from './const';\nimport { submitInteraction } from './interaction';\n\nconst addMfa = async (type: MfaFactor, verificationId: string) =>\n  api.post(`${experienceApiRoutes.mfa}`, {\n    json: {\n      type,\n      verificationId,\n    },\n  });\n\ntype TotpSecretResponse = {\n  verificationId: string;\n  secret: string;\n  secretQrCode: string;\n};\nexport const createTotpSecret = async () =>\n  api.post(`${experienceApiRoutes.verification}/totp/secret`).json<TotpSecretResponse>();\n\nexport const createWebAuthnRegistration = async () => {\n  const { verificationId, registrationOptions } = await api\n    .post(`${experienceApiRoutes.verification}/web-authn/registration`)\n    .json<{ verificationId: string; registrationOptions: WebAuthnRegistrationOptions }>();\n\n  return {\n    verificationId,\n    options: registrationOptions,\n  };\n};\n\nexport const createWebAuthnAuthentication = async () => {\n  const { verificationId, authenticationOptions } = await api\n    .post(`${experienceApiRoutes.verification}/web-authn/authentication`)\n    .json<{ verificationId: string; authenticationOptions: WebAuthnAuthenticationOptions }>();\n\n  return {\n    verificationId,\n    options: authenticationOptions,\n  };\n};\n\nexport const createBackupCode = async () =>\n  api.post(`${experienceApiRoutes.verification}/backup-code/generate`).json<{\n    verificationId: string;\n    codes: string[];\n  }>();\n\nexport const skipMfa = async () => {\n  await api.post(`${experienceApiRoutes.mfa}/mfa-skipped`);\n  return submitInteraction();\n};\n\nexport const bindMfa = async (payload: BindMfaPayload, verificationId: string) => {\n  switch (payload.type) {\n    case MfaFactor.TOTP: {\n      const { code } = payload;\n      await api.post(`${experienceApiRoutes.verification}/totp/verify`, {\n        json: {\n          code,\n          verificationId,\n        },\n      });\n      break;\n    }\n    case MfaFactor.WebAuthn: {\n      await api.post(`${experienceApiRoutes.verification}/web-authn/registration/verify`, {\n        json: {\n          verificationId,\n          payload,\n        },\n      });\n      break;\n    }\n    case MfaFactor.BackupCode: {\n      // No need to verify backup codes\n      break;\n    }\n  }\n\n  await addMfa(payload.type, verificationId);\n  return submitInteraction();\n};\n\nexport const verifyMfa = async (payload: VerifyMfaPayload, verificationId?: string) => {\n  switch (payload.type) {\n    case MfaFactor.TOTP: {\n      const { code } = payload;\n      await api.post(`${experienceApiRoutes.verification}/totp/verify`, {\n        json: {\n          code,\n        },\n      });\n      break;\n    }\n    case MfaFactor.WebAuthn: {\n      await api.post(`${experienceApiRoutes.verification}/web-authn/authentication/verify`, {\n        json: {\n          verificationId,\n          payload,\n        },\n      });\n      break;\n    }\n    case MfaFactor.BackupCode: {\n      const { code } = payload;\n      await api.post(`${experienceApiRoutes.verification}/backup-code/verify`, {\n        json: {\n          code,\n        },\n      });\n      break;\n    }\n  }\n\n  return submitInteraction();\n};\n","import { InteractionEvent, type SocialVerificationCallbackPayload } from '@logto/schemas';\n\nimport api from '../api';\n\nimport { experienceApiRoutes, type VerificationResponse } from './const';\nimport {\n  identifyAndSubmitInteraction,\n  initInteraction,\n  updateInteractionEvent,\n  identifyUser,\n  submitInteraction,\n  updateProfile,\n} from './interaction';\n\nexport const getSocialAuthorizationUrl = async (\n  connectorId: string,\n  state: string,\n  redirectUri: string\n) => {\n  await initInteraction(InteractionEvent.SignIn);\n\n  return api\n    .post(`${experienceApiRoutes.verification}/social/${connectorId}/authorization-uri`, {\n      json: {\n        state,\n        redirectUri,\n      },\n    })\n    .json<\n      VerificationResponse & {\n        authorizationUri: string;\n      }\n    >();\n};\n\nexport const verifySocialVerification = async (\n  connectorId: string,\n  payload: SocialVerificationCallbackPayload\n) =>\n  api\n    .post(`${experienceApiRoutes.verification}/social/${connectorId}/verify`, {\n      json: payload,\n    })\n    .json<VerificationResponse>();\n\nexport const bindSocialRelatedUser = async (verificationId: string) => {\n  await updateInteractionEvent(InteractionEvent.SignIn);\n  await identifyUser({ verificationId, linkSocialIdentity: true });\n  return submitInteraction();\n};\n\nexport const getSsoConnectors = async (email: string) =>\n  api\n    .get(`${experienceApiRoutes.prefix}/sso-connectors`, {\n      searchParams: {\n        email,\n      },\n    })\n    .json<{ connectorIds: string[] }>();\n\nexport const getSsoAuthorizationUrl = async (connectorId: string, payload: unknown) => {\n  await initInteraction(InteractionEvent.SignIn);\n\n  return api\n    .post(`${experienceApiRoutes.verification}/sso/${connectorId}/authorization-uri`, {\n      json: payload,\n    })\n    .json<\n      VerificationResponse & {\n        authorizationUri: string;\n      }\n    >();\n};\n\nexport const signInWithSso = async (\n  connectorId: string,\n  payload: SocialVerificationCallbackPayload & { verificationId: string }\n) => {\n  await api.post(`${experienceApiRoutes.verification}/sso/${connectorId}/verify`, {\n    json: payload,\n  });\n\n  return identifyAndSubmitInteraction({ verificationId: payload.verificationId });\n};\n\nexport const signInAndLinkWithSocial = async (\n  verificationId: string,\n  socialVerificationid: string\n) => {\n  await updateInteractionEvent(InteractionEvent.SignIn);\n  await identifyUser({ verificationId });\n  await updateProfile({ type: 'social', verificationId: socialVerificationid });\n  return submitInteraction();\n};\n","import { InteractionEvent, type OneTimeTokenVerificationVerifyPayload } from '@logto/schemas';\n\nimport api from '../api';\n\nimport { experienceApiRoutes, type VerificationResponse } from './const';\nimport { initInteraction } from './interaction';\n\nexport const registerWithOneTimeToken = async (payload: OneTimeTokenVerificationVerifyPayload) => {\n  await initInteraction(InteractionEvent.Register);\n\n  return api\n    .post(`${experienceApiRoutes.verification}/one-time-token/verify`, {\n      json: payload,\n    })\n    .json<VerificationResponse>();\n};\n","import {\n  InteractionEvent,\n  type PasswordVerificationPayload,\n  SignInIdentifier,\n  type VerificationCodeIdentifier,\n} from '@logto/schemas';\n\nimport { type ContinueFlowInteractionEvent } from '@/types';\n\nimport api from '../api';\n\nimport { experienceApiRoutes, type VerificationResponse } from './const';\nimport {\n  initInteraction,\n  identifyUser,\n  submitInteraction,\n  updateInteractionEvent,\n  updateProfile,\n  identifyAndSubmitInteraction,\n} from './interaction';\n\nexport {\n  initInteraction,\n  submitInteraction,\n  identifyUser,\n  identifyAndSubmitInteraction,\n} from './interaction';\n\nexport * from './mfa';\nexport * from './social';\nexport * from './one-time-token';\n\n/**\n * For sign-in flow user identity not found error handling use.\n *\n * If the identity is not found, but the verification record is verified,\n * allow the user registration with the verified identifier.\n *\n * Supported verification types:\n * - email verification code\n * - phone number verification code\n * - social sign-in\n * - SSO sign-in\n */\nexport const registerWithVerifiedIdentifier = async (verificationId: string) => {\n  await updateInteractionEvent(InteractionEvent.Register);\n  return identifyAndSubmitInteraction({ verificationId });\n};\n\n/**\n * For sign-up flow user identifier already exists error handling user.\n *\n * If the identifier has been registered by an existing user,\n * allow the user to sign-in with the verified identifier directly.\n *\n * Supported verification types:\n * - email verification code\n * - phone number verification code\n */\nexport const signInWithVerifiedIdentifier = async (verificationId: string) => {\n  await updateInteractionEvent(InteractionEvent.SignIn);\n  return identifyAndSubmitInteraction({ verificationId });\n};\n\n// Password APIs\nexport const signInWithPasswordIdentifier = async (\n  payload: PasswordVerificationPayload,\n  captchaToken?: string\n) => {\n  await initInteraction(InteractionEvent.SignIn, captchaToken);\n\n  const { verificationId } = await api\n    .post(`${experienceApiRoutes.verification}/password`, {\n      json: payload,\n    })\n    .json<VerificationResponse>();\n\n  return identifyAndSubmitInteraction({ verificationId });\n};\n\nexport const registerWithUsername = async (username: string, captchaToken?: string) => {\n  await initInteraction(InteractionEvent.Register, captchaToken);\n\n  return updateProfile({ type: SignInIdentifier.Username, value: username });\n};\n\nexport const continueRegisterWithPassword = async (password: string) => {\n  await updateProfile({ type: 'password', value: password });\n\n  return identifyAndSubmitInteraction();\n};\n\n// Verification code APIs\ntype VerificationCodePayload = {\n  identifier: VerificationCodeIdentifier;\n  code: string;\n  verificationId: string;\n};\n\nexport const sendVerificationCode = async (\n  interactionEvent: InteractionEvent,\n  identifier: VerificationCodeIdentifier\n) =>\n  api\n    .post(`${experienceApiRoutes.verification}/verification-code`, {\n      json: {\n        interactionEvent,\n        identifier,\n      },\n    })\n    .json<VerificationResponse>();\n\nconst verifyVerificationCode = async (json: VerificationCodePayload) =>\n  api\n    .post(`${experienceApiRoutes.verification}/verification-code/verify`, {\n      json,\n    })\n    .json<VerificationResponse>();\n\nexport const identifyWithVerificationCode = async (json: VerificationCodePayload) => {\n  const { verificationId } = await verifyVerificationCode(json);\n  return identifyAndSubmitInteraction({ verificationId });\n};\n\n// Profile APIs\n\nexport const updateProfileWithVerificationCode = async (\n  json: VerificationCodePayload,\n  interactionEvent?: ContinueFlowInteractionEvent\n) => {\n  const { verificationId } = await verifyVerificationCode(json);\n\n  const {\n    identifier: { type },\n  } = json;\n\n  await updateProfile({\n    type,\n    verificationId,\n  });\n\n  if (interactionEvent === InteractionEvent.Register) {\n    await identifyUser();\n  }\n\n  return submitInteraction();\n};\n\ntype UpdateProfilePayload = {\n  type: SignInIdentifier.Username | 'password';\n  value: string;\n};\n\nexport const fulfillProfile = async (\n  payload: UpdateProfilePayload,\n  interactionEvent: ContinueFlowInteractionEvent\n) => {\n  await updateProfile(payload);\n\n  if (interactionEvent === InteractionEvent.Register) {\n    await identifyUser();\n  }\n\n  return submitInteraction();\n};\n\nexport const resetPassword = async (password: string) => {\n  await api.put(`${experienceApiRoutes.profile}/password`, {\n    json: {\n      password,\n    },\n  });\n\n  return submitInteraction();\n};\n","import { InteractionEvent, type VerificationCodeIdentifier } from '@logto/schemas';\nimport { validate } from 'superstruct';\n\nimport { type ContinueFlowInteractionEvent, UserFlow } from '@/types';\nimport { continueFlowStateGuard } from '@/types/guard';\n\nimport { initInteraction, sendVerificationCode } from './experience';\n\n// Consider deprecate this, remove the `UserFlow.Continue` case\n// Align the flow definition with the interaction event\nexport const userFlowToInteractionEventMap = Object.freeze({\n  [UserFlow.SignIn]: InteractionEvent.SignIn,\n  [UserFlow.Register]: InteractionEvent.Register,\n  [UserFlow.ForgotPassword]: InteractionEvent.ForgotPassword,\n});\n\n/**\n * This method is used to get the interaction event from the location state\n * For continue flow, the interaction event is stored in the location state,\n * we need to retrieve it from the state in order to send the verification code with the correct interaction event template\n */\nexport const getInteractionEventFromState = (state: unknown) => {\n  if (!state) {\n    return;\n  }\n\n  const [, continueFlowState] = validate(state, continueFlowStateGuard);\n\n  return continueFlowState?.interactionEvent;\n};\n\nexport const sendVerificationCodeApi = async (\n  flow: UserFlow,\n  identifier: VerificationCodeIdentifier,\n  interactionEvent?: ContinueFlowInteractionEvent,\n  captchaToken?: string\n) => {\n  if (flow === UserFlow.Continue) {\n    return sendVerificationCode(interactionEvent ?? InteractionEvent.SignIn, identifier);\n  }\n\n  const event = userFlowToInteractionEventMap[flow];\n  await initInteraction(event, captchaToken);\n  return sendVerificationCode(event, identifier);\n};\n","/* Replace legacy useSendVerificationCode hook with this one after the refactor */\n\nimport { SignInIdentifier } from '@logto/schemas';\nimport { conditional } from '@silverhand/essentials';\nimport { useCallback, useContext, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport CaptchaContext from '@/Providers/CaptchaContextProvider/CaptchaContext';\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport { sendVerificationCodeApi } from '@/apis/utils';\nimport useApi from '@/hooks/use-api';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport {\n  UserFlow,\n  type ContinueFlowInteractionEvent,\n  type VerificationCodeIdentifier,\n} from '@/types';\nimport { codeVerificationTypeMap } from '@/utils/sign-in-experience';\n\ntype Payload = {\n  identifier: VerificationCodeIdentifier;\n  value: string;\n};\n\nconst useSendVerificationCode = (flow: UserFlow, replaceCurrentPage?: boolean) => {\n  const [errorMessage, setErrorMessage] = useState<string>();\n  const navigate = useNavigate();\n  const { executeCaptcha } = useContext(CaptchaContext);\n\n  const handleError = useErrorHandler();\n  const asyncSendVerificationCode = useApi(sendVerificationCodeApi);\n  const { setVerificationId } = useContext(UserInteractionContext);\n\n  const clearErrorMessage = useCallback(() => {\n    setErrorMessage('');\n  }, []);\n\n  const onSubmit = useCallback(\n    async ({ identifier, value }: Payload, interactionEvent?: ContinueFlowInteractionEvent) => {\n      const captchaToken = await executeCaptcha();\n\n      const [error, result] = await asyncSendVerificationCode(\n        flow,\n        {\n          type: identifier,\n          value,\n        },\n        interactionEvent,\n        captchaToken\n      );\n\n      if (error) {\n        await handleError(error, {\n          'guard.invalid_input': () => {\n            setErrorMessage(\n              identifier === SignInIdentifier.Email ? 'invalid_email' : 'invalid_phone'\n            );\n          },\n          'session.email_blocklist.email_not_allowed': (error) => {\n            setErrorMessage(error.message);\n          },\n          'session.email_blocklist.email_subaddressing_not_allowed': (error) => {\n            setErrorMessage(error.message);\n          },\n        });\n\n        return;\n      }\n\n      if (result) {\n        // Store the verification ID in the context so that we can use it in the next step\n        setVerificationId(codeVerificationTypeMap[identifier], result.verificationId);\n\n        navigate(\n          {\n            pathname: `/${flow}/verification-code`,\n            search: window.location.search,\n          },\n          {\n            replace: replaceCurrentPage,\n            // Append the interaction event to the state so that we can use it in the next step\n            ...conditional(\n              flow === UserFlow.Continue && {\n                state: { interactionEvent },\n              }\n            ),\n          }\n        );\n      }\n    },\n    [\n      asyncSendVerificationCode,\n      flow,\n      handleError,\n      navigate,\n      replaceCurrentPage,\n      setVerificationId,\n      executeCaptcha,\n    ]\n  );\n\n  return {\n    errorMessage,\n    clearErrorMessage,\n    onSubmit,\n  };\n};\n\nexport default useSendVerificationCode;\n","import classNames from 'classnames';\nimport type { TFuncKey } from 'i18next';\nimport type { ReactNode } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport styles from './index.module.scss';\n\ntype RemovePrefix<T extends string, Prefix extends T> = T extends `${Prefix}${string}` ? never : T;\n\n/**\n * All error codes that can be passed to ErrorMessage.\n * Nested keys are removed since they will result in a non-string return value. They\n * can be processed manually.\n */\ntype ErrorCode = RemovePrefix<TFuncKey<'translation', 'error'>, 'password_rejected'>;\n\nexport type ErrorType = ErrorCode | { code: ErrorCode; data?: Record<string, unknown> };\n\nexport type Props = {\n  readonly error?: ErrorType;\n  readonly className?: string;\n  readonly children?: ReactNode;\n};\n\nconst ErrorMessage = ({ error, className, children }: Props) => {\n  const { t } = useTranslation(undefined, { keyPrefix: 'error' });\n\n  const getMessage = () => {\n    if (!error) {\n      return children;\n    }\n\n    if (typeof error === 'string') {\n      return t(error);\n    }\n\n    return t(error.code, { ...error.data });\n  };\n\n  return (\n    <div role=\"alert\" className={classNames(styles.error, className)}>\n      {getMessage()}\n    </div>\n  );\n};\n\nexport default ErrorMessage;\n","import classNames from 'classnames';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly label: string;\n  readonly isActive: boolean;\n  readonly isDanger: boolean;\n  readonly isFocused: boolean;\n};\n\n/**\n * NotchedBorder Component\n *\n * This component creates a customizable border with a notch for labels in form inputs.\n * It enhances the visual appearance and accessibility of input fields by providing\n * a floating label effect and customizable border/outline styles.\n *\n * Key implementation details:\n * 1. Uses two fieldset elements:\n *    - The first creates the main border effect.\n *    - The second creates a separate outline effect, avoiding gaps between the built-in outline and border.\n * 2. Utilizes the fieldset's legend for the label, allowing it to overlap the border:\n *    - This creates a \"floating\" label effect.\n *    - The legend's background becomes transparent, preventing it from blocking the background.\n *\n */\nconst NotchedBorder = ({ label, isActive, isDanger, isFocused }: Props) => {\n  return (\n    <div\n      className={classNames(\n        styles.container,\n        isDanger && styles.danger,\n        isActive && styles.active,\n        isFocused && styles.focused,\n        !label && styles.noLabel\n      )}\n    >\n      <fieldset className={styles.border}>\n        <legend>\n          <span>{label}</span>\n        </legend>\n      </fieldset>\n      <fieldset className={styles.outline}>\n        <legend>\n          <span>{label}</span>\n        </legend>\n      </fieldset>\n      {Boolean(label) && <label className={styles.label}>{label}</label>}\n    </div>\n  );\n};\n\nexport default NotchedBorder;\n","import { type Nullable } from '@silverhand/essentials';\nimport classNames from 'classnames';\nimport type { HTMLProps, ReactElement, Ref, AnimationEvent } from 'react';\nimport {\n  forwardRef,\n  cloneElement,\n  useState,\n  useImperativeHandle,\n  useRef,\n  useEffect,\n  useCallback,\n} from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport ErrorMessage from '@/components/ErrorMessage';\n\nimport NotchedBorder from './NotchedBorder';\nimport styles from './index.module.scss';\n\nexport type Props = Omit<HTMLProps<HTMLInputElement>, 'prefix'> & {\n  readonly className?: string;\n  readonly inputFieldClassName?: string;\n  readonly errorMessage?: string;\n  readonly isDanger?: boolean;\n  readonly prefix?: ReactElement;\n  readonly isPrefixVisible?: boolean;\n  readonly suffix?: ReactElement;\n  readonly isSuffixFocusVisible?: boolean;\n  readonly label?: string;\n};\n\nconst InputField = (\n  {\n    className,\n    inputFieldClassName,\n    errorMessage,\n    isDanger,\n    prefix,\n    suffix,\n    isPrefixVisible,\n    isSuffixFocusVisible,\n    label,\n    onFocus,\n    onBlur,\n    onChange,\n    value,\n    ...props\n  }: Props,\n  reference: Ref<Nullable<HTMLInputElement>>\n) => {\n  const { i18n } = useTranslation();\n  const innerRef = useRef<HTMLInputElement>(null);\n\n  useImperativeHandle(reference, () => innerRef.current);\n\n  const errorMessages = errorMessage?.split('\\n');\n\n  const [isFocused, setIsFocused] = useState(false);\n  const [hasValue, setHasValue] = useState(false);\n\n  useEffect(() => {\n    /**\n     * Should listen to the value prop to update the hasValue state.\n     */\n    setHasValue(Boolean(value));\n  }, [value]);\n\n  /**\n   * Fix the issue that the input field doesn't have the active style when the autofill value is set.\n   * We have define a void transition css rule on the input element once it is `:-webkit-autofill`ed.\n   * Hook onto this 'animationstart' event to detect the autofill start.\n   * see https://stackoverflow.com/questions/11708092/detecting-browser-autofill/41530164#41530164\n   */\n  const handleAnimationStart = useCallback((event: AnimationEvent<HTMLInputElement>) => {\n    /**\n     * Because SCSS adds some random characters to the onAutoFillStart animation name during the build process, we cant use the exact name here.\n     */\n    if (event.animationName.includes('onAutoFillStart')) {\n      setHasValue(true);\n    }\n  }, []);\n\n  const isActive = Boolean(isPrefixVisible) || hasValue || isFocused;\n\n  return (\n    <div className={className}>\n      <div\n        className={classNames(\n          styles.container,\n          isDanger && styles.danger,\n          isActive && styles.active,\n          !label && styles.noLabel\n        )}\n      >\n        <div\n          className={classNames(\n            styles.inputField,\n            isSuffixFocusVisible && styles.isSuffixFocusVisible,\n            inputFieldClassName,\n            styles[i18n.dir()]\n          )}\n        >\n          {prefix}\n          <input\n            {...props}\n            ref={innerRef}\n            value={value}\n            onAnimationStart={handleAnimationStart}\n            onFocus={(event) => {\n              setIsFocused(true);\n              return onFocus?.(event);\n            }}\n            onBlur={(event) => {\n              setIsFocused(false);\n              return onBlur?.(event);\n            }}\n            onChange={(event) => {\n              setHasValue(Boolean(event.target.value));\n              return onChange?.(event);\n            }}\n          />\n          {suffix &&\n            cloneElement(suffix, {\n              className: classNames([suffix.props.className, styles.suffix]),\n            })}\n        </div>\n        <NotchedBorder\n          label={label ?? ''}\n          isActive={isActive}\n          isDanger={Boolean(isDanger)}\n          isFocused={isFocused}\n        />\n      </div>\n      {errorMessages && (\n        <ErrorMessage className={styles.errorMessage}>\n          {errorMessages.length > 1 ? (\n            <ul>\n              {errorMessages.map((message) => (\n                <li key={message}>{message}</li>\n              ))}\n            </ul>\n          ) : (\n            errorMessages[0]\n          )}\n        </ErrorMessage>\n      )}\n    </div>\n  );\n};\nexport default forwardRef(InputField);\n","import * as React from \"react\";\nconst SvgPasswordHideIcon = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M4.92879 3.92888C4.53826 4.3194 4.53826 4.95257 4.92879 5.34309L6.50507 6.91938C3.79112 8.79701 2 11.4523 2 12C2 12.866 6.47715 19 12 19C13.8197 19 15.5259 18.3341 16.9958 17.4101L17.6567 18.071C18.0472 18.4615 18.6804 18.4615 19.0709 18.071C19.4614 17.6805 19.4614 17.0473 19.0709 16.6568L6.343 3.92888C5.95248 3.53836 5.31931 3.53836 4.92879 3.92888ZM14.6137 15.028L8.97197 9.38628C8.36632 10.0873 8 11.0009 8 12C8 14.2091 9.79086 16 12 16C12.9991 16 13.9127 15.6337 14.6137 15.028ZM13.5568 8.31427C14.5141 8.7191 15.2809 9.48594 15.6857 10.4432L20.0754 14.8329C21.2856 13.5325 22 12.3459 22 12C22 11.134 17.5228 5 12 5C11.4584 5 10.9269 5.05898 10.4087 5.16619L13.5568 8.31427Z\", fill: \"currentcolor\" }));\nexport default SvgPasswordHideIcon;\n","import * as React from \"react\";\nconst SvgPasswordShowIcon = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M22 12C22 12.866 17.5228 19 12 19C6.47715 19 2 12.866 2 12C2 11.134 6.47715 5 12 5C17.5228 5 22 11.134 22 12ZM16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12ZM11 14C12.1046 14 13 13.1046 13 12C13 10.8954 12.1046 10 11 10C9.89543 10 9 10.8954 9 12C9 13.1046 9.89543 14 11 14Z\", fill: \"currentcolor\" }));\nexport default SvgPasswordShowIcon;\n","import { useState } from 'react';\n\nconst useToggle = (defaultValue = false) => {\n  const [value, setValue] = useState<boolean>(defaultValue);\n\n  const toggle = () => {\n    setValue((previous) => !previous);\n  };\n\n  return [value, toggle] as const;\n};\n\nexport default useToggle;\n","import type { Nullable } from '@silverhand/essentials';\nimport type { Ref } from 'react';\nimport { forwardRef, useRef, useImperativeHandle } from 'react';\n\nimport PasswordHideIcon from '@/assets/icons/password-hide-icon.svg?react';\nimport PasswordShowIcon from '@/assets/icons/password-show-icon.svg?react';\nimport IconButton from '@/components/Button/IconButton';\nimport useToggle from '@/hooks/use-toggle';\n\nimport InputField from '../InputField';\nimport type { Props as InputFieldProps } from '../InputField';\n\ntype Props = Omit<InputFieldProps, 'type' | 'suffix' | 'isSuffixFocusVisible'>;\n\nconst PasswordInputField = (props: Props, forwardRef: Ref<Nullable<HTMLInputElement>>) => {\n  const [showPassword, toggleShowPassword] = useToggle(false);\n  const innerRef = useRef<HTMLInputElement>(null);\n\n  useImperativeHandle(forwardRef, () => innerRef.current);\n\n  return (\n    <InputField\n      isSuffixFocusVisible\n      type={showPassword ? 'text' : 'password'}\n      suffix={\n        <IconButton\n          onMouseDown={(event) => {\n            event.preventDefault();\n            toggleShowPassword();\n          }}\n        >\n          {showPassword ? <PasswordShowIcon /> : <PasswordHideIcon />}\n        </IconButton>\n      }\n      {...props}\n      ref={innerRef}\n    />\n  );\n};\n\nexport default forwardRef(PasswordInputField);\n","import * as React from \"react\";\nconst SvgClearIcon = (props) => /* @__PURE__ */ React.createElement(\"svg\", { viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM8.46447 9.87868C8.07394 9.48816 8.07394 8.85499 8.46447 8.46447C8.85499 8.07394 9.48816 8.07394 9.87868 8.46447L12 10.5858L14.1213 8.46447C14.5118 8.07394 15.145 8.07394 15.5355 8.46447C15.9261 8.85499 15.9261 9.48815 15.5355 9.87868L13.4142 12L15.5355 14.1213C15.9261 14.5118 15.9261 15.145 15.5355 15.5355C15.145 15.9261 14.5118 15.9261 14.1213 15.5355L12 13.4142L9.87868 15.5355C9.48816 15.9261 8.85499 15.9261 8.46447 15.5355C8.07394 15.145 8.07394 14.5118 8.46447 14.1213L10.5858 12L8.46447 9.87868Z\", fill: \"currentcolor\" }));\nexport default SvgClearIcon;\n","import { onResize, useIsomorphicLayoutEffect } from '@react-spring/shared';\nimport { useSpring, animated, config } from '@react-spring/web';\nimport type { Nullable } from '@silverhand/essentials';\nimport { cloneElement, useCallback, useRef, useState } from 'react';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly children: JSX.Element; // Limit to one element\n  readonly isVisible: boolean;\n};\n\nconst AnimatedPrefix = ({ children, isVisible }: Props) => {\n  const [domReady, setDomReady] = useState(false);\n  const elementRef = useRef<Nullable<HTMLElement>>(null);\n\n  // Get target width for the children\n  const getTargetWidth = useCallback(\n    () => (isVisible ? elementRef.current?.getBoundingClientRect().width : 0),\n    [isVisible]\n  );\n\n  const [animation, api] = useSpring(\n    () => ({ width: getTargetWidth(), config: { ...config.default, clamp: true } }),\n    [getTargetWidth, domReady]\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    const { current } = elementRef;\n\n    setDomReady(true);\n\n    const cleanup =\n      current &&\n      onResize(\n        () => {\n          void api.start({ width: getTargetWidth() });\n        },\n        { container: current }\n      );\n\n    return () => {\n      // Stop animation before cleanup\n      api.stop();\n      cleanup?.();\n    };\n  }, [api, getTargetWidth]);\n\n  return (\n    <animated.div className={styles.prefix} style={animation} data-testid=\"prefix\">\n      {cloneElement(children, { ref: elementRef, isVisible })}\n    </animated.div>\n  );\n};\n\nexport default AnimatedPrefix;\n","import { PhoneNumberParser } from '@logto/shared/universal';\nimport i18next from 'i18next';\nimport type { CountryCode, CountryCallingCode } from 'libphonenumber-js/mobile';\nimport { getCountries, getCountryCallingCode } from 'libphonenumber-js/mobile';\n\nexport const fallbackCountryCode = 'PK';\n\nexport const countryCallingCodeMap: Record<string, CountryCode> = {\n  zh: 'CN',\n  en: 'PK',\n};\n\nexport const isValidCountryCode = (countryCode: string): countryCode is CountryCode => {\n  try {\n    // Use getCountryCallingCode method to guard the input's value is in CountryCode union type, if type not match exceptions are expected\n    // eslint-disable-next-line no-restricted-syntax\n    getCountryCallingCode(countryCode as CountryCode);\n\n    return true;\n  } catch {\n    return false;\n  }\n};\n\nexport const getDefaultCountryCode = (): CountryCode => {\n  const { language } = i18next;\n\n  // Extract the country code from language tag suffix\n  const [languageCode, countryCode] = language.split('-');\n\n  if (countryCode && isValidCountryCode(countryCode)) {\n    return countryCode;\n  }\n\n  const upperCaseLanguageCode = languageCode?.toUpperCase();\n\n  if (upperCaseLanguageCode && isValidCountryCode(upperCaseLanguageCode)) {\n    return upperCaseLanguageCode;\n  }\n\n  return countryCallingCodeMap[language] ?? fallbackCountryCode;\n};\n\nexport const getDefaultCountryCallingCode = () => getCountryCallingCode(getDefaultCountryCode());\n\n/**\n * Provide Country Code Options\n */\nexport type CountryMetaData = {\n  countryCode: CountryCode;\n  countryCallingCode: CountryCallingCode;\n};\n\nexport const getCountryList = (): CountryMetaData[] => {\n  const defaultCountryCode = getDefaultCountryCode();\n  const defaultCountryCallingCode = getCountryCallingCode(defaultCountryCode);\n\n  const countryList = ['PK']\n    .map((code) => ({\n      countryCode: code,\n      countryCallingCode: getCountryCallingCode(code),\n    }))\n    // Filter the detected default countryCode & duplicates\n    .filter(({ countryCallingCode }, index, self) => {\n      if (countryCallingCode === defaultCountryCallingCode) {\n        return false;\n      }\n\n      return (\n        self.findIndex((element) => element.countryCallingCode === countryCallingCode) === index\n      );\n    })\n    .slice()\n    // Sort by countryCallingCode\n    .sort((previous, next) => (next.countryCallingCode > previous.countryCallingCode ? -1 : 1));\n\n  return [\n    {\n      countryCode: defaultCountryCode,\n      countryCallingCode: defaultCountryCallingCode,\n    },\n    ...countryList,\n  ];\n};\n\nexport const formatPhoneNumberWithCountryCallingCode = (number: string) => {\n  try {\n    const phoneNumber = PhoneNumberParser.parse(number);\n\n    return `+${phoneNumber.countryCallingCode} ${phoneNumber.nationalNumber}`;\n  } catch {\n    return number;\n  }\n};\n\nexport const parsePhoneNumber = (value: string) => {\n  try {\n    const phoneNumber = PhoneNumberParser.parse(value);\n\n    return {\n      countryCallingCode: phoneNumber.countryCallingCode,\n      nationalNumber: phoneNumber.nationalNumber,\n    };\n  } catch {}\n};\n","import * as React from \"react\";\nconst SvgSearchIcon = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 16, height: 17, viewBox: \"0 0 16 17\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M6 10.5C3.791 10.5 2 8.709 2 6.5C2 4.291 3.791 2.5 6 2.5C8.209 2.5 10 4.291 10 6.5C10 8.709 8.209 10.5 6 10.5ZM15.707 14.793L10.887 9.973C11.585 8.992 12 7.796 12 6.5C12 3.187 9.313 0.5 6 0.5C2.687 0.5 0 3.187 0 6.5C0 9.813 2.687 12.5 6 12.5C7.296 12.5 8.492 12.085 9.473 11.387L14.293 16.207C14.488 16.402 14.744 16.5 15 16.5C15.256 16.5 15.512 16.402 15.707 16.207C16.098 15.816 16.098 15.184 15.707 14.793Z\", fill: \"currentcolor\" }));\nexport default SvgSearchIcon;\n","/**\n * Original Reference: https://github.com/juliencrn/usehooks-ts/blob/master/src/useDebounce/useDebounce.ts\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2020 Julien CARON\n *Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { useEffect, useState } from 'react';\n\nfunction useDebounce<T>(value: T, delay?: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay ?? 500);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n\nexport default useDebounce;\n","import type { Nullable } from '@silverhand/essentials';\nimport { conditional } from '@silverhand/essentials';\nimport classNames from 'classnames';\nimport type { KeyboardEventHandler } from 'react';\nimport { useCallback, useLayoutEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ReactModal from 'react-modal';\n\nimport CheckMark from '@/assets/icons/check-mark.svg?react';\nimport SearchIcon from '@/assets/icons/search-icon.svg?react';\nimport InputField from '@/components/InputFields/InputField';\nimport NavBar from '@/components/NavBar';\nimport useDebounce from '@/hooks/use-debounce';\nimport usePlatform from '@/hooks/use-platform';\nimport { onKeyDownHandler } from '@/utils/a11y';\nimport type { CountryMetaData } from '@/utils/country-code';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly isOpen: boolean;\n  readonly countryCode: string;\n  readonly countryList: CountryMetaData[];\n  readonly inputRef?: Nullable<HTMLInputElement>;\n  readonly onClose: () => void;\n  readonly onChange?: (value: string) => void;\n};\n\nconst CountryCodeDropdown = ({\n  isOpen,\n  countryCode,\n  countryList,\n  inputRef,\n  onClose,\n  onChange,\n}: Props) => {\n  const { isMobile } = usePlatform();\n  const { t } = useTranslation();\n  const [searchValue, setSearchValue] = useState('');\n  const [position, setPosition] = useState({});\n  const [selectedCountryCode, setSelectedCountryCode] = useState('');\n  const debouncedSearchValue = useDebounce(searchValue, 100);\n\n  const onSearchChange = useCallback(({ target }: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchValue(target.value);\n  }, []);\n\n  const onDestroy = useCallback(() => {\n    setSearchValue('');\n    onClose();\n  }, [onClose]);\n\n  const onCodeChange = useCallback(\n    (value: string) => {\n      onChange?.(value);\n      onDestroy();\n    },\n    [onChange, onDestroy]\n  );\n\n  const updatePosition = useCallback(() => {\n    const parent = inputRef?.parentElement;\n    const offset = 8;\n\n    if (!isMobile && parent) {\n      const { top, left, height, width } = parent.getBoundingClientRect();\n\n      setPosition({ top: top + height + offset, left, width });\n\n      return;\n    }\n\n    setPosition({});\n  }, [inputRef?.parentElement, isMobile]);\n\n  useLayoutEffect(() => {\n    updatePosition();\n    window.addEventListener('resize', updatePosition);\n    window.addEventListener('scroll', updatePosition);\n\n    return () => {\n      window.removeEventListener('resize', updatePosition);\n      window.removeEventListener('scroll', updatePosition);\n    };\n  }, [updatePosition]);\n\n  const filteredCountryList = useMemo(\n    () =>\n      countryList.filter(({ countryCallingCode }) => {\n        const searchValue = debouncedSearchValue.startsWith('+')\n          ? debouncedSearchValue.slice(1)\n          : debouncedSearchValue;\n\n        return countryCallingCode.startsWith(searchValue);\n      }),\n    [countryList, debouncedSearchValue]\n  );\n\n  useLayoutEffect(() => {\n    if (!debouncedSearchValue) {\n      setSelectedCountryCode('');\n\n      return;\n    }\n\n    // Auto Focus on the first available element\n    const firstCountryCode = filteredCountryList[0]?.countryCallingCode;\n    setSelectedCountryCode(firstCountryCode ?? '');\n  }, [filteredCountryList, debouncedSearchValue]);\n\n  const onInputKeyDown = useCallback<KeyboardEventHandler<HTMLInputElement>>(\n    (event) => {\n      const { key } = event;\n\n      switch (key) {\n        case 'Enter':\n        case ' ': {\n          event.preventDefault();\n          event.stopPropagation();\n\n          if (selectedCountryCode) {\n            onCodeChange(selectedCountryCode);\n          }\n          break;\n        }\n        case 'Escape': {\n          event.preventDefault();\n          event.stopPropagation();\n          onDestroy();\n          break;\n        }\n        case 'ArrowUp':\n        case 'ArrowLeft': {\n          event.preventDefault();\n          event.stopPropagation();\n\n          const currentSelectedIndex = filteredCountryList.findIndex(\n            ({ countryCallingCode }) => countryCallingCode === selectedCountryCode\n          );\n\n          if (currentSelectedIndex <= 0) {\n            return;\n          }\n\n          const nextSelectedCountryCode = filteredCountryList[currentSelectedIndex - 1];\n\n          setSelectedCountryCode(nextSelectedCountryCode?.countryCallingCode ?? '');\n          break;\n        }\n        case '-':\n        case 'e':\n        case '.': {\n          event.preventDefault();\n          event.stopPropagation();\n          break;\n        }\n        case 'ArrowRight':\n        case 'ArrowDown': {\n          event.preventDefault();\n          event.stopPropagation();\n\n          const currentSelectedIndex = filteredCountryList.findIndex(\n            ({ countryCallingCode }) => countryCallingCode === selectedCountryCode\n          );\n\n          if (currentSelectedIndex >= filteredCountryList.length - 1) {\n            return;\n          }\n\n          const nextSelectedCountryCode = filteredCountryList[currentSelectedIndex + 1];\n          setSelectedCountryCode(nextSelectedCountryCode?.countryCallingCode ?? '');\n          break;\n        }\n        default: {\n          break;\n        }\n      }\n    },\n    [filteredCountryList, onCodeChange, onDestroy, selectedCountryCode]\n  );\n\n  useLayoutEffect(() => {\n    const selectedItemDom = document.querySelector(`li[data-id=\"${selectedCountryCode}\"]`);\n\n    if (selectedItemDom) {\n      selectedItemDom.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n    }\n  }, [selectedCountryCode]);\n\n  return (\n    <ReactModal\n      id=\"country-code-dropdown\"\n      isOpen={isOpen}\n      overlayClassName={styles.dropdownOverlay}\n      className={styles.dropdownModal}\n      style={{\n        content: {\n          ...position,\n        },\n      }}\n      closeTimeoutMS={200}\n      onRequestClose={(event) => {\n        event.stopPropagation();\n        onDestroy();\n      }}\n    >\n      <div\n        className={styles.dropdownContent}\n        role=\"button\"\n        tabIndex={0}\n        onClick={(event) => {\n          // Prevent parent node trigger onClick show modal event\n          event.stopPropagation();\n        }}\n        onKeyDown={(event) => {\n          // Prevent parent node trigger onClick show modal event\n          event.stopPropagation();\n        }}\n      >\n        {isMobile && (\n          <NavBar type=\"back\" title={t('input.search_region_code')} onClose={onDestroy} />\n        )}\n        <InputField\n          autoFocus\n          name=\"country-code-search\"\n          type=\"number\"\n          min={0}\n          prefix={<SearchIcon />}\n          value={searchValue}\n          className={styles.searchInputField}\n          inputFieldClassName={styles.innerInputFiled}\n          placeholder={t('input.search_region_code')}\n          onChange={onSearchChange}\n          onKeyDown={onInputKeyDown}\n        />\n        <ul className={styles.countryList}>\n          {filteredCountryList.map(({ countryCallingCode, countryCode: countryKeyCode }) => {\n            const isActive = countryCallingCode === countryCode;\n            const isSelected = countryCallingCode === selectedCountryCode;\n\n            return (\n              <li\n                key={countryKeyCode}\n                tabIndex={0}\n                data-id={countryCallingCode}\n                className={classNames(\n                  conditional(isActive && styles.active),\n                  conditional(isSelected && styles.selected)\n                )}\n                // eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n                role=\"button\"\n                onKeyDown={onKeyDownHandler({\n                  Enter: () => {\n                    onCodeChange(countryCallingCode);\n                  },\n                })}\n                onClick={() => {\n                  onCodeChange(countryCallingCode);\n                }}\n                onMouseEnter={() => {\n                  setSelectedCountryCode(countryCallingCode);\n                }}\n                onMouseLeave={() => {\n                  setSelectedCountryCode('');\n                }}\n              >\n                {isActive && <CheckMark />}\n                {`+${countryCallingCode}`}\n              </li>\n            );\n          })}\n        </ul>\n        {filteredCountryList.length === 0 && (\n          <div className={styles.notFound}>{t('description.no_region_code_found')}</div>\n        )}\n      </div>\n    </ReactModal>\n  );\n};\n\nexport default CountryCodeDropdown;\n","import type { Nullable } from '@silverhand/essentials';\nimport classNames from 'classnames';\nimport type { ForwardedRef } from 'react';\nimport { useState, useMemo, forwardRef } from 'react';\n\nimport DownArrowIcon from '@/assets/icons/arrow-down.svg?react';\nimport { onKeyDownHandler } from '@/utils/a11y';\nimport { getCountryList, getDefaultCountryCallingCode } from '@/utils/country-code';\n\nimport CountryCodeDropdown from './CountryCodeDropdown';\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly className?: string;\n  readonly value?: string;\n  readonly inputRef?: Nullable<HTMLInputElement>;\n  readonly isVisible?: boolean;\n  readonly onChange?: (value: string) => void;\n};\n\nconst CountryCodeSelector = (\n  { className, value, inputRef, isVisible = true, onChange }: Props,\n  ref: ForwardedRef<HTMLDivElement>\n) => {\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const countryList = useMemo(getCountryList, []);\n  const defaultCountCode = useMemo(getDefaultCountryCallingCode, []);\n\n  const showDropDown = () => {\n    setIsDropdownOpen(true);\n  };\n\n  const hideDropDown = () => {\n    setIsDropdownOpen(false);\n  };\n\n  // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n  const countryCode = value || defaultCountCode;\n\n  return (\n    <div\n      ref={ref}\n      className={classNames(styles.countryCodeSelector, isVisible && styles.visible, className)}\n      role=\"button\"\n      tabIndex={isVisible ? 0 : -1}\n      onClick={showDropDown}\n      onKeyDown={onKeyDownHandler({\n        Enter: showDropDown,\n      })}\n    >\n      <span>{`+${countryCode}`}</span>\n      <DownArrowIcon />\n      <CountryCodeDropdown\n        inputRef={inputRef}\n        isOpen={isDropdownOpen}\n        countryCode={countryCode}\n        countryList={countryList}\n        onClose={hideDropDown}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\nexport default forwardRef(CountryCodeSelector);\n","import { usernameRegEx, emailRegEx } from '@logto/core-kit';\nimport { SignInIdentifier } from '@logto/schemas';\nimport { PhoneNumberParser } from '@logto/shared/universal';\nimport i18next from 'i18next';\nimport type { TFuncKey } from 'i18next';\nimport { ParseError } from 'libphonenumber-js/mobile';\n\nimport type { ErrorType } from '@/components/ErrorMessage';\nimport type { IdentifierInputType } from '@/components/InputFields/SmartInputField';\nimport { parsePhoneNumber } from '@/utils/country-code';\n\nconst { t } = i18next;\n\nexport const validateUsername = (username: string): ErrorType | undefined => {\n  if (!username) {\n    return 'username_required';\n  }\n\n  if (/^\\d/.test(username)) {\n    return 'username_should_not_start_with_number';\n  }\n\n  if (!usernameRegEx.test(username)) {\n    return 'username_invalid_charset';\n  }\n};\n\nexport const validateEmail = (email: string): ErrorType | undefined => {\n  if (!emailRegEx.test(email)) {\n    return 'invalid_email';\n  }\n};\n\nexport const validatePhone = (value: string): ErrorType | undefined => {\n  try {\n    const phoneNumber = PhoneNumberParser.parse(value);\n\n    if (!phoneNumber.isValid()) {\n      return 'invalid_phone';\n    }\n  } catch (error: unknown) {\n    if (error instanceof ParseError) {\n      return 'invalid_phone';\n    }\n\n    throw error;\n  }\n};\n\nexport const validateIdentifierField = (type: IdentifierInputType, value: string) => {\n  switch (type) {\n    case SignInIdentifier.Username: {\n      return validateUsername(value);\n    }\n\n    case SignInIdentifier.Email: {\n      return validateEmail(value);\n    }\n\n    case SignInIdentifier.Phone: {\n      return validatePhone(value);\n    }\n  }\n};\n\nexport const identifierInputPlaceholderMap: { [K in IdentifierInputType]: TFuncKey } = {\n  [SignInIdentifier.Phone]: 'input.phone_number',\n  [SignInIdentifier.Email]: 'input.email',\n  [SignInIdentifier.Username]: 'input.username',\n};\n\nexport const identifierInputDescriptionMap: { [K in IdentifierInputType]: TFuncKey } = {\n  [SignInIdentifier.Phone]: 'description.phone_number',\n  [SignInIdentifier.Email]: 'description.email',\n  [SignInIdentifier.Username]: 'description.username',\n};\n\nexport const getGeneralIdentifierErrorMessage = (\n  enabledFields: IdentifierInputType[],\n  type: 'required' | 'invalid'\n) => {\n  const data = {\n    types: enabledFields.map((field) => t(identifierInputDescriptionMap[field])),\n  };\n\n  const code = type === 'required' ? 'error.general_required' : 'error.general_invalid';\n\n  return t(code, data);\n};\n\nexport const parseIdentifierValue = (type?: IdentifierInputType, value?: string) => {\n  if (type === SignInIdentifier.Phone && value) {\n    const validPhoneNumber = parsePhoneNumber(value);\n\n    if (validPhoneNumber) {\n      return {\n        countryCode: validPhoneNumber.countryCallingCode,\n        inputValue: validPhoneNumber.nationalNumber,\n      };\n    }\n  }\n\n  return {\n    inputValue: value,\n  };\n};\n","import { SignInIdentifier } from '@logto/schemas';\nimport i18next from 'i18next';\nimport type { HTMLProps } from 'react';\n\nimport { identifierInputPlaceholderMap } from '@/utils/form';\n\nimport type { IdentifierInputType } from './use-smart-input-field';\n\nexport const getInputHtmlProps = (\n  enabledTypes: IdentifierInputType[],\n  currentType?: IdentifierInputType\n): Pick<\n  HTMLProps<HTMLInputElement>,\n  'type' | 'pattern' | 'inputMode' | 'placeholder' | 'autoComplete' | 'label'\n> => {\n  if (currentType === SignInIdentifier.Phone && enabledTypes.length === 1) {\n    return {\n      type: 'tel',\n      pattern: '[0-9]*',\n      inputMode: 'numeric',\n      autoComplete: 'tel',\n      label: i18next.t('input.phone_number'),\n    };\n  }\n\n  if (currentType === SignInIdentifier.Email && enabledTypes.length === 1) {\n    return {\n      type: 'email',\n      inputMode: 'email',\n      autoComplete: 'email',\n      label: i18next.t('input.email'),\n    };\n  }\n\n  return {\n    type: 'text',\n    autoComplete: enabledTypes\n      .map((type) => (type === SignInIdentifier.Phone ? 'tel' : type))\n      .join(' '),\n    label: enabledTypes.map((type) => i18next.t(identifierInputPlaceholderMap[type])).join(' / '),\n  };\n};\n\nconst digitsRegex = /^\\d*$/;\n\ntype DetectIdentifierTypeParams = {\n  value: string;\n  enabledTypeSet: Set<IdentifierInputType>;\n  currentType?: IdentifierInputType;\n};\n\nexport const detectIdentifierType = ({\n  value,\n  enabledTypeSet,\n  currentType,\n}: DetectIdentifierTypeParams) => {\n  if (!value && enabledTypeSet.size > 1) {\n    /**\n     * Multiple types are enabled, so we cannot detect the type without the value.\n     * Return `undefined` since the type is not determined.\n     */\n    return;\n  }\n\n  if (enabledTypeSet.size === 1) {\n    /**\n     * Only one type enabled, so we limit the type to the default type.\n     */\n    return Array.from(enabledTypeSet)[0];\n  }\n\n  const hasAtSymbol = value.includes('@');\n  const isAllDigits = digitsRegex.test(value);\n\n  if (enabledTypeSet.has(SignInIdentifier.Phone) && value.length >= 3 && isAllDigits) {\n    return SignInIdentifier.Phone;\n  }\n\n  if (enabledTypeSet.has(SignInIdentifier.Email) && hasAtSymbol) {\n    return SignInIdentifier.Email;\n  }\n\n  if (currentType === SignInIdentifier.Phone && isAllDigits) {\n    return SignInIdentifier.Phone;\n  }\n\n  if (enabledTypeSet.has(SignInIdentifier.Username)) {\n    return SignInIdentifier.Username;\n  }\n\n  if (enabledTypeSet.has(SignInIdentifier.Email)) {\n    return SignInIdentifier.Email;\n  }\n\n  return currentType;\n};\n","import { SignInIdentifier } from '@logto/schemas';\nimport { useState, useCallback, useMemo } from 'react';\nimport type { ChangeEventHandler } from 'react';\n\nimport { getDefaultCountryCallingCode } from '@/utils/country-code';\nimport { parseIdentifierValue } from '@/utils/form';\n\nimport { detectIdentifierType } from './utils';\n\nexport type IdentifierInputType =\n  | SignInIdentifier.Email\n  | SignInIdentifier.Phone\n  | SignInIdentifier.Username;\n\nexport type IdentifierInputValue = {\n  /**\n   * The type of the identifier input.\n   * `undefined` value is for the case when the user has inputted an identifier but the type is not yet determined in the `SmartInputField`.\n   */\n  type?: IdentifierInputType;\n  /**\n   * The value of the identifier input.\n   */\n  value: string;\n};\n\ntype Props = {\n  defaultValue?: string;\n  enabledTypes: IdentifierInputType[];\n};\n\nconst useSmartInputField = ({ defaultValue, enabledTypes }: Props) => {\n  const enabledTypeSet = useMemo(() => new Set(enabledTypes), [enabledTypes]);\n\n  // Parse default type from enabled types and default value\n  const defaultType = useMemo(\n    () => detectIdentifierType({ value: defaultValue ?? '', enabledTypeSet }),\n    [defaultValue, enabledTypeSet]\n  );\n\n  // Parse default value if provided\n  const { countryCode: defaultCountryCode, inputValue: defaultInputValue } = useMemo(\n    () => parseIdentifierValue(defaultType, defaultValue),\n    [defaultType, defaultValue]\n  );\n\n  const [currentType, setCurrentType] = useState(defaultType);\n\n  const [countryCode, setCountryCode] = useState<string>(\n    defaultCountryCode ?? getDefaultCountryCallingCode()\n  );\n\n  const [inputValue, setInputValue] = useState<string>(defaultInputValue ?? '');\n\n  const detectInputType = useCallback(\n    (value: string) => detectIdentifierType({ value, enabledTypeSet, currentType }),\n    [currentType, enabledTypeSet]\n  );\n\n  const onCountryCodeChange = useCallback(\n    (value: string) => {\n      if (currentType === SignInIdentifier.Phone) {\n        const code = value.replace(/\\D/g, '');\n        setCountryCode(code);\n      }\n    },\n    [currentType]\n  );\n\n  const onInputValueChange = useCallback<ChangeEventHandler<HTMLInputElement>>(\n    ({ target: { value } }) => {\n      const trimValue = value.trim();\n      setInputValue(trimValue);\n\n      const type = detectInputType(trimValue);\n      setCurrentType(type);\n    },\n    [detectInputType]\n  );\n\n  const onInputValueClear = useCallback(() => {\n    setInputValue('');\n    setCurrentType(enabledTypeSet.size === 1 ? defaultType : undefined);\n  }, [defaultType, enabledTypeSet.size]);\n\n  return {\n    countryCode,\n    onCountryCodeChange,\n    inputValue,\n    onInputValueChange,\n    onInputValueClear,\n    identifierType: currentType,\n  };\n};\n\nexport default useSmartInputField;\n","import { SignInIdentifier } from '@logto/schemas';\nimport { animated, config, useSpring } from '@react-spring/web';\nimport type { Nullable } from '@silverhand/essentials';\nimport type { HTMLProps, Ref } from 'react';\nimport { useEffect, useImperativeHandle, useRef, forwardRef } from 'react';\n\nimport ClearIcon from '@/assets/icons/clear-icon.svg?react';\nimport IconButton from '@/components/Button/IconButton';\n\nimport InputField from '../InputField';\n\nimport AnimatedPrefix from './AnimatedPrefix';\nimport CountryCodeSelector from './CountryCodeSelector';\nimport type { IdentifierInputType, IdentifierInputValue } from './use-smart-input-field';\nimport useSmartInputField from './use-smart-input-field';\nimport { getInputHtmlProps } from './utils';\n\nexport type { IdentifierInputType, IdentifierInputValue } from './use-smart-input-field';\n\ntype Props = Omit<HTMLProps<HTMLInputElement>, 'onChange' | 'prefix' | 'value'> & {\n  readonly className?: string;\n  readonly errorMessage?: string;\n  readonly isDanger?: boolean;\n\n  readonly enabledTypes?: IdentifierInputType[];\n\n  readonly defaultValue?: string;\n  readonly onChange?: (data: IdentifierInputValue) => void;\n};\n\nconst AnimatedInputField = animated(InputField);\n\nconst SmartInputField = (\n  { defaultValue, enabledTypes = [], onChange, ...rest }: Props,\n  ref: Ref<Nullable<HTMLInputElement>>\n) => {\n  const innerRef = useRef<HTMLInputElement>(null);\n  useImperativeHandle(ref, () => innerRef.current);\n\n  const {\n    countryCode,\n    onCountryCodeChange,\n    inputValue,\n    onInputValueChange,\n    onInputValueClear,\n    identifierType,\n  } = useSmartInputField({\n    defaultValue,\n    enabledTypes,\n  });\n\n  const isPrefixVisible = identifierType === SignInIdentifier.Phone;\n  const { paddingInlineStart } = useSpring({\n    paddingInlineStart: isPrefixVisible ? 4 : 16,\n    config: { ...config.default, clamp: true },\n  });\n\n  useEffect(() => {\n    onChange?.({\n      type: identifierType,\n      value: isPrefixVisible && inputValue ? `${countryCode}${inputValue}` : inputValue,\n    });\n  }, [countryCode, identifierType, inputValue, isPrefixVisible, onChange]);\n\n  return (\n    <AnimatedInputField\n      {...getInputHtmlProps(enabledTypes, identifierType)}\n      {...rest}\n      ref={innerRef}\n      isSuffixFocusVisible={Boolean(inputValue)}\n      style={{ paddingInlineStart }}\n      value={inputValue}\n      isPrefixVisible={isPrefixVisible}\n      prefix={\n        <AnimatedPrefix isVisible={isPrefixVisible}>\n          <CountryCodeSelector\n            value={countryCode}\n            inputRef={innerRef.current}\n            onChange={(value) => {\n              onCountryCodeChange(value);\n              innerRef.current?.focus();\n            }}\n          />\n        </AnimatedPrefix>\n      }\n      suffix={\n        <IconButton\n          onMouseDown={(event) => {\n            event.preventDefault();\n          }}\n          onClick={onInputValueClear}\n        >\n          <ClearIcon />\n        </IconButton>\n      }\n      onChange={onInputValueChange}\n    />\n  );\n};\n\nexport default forwardRef(SmartInputField);\n","import classNames from 'classnames';\nimport { useCallback, useEffect } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport Button from '@/components/Button';\nimport ErrorMessage from '@/components/ErrorMessage';\nimport { SmartInputField } from '@/components/InputFields';\nimport type {\n  IdentifierInputType,\n  IdentifierInputValue,\n} from '@/components/InputFields/SmartInputField';\nimport { getGeneralIdentifierErrorMessage, validateIdentifierField } from '@/utils/form';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly className?: string;\n  // eslint-disable-next-line react/boolean-prop-naming\n  readonly autoFocus?: boolean;\n  readonly defaultType?: IdentifierInputType;\n  readonly enabledTypes: IdentifierInputType[];\n\n  readonly onSubmit?: (identifier: IdentifierInputType, value: string) => Promise<void> | void;\n  readonly errorMessage?: string;\n  readonly clearErrorMessage?: () => void;\n};\n\ntype FormState = {\n  identifier: IdentifierInputValue;\n};\n\nconst IdentifierProfileForm = ({\n  className,\n  autoFocus,\n  defaultType,\n  enabledTypes,\n  onSubmit,\n  errorMessage,\n  clearErrorMessage,\n}: Props) => {\n  const { t } = useTranslation();\n  const {\n    handleSubmit,\n    control,\n    formState: { errors, isValid, isSubmitting },\n  } = useForm<FormState>({\n    reValidateMode: 'onBlur',\n    defaultValues: {\n      identifier: {\n        type: defaultType,\n        value: '',\n      },\n    },\n  });\n\n  useEffect(() => {\n    if (!isValid) {\n      clearErrorMessage?.();\n    }\n  }, [clearErrorMessage, isValid]);\n\n  const onSubmitHandler = useCallback(\n    (event?: React.FormEvent<HTMLFormElement>) => {\n      clearErrorMessage?.();\n\n      void handleSubmit(async ({ identifier: { type, value } }) => {\n        if (!type) {\n          return;\n        }\n\n        await onSubmit?.(type, value);\n      })(event);\n    },\n    [clearErrorMessage, handleSubmit, onSubmit]\n  );\n\n  return (\n    <form className={classNames(styles.form, className)} onSubmit={onSubmitHandler}>\n      <Controller\n        control={control}\n        name=\"identifier\"\n        rules={{\n          validate: (identifier) => {\n            const { type, value } = identifier;\n\n            if (!type || !value) {\n              return getGeneralIdentifierErrorMessage(enabledTypes, 'required');\n            }\n\n            const errorMessage = validateIdentifierField(type, value);\n\n            if (errorMessage) {\n              return typeof errorMessage === 'string'\n                ? t(`error.${errorMessage}`)\n                : t(`error.${errorMessage.code}`, errorMessage.data ?? {});\n            }\n\n            return true;\n          },\n        }}\n        render={({ field }) => (\n          <SmartInputField\n            autoComplete=\"off\"\n            autoFocus={autoFocus}\n            className={styles.inputField}\n            {...field}\n            isDanger={!!errors.identifier || !!errorMessage}\n            errorMessage={errors.identifier?.message}\n            enabledTypes={enabledTypes}\n          />\n        )}\n      />\n\n      {errorMessage && <ErrorMessage className={styles.formErrors}>{errorMessage}</ErrorMessage>}\n\n      <Button title=\"action.continue\" htmlType=\"submit\" isLoading={isSubmitting} />\n\n      <input hidden type=\"submit\" />\n    </form>\n  );\n};\n\nexport default IdentifierProfileForm;\n","export const maskEmail = (email: string) => {\n  const [name = '', domain = ''] = email.split('@');\n\n  const preview = name.length > 4 ? `${name.slice(0, 4)}` : '';\n\n  return `${preview}****@${domain}`;\n};\n\nexport const maskPhone = (phone: string) => `****${phone.slice(-4)}`;\n","import { SignInIdentifier } from '@logto/schemas';\nimport { useTranslation } from 'react-i18next';\nimport { useLocation } from 'react-router-dom';\nimport { is } from 'superstruct';\n\nimport type { VerificationCodeIdentifier } from '@/types';\nimport { registeredSocialIdentityStateGuard } from '@/types/guard';\nimport { maskEmail } from '@/utils/format';\n\nimport styles from './index.module.scss';\n\nconst SocialIdentityNotification = ({\n  missingProfileTypes,\n}: {\n  readonly missingProfileTypes: VerificationCodeIdentifier[];\n}) => {\n  const { t } = useTranslation();\n  const { state } = useLocation();\n\n  const hasSocialIdentity = is(state, registeredSocialIdentityStateGuard);\n\n  if (!hasSocialIdentity) {\n    return null;\n  }\n\n  if (\n    missingProfileTypes.includes(SignInIdentifier.Email) &&\n    state.registeredSocialIdentity?.email\n  ) {\n    return (\n      <div className={styles.description}>\n        {t('description.social_identity_exist', {\n          type: t('description.email'),\n          value: maskEmail(state.registeredSocialIdentity.email),\n        })}\n      </div>\n    );\n  }\n\n  if (\n    missingProfileTypes.includes(SignInIdentifier.Phone) &&\n    state.registeredSocialIdentity?.phone\n  ) {\n    return (\n      <div className={styles.description}>\n        {t('description.social_identity_exist', {\n          type: t('description.phone_number'),\n          value: state.registeredSocialIdentity.phone,\n        })}\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport default SocialIdentityNotification;\n","import type { MissingProfile } from '@logto/schemas';\nimport { SignInIdentifier } from '@logto/schemas';\nimport type { TFuncKey } from 'i18next';\nimport { useContext } from 'react';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport useSendVerificationCode from '@/hooks/use-send-verification-code';\nimport type { ContinueFlowInteractionEvent, VerificationCodeIdentifier } from '@/types';\nimport { UserFlow } from '@/types';\n\nimport IdentifierProfileForm from '../IdentifierProfileForm';\n\nimport SocialIdentityNotification from './SocialIdentityNotification';\n\nexport type VerificationCodeProfileType = Exclude<MissingProfile, 'username' | 'password'>;\n\ntype Props = {\n  readonly missingProfile: VerificationCodeProfileType;\n  readonly interactionEvent: ContinueFlowInteractionEvent;\n};\n\nexport const pageContent: Record<\n  VerificationCodeProfileType,\n  {\n    title: TFuncKey;\n    description: TFuncKey;\n  }\n> = {\n  email: {\n    title: 'description.link_email',\n    description: 'description.link_email_description',\n  },\n  phone: {\n    title: 'description.link_phone',\n    description: 'description.link_phone_description',\n  },\n  emailOrPhone: {\n    title: 'description.link_email_or_phone',\n    description: 'description.link_email_or_phone_description',\n  },\n};\n\nconst formSettings: Record<\n  VerificationCodeProfileType,\n  { defaultType: VerificationCodeIdentifier; enabledTypes: VerificationCodeIdentifier[] }\n> = {\n  email: {\n    defaultType: SignInIdentifier.Email,\n    enabledTypes: [SignInIdentifier.Email],\n  },\n  phone: {\n    defaultType: SignInIdentifier.Phone,\n    enabledTypes: [SignInIdentifier.Phone],\n  },\n  emailOrPhone: {\n    defaultType: SignInIdentifier.Email,\n    enabledTypes: [SignInIdentifier.Email, SignInIdentifier.Phone],\n  },\n};\n\nconst SetEmailOrPhone = ({ missingProfile, interactionEvent }: Props) => {\n  const { onSubmit, errorMessage, clearErrorMessage } = useSendVerificationCode(UserFlow.Continue);\n  const { setIdentifierInputValue } = useContext(UserInteractionContext);\n\n  const handleSubmit = async (identifier: SignInIdentifier, value: string) => {\n    // Only handles email and phone\n    if (identifier === SignInIdentifier.Username) {\n      return;\n    }\n\n    setIdentifierInputValue({ type: identifier, value });\n\n    return onSubmit({ identifier, value }, interactionEvent);\n  };\n\n  return (\n    <SecondaryPageLayout {...pageContent[missingProfile]}>\n      <IdentifierProfileForm\n        autoFocus\n        errorMessage={errorMessage}\n        clearErrorMessage={clearErrorMessage}\n        {...formSettings[missingProfile]}\n        onSubmit={handleSubmit}\n      />\n      <SocialIdentityNotification missingProfileTypes={formSettings[missingProfile].enabledTypes} />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default SetEmailOrPhone;\n","import { useContext } from 'react';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\n\n/**\n * This component renders a hidden input field that stores the user's identifier.\n * Its primary purpose is to assist password managers in associating the correct\n * identifier with the password being set or changed.\n *\n * By including this hidden field, we enable password managers to correctly save\n * or update the user's credentials, enhancing the user experience and security.\n */\nconst HiddenIdentifierInput = () => {\n  const { identifierInputValue } = useContext(UserInteractionContext);\n\n  if (!identifierInputValue) {\n    return null;\n  }\n\n  return (\n    <input readOnly hidden type={identifierInputValue.type} value={identifierInputValue.value} />\n  );\n};\n\nexport default HiddenIdentifierInput;\n","import classNames from 'classnames';\nimport { useCallback, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport Button from '@/components/Button';\nimport ErrorMessage from '@/components/ErrorMessage';\nimport { PasswordInputField } from '@/components/InputFields';\n\nimport HiddenIdentifierInput from './HiddenIdentifierInput';\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly className?: string;\n  // eslint-disable-next-line react/boolean-prop-naming\n  readonly autoFocus?: boolean;\n  readonly onSubmit: (password: string) => Promise<void>;\n  readonly errorMessage?: string;\n  readonly clearErrorMessage?: () => void;\n};\n\ntype FieldState = {\n  newPassword: string;\n};\n\nconst Lite = ({ className, autoFocus, onSubmit, errorMessage, clearErrorMessage }: Props) => {\n  const { t } = useTranslation();\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isValid, isSubmitting },\n  } = useForm<FieldState>({\n    reValidateMode: 'onBlur',\n    defaultValues: { newPassword: '' },\n  });\n\n  useEffect(() => {\n    if (!isValid) {\n      clearErrorMessage?.();\n    }\n  }, [clearErrorMessage, isValid]);\n\n  const onSubmitHandler = useCallback(\n    (event?: React.FormEvent<HTMLFormElement>) => {\n      clearErrorMessage?.();\n\n      void handleSubmit(async (data) => {\n        await onSubmit(data.newPassword);\n      })(event);\n    },\n    [clearErrorMessage, handleSubmit, onSubmit]\n  );\n\n  return (\n    <form className={classNames(styles.form, className)} onSubmit={onSubmitHandler}>\n      <HiddenIdentifierInput />\n      <PasswordInputField\n        className={styles.inputField}\n        autoComplete=\"new-password\"\n        label={t('input.password')}\n        autoFocus={autoFocus}\n        isDanger={!!errors.newPassword}\n        errorMessage={errors.newPassword?.message}\n        aria-invalid={!!errors.newPassword}\n        {...register('newPassword', {\n          required: t('error.password_required'),\n        })}\n      />\n\n      {errorMessage && <ErrorMessage className={styles.formErrors}>{errorMessage}</ErrorMessage>}\n\n      <Button\n        name=\"submit\"\n        title=\"action.save_password\"\n        htmlType=\"submit\"\n        isLoading={isSubmitting}\n      />\n\n      <input hidden type=\"submit\" />\n    </form>\n  );\n};\n\nexport default Lite;\n","import * as React from \"react\";\nconst SvgCheckboxIcon = (props) => /* @__PURE__ */ React.createElement(\"svg\", { viewBox: \"0 0 18 18\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M14.2463 2.20996H3.75244C2.90015 2.20996 2.20923 2.90088 2.20923 3.75317V14.247C2.20923 15.0993 2.90015 15.7902 3.75244 15.7902H14.2463C15.0986 15.7902 15.7895 15.0993 15.7895 14.247V3.75317C15.7895 2.90088 15.0986 2.20996 14.2463 2.20996ZM3.75244 0.666748C2.04785 0.666748 0.666016 2.04859 0.666016 3.75317V14.247C0.666016 15.9516 2.04786 17.3334 3.75244 17.3334H14.2463C15.9508 17.3334 17.3327 15.9516 17.3327 14.247V3.75317C17.3327 2.04859 15.9508 0.666748 14.2463 0.666748H3.75244Z\", fill: \"currentcolor\" }), /* @__PURE__ */ React.createElement(\"rect\", { width: 18, height: 18, rx: 4, fill: \"currentcolor\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M7.31476 12.858L4.13295 9.441C3.95568 9.253 3.95568 8.947 4.13295 8.757L4.77568 8.074C4.95295 7.886 5.24113 7.886 5.4184 8.074L7.63657 10.466L12.5811 5.141C12.7584 4.953 13.0465 4.953 13.2238 5.141L13.8665 5.825C14.0438 6.013 14.0438 6.32 13.8665 6.507L7.95748 12.858C7.78021 13.046 7.49203 13.046 7.31476 12.858Z\", fill: \"white\" }));\nexport default SvgCheckboxIcon;\n","import classNames from 'classnames';\nimport type { InputHTMLAttributes, Ref } from 'react';\nimport { forwardRef } from 'react';\n\nimport CheckBox from '@/assets/icons/checkbox-icon.svg?react';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly size?: 'small' | 'default';\n} & Omit<InputHTMLAttributes<HTMLInputElement>, 'type' | 'size'>;\n\nconst Checkbox = ({ disabled, size = 'default', ...rest }: Props, ref: Ref<HTMLInputElement>) => {\n  return (\n    <div className={styles.checkbox}>\n      <input type=\"checkbox\" disabled={disabled} {...rest} ref={ref} readOnly />\n      <CheckBox className={classNames(styles.icon, size === 'small' && styles.small)} />\n    </div>\n  );\n};\n\nexport default forwardRef<HTMLInputElement, Props>(Checkbox);\n","import { useTranslation } from 'react-i18next';\n\nimport Checkbox from '@/components/Checkbox';\nimport { onKeyDownHandler } from '@/utils/a11y';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly isChecked?: boolean;\n  readonly onChange: (checked: boolean) => void;\n};\n\nconst TogglePassword = ({ isChecked, onChange }: Props) => {\n  const { t } = useTranslation();\n\n  const toggle = () => {\n    onChange(!isChecked);\n  };\n\n  return (\n    <div\n      role=\"radio\"\n      aria-checked={isChecked}\n      tabIndex={0}\n      className={styles.passwordSwitch}\n      onClick={toggle}\n      onKeyDown={onKeyDownHandler({\n        Escape: () => {\n          onChange(false);\n        },\n        Enter: toggle,\n        ' ': toggle,\n      })}\n    >\n      <Checkbox name=\"toggle-password\" checked={isChecked} className={styles.checkbox} />\n      <div>{t('action.show_password')}</div>\n    </div>\n  );\n};\n\nexport default TogglePassword;\n","import classNames from 'classnames';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport ClearIcon from '@/assets/icons/clear-icon.svg?react';\nimport Button from '@/components/Button';\nimport IconButton from '@/components/Button/IconButton';\nimport ErrorMessage from '@/components/ErrorMessage';\nimport { InputField } from '@/components/InputFields';\n\nimport HiddenIdentifierInput from './HiddenIdentifierInput';\nimport TogglePassword from './TogglePassword';\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly className?: string;\n  // eslint-disable-next-line react/boolean-prop-naming\n  readonly autoFocus?: boolean;\n  readonly onSubmit: (password: string) => Promise<void>;\n  readonly errorMessage?: string;\n  readonly clearErrorMessage?: () => void;\n};\n\ntype FieldState = {\n  newPassword: string;\n  confirmPassword: string;\n};\n\nconst SetPassword = ({\n  className,\n  autoFocus,\n  onSubmit,\n  errorMessage,\n  clearErrorMessage,\n}: Props) => {\n  const { t } = useTranslation();\n\n  const [showPassword, setShowPassword] = useState(false);\n\n  const {\n    register,\n    watch,\n    resetField,\n    handleSubmit,\n    formState: { errors, isValid, isSubmitting },\n  } = useForm<FieldState>({\n    reValidateMode: 'onBlur',\n    defaultValues: { newPassword: '', confirmPassword: '' },\n  });\n\n  useEffect(() => {\n    if (!isValid) {\n      clearErrorMessage?.();\n    }\n  }, [clearErrorMessage, isValid]);\n\n  const onSubmitHandler = useCallback(\n    (event?: React.FormEvent<HTMLFormElement>) => {\n      clearErrorMessage?.();\n\n      void handleSubmit(async (data) => {\n        await onSubmit(data.newPassword);\n      })(event);\n    },\n    [clearErrorMessage, handleSubmit, onSubmit]\n  );\n\n  return (\n    <form className={classNames(styles.form, className)} onSubmit={onSubmitHandler}>\n      <HiddenIdentifierInput />\n      <InputField\n        className={styles.inputField}\n        type={showPassword ? 'text' : 'password'}\n        autoComplete=\"new-password\"\n        label={t('input.password')}\n        autoFocus={autoFocus}\n        isDanger={!!errors.newPassword}\n        errorMessage={errors.newPassword?.message}\n        aria-invalid={!!errors.newPassword}\n        {...register('newPassword', {\n          required: t('error.password_required'),\n        })}\n        isSuffixFocusVisible={!!watch('newPassword')}\n        suffix={\n          <IconButton\n            onClick={() => {\n              resetField('newPassword');\n            }}\n          >\n            <ClearIcon />\n          </IconButton>\n        }\n      />\n\n      <InputField\n        className={styles.inputField}\n        type={showPassword ? 'text' : 'password'}\n        autoComplete=\"new-password\"\n        label={t('input.confirm_password')}\n        errorMessage={errors.confirmPassword?.message}\n        aria-invalid={!!errors.confirmPassword}\n        {...register('confirmPassword', {\n          validate: (value) => value === watch('newPassword') || t('error.passwords_do_not_match'),\n        })}\n        isSuffixFocusVisible={!!watch('confirmPassword')}\n        suffix={\n          <IconButton\n            onClick={() => {\n              resetField('confirmPassword');\n            }}\n          >\n            <ClearIcon />\n          </IconButton>\n        }\n      />\n\n      {errorMessage && <ErrorMessage className={styles.formErrors}>{errorMessage}</ErrorMessage>}\n\n      <TogglePassword isChecked={showPassword} onChange={setShowPassword} />\n\n      <Button\n        name=\"submit\"\n        title=\"action.save_password\"\n        htmlType=\"submit\"\n        isLoading={isSubmitting}\n      />\n\n      <input hidden type=\"submit\" />\n    </form>\n  );\n};\n\nexport default SetPassword;\n","import { useForgotPasswordSettings } from '@/hooks/use-sie';\n\nimport SetPasswordLite from './Lite';\nimport SetPasswordStandard from './SetPassword';\n\ntype Props = {\n  readonly className?: string;\n  // eslint-disable-next-line react/boolean-prop-naming\n  readonly autoFocus?: boolean;\n  readonly onSubmit: (password: string) => Promise<void>;\n  readonly errorMessage?: string;\n  readonly clearErrorMessage?: () => void;\n  readonly maxLength?: number;\n};\n\nconst SetPassword = (props: Props) => {\n  const { isForgotPasswordEnabled } = useForgotPasswordSettings();\n\n  return isForgotPasswordEnabled ? (\n    <SetPasswordLite {...props} />\n  ) : (\n    <SetPasswordStandard {...props} />\n  );\n};\n\nexport default SetPassword;\n","import { useContext } from 'react';\n\nimport { ConfirmModalContext } from '@/Providers/ConfirmModalProvider';\n\n/**\n * Hook for using the promise-based confirm modal\n *\n * @returns An object with a `show` method that returns a promise\n *\n * Example:\n * ```ts\n * const { show } = usePromiseConfirmModal();\n * const [result] = await show({ ModalContent: 'Are you sure?' });\n * if (result) {\n *   // User confirmed\n * }\n *```\n */\nexport const usePromiseConfirmModal = () => {\n  const { showPromise } = useContext(ConfirmModalContext);\n\n  return { show: showPromise };\n};\n\n/**\n * Hook for using the callback-based confirm modal\n *\n * @returns An object with a `show` method that accepts callbacks\n *\n * Example:\n * ```ts\n * const { show } = useConfirmModal();\n * show({\n *  ModalContent: 'Are you sure?',\n *  onConfirm: async () => {\n *    // This will automatically set the confirm button to loading state\n *    await someAsyncOperation();\n *  },\n *  onCancel: async () => {\n *    // This will automatically set the cancel button to loading state\n *    await someAsyncOperation();\n *  }\n * });\n * ```\n */\nexport const useConfirmModal = () => {\n  const { showCallback } = useContext(ConfirmModalContext);\n\n  return { show: showCallback };\n};\n","import { type PasswordRejectionCode, type PasswordIssue } from '@logto/core-kit';\nimport { type RequestErrorBody } from '@logto/schemas';\nimport { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\n/**\n * Return an object with two functions for getting the error message from an array of {@link PasswordIssue} or a {@link RequestErrorBody}.\n */\nconst usePasswordErrorMessage = () => {\n  const { t } = useTranslation();\n  const getErrorMessage = useCallback(\n    (issues: PasswordIssue[]) => {\n      // Errors that should be displayed first and alone\n      const singleDisplayError = (\n        [\n          'unsupported_characters',\n          'too_short',\n          'character_types',\n          'too_long',\n          'pwned',\n        ] satisfies PasswordRejectionCode[]\n      )\n        .map((code) => issues.find((issue) => issue.code === `password_rejected.${code}`))\n        .find(Boolean);\n\n      if (singleDisplayError) {\n        return t(`error.${singleDisplayError.code}`, singleDisplayError.interpolation ?? {});\n      }\n\n      // The `restricted` errors should be displayed together\n      const restrictedErrors = issues\n        .filter((issue): issue is PasswordIssue<`restricted.${string}` & PasswordRejectionCode> =>\n          issue.code.startsWith('password_rejected.restricted.')\n        )\n        .map((issue) => t(`error.${issue.code}`));\n\n      if (restrictedErrors.length > 0) {\n        return t('error.password_rejected.restricted_found', {\n          list: restrictedErrors,\n        });\n      }\n    },\n    [t]\n  );\n\n  const getErrorMessageFromBody = useCallback(\n    (error: RequestErrorBody) => {\n      if (error.code === 'password.rejected') {\n        // eslint-disable-next-line no-restricted-syntax -- trust the type from the server if the code matches\n        return getErrorMessage(error.data as PasswordIssue[]) ?? error.message;\n      }\n    },\n    [getErrorMessage]\n  );\n\n  return {\n    /**\n     * Get the error message from an array of {@link PasswordIssue}.\n     * If the array is empty or the error is not recognized, `undefined` is returned.\n     */\n    getErrorMessage,\n    /**\n     * Get the error message from a {@link RequestErrorBody}.\n     *\n     * First, it will check if the error code is `password.rejected`:\n     * - If so, it will assume `error.data` is an array of {@link PasswordIssue}, then it will call\n     * {@link getErrorMessage} with the array;\n     *   - If the result is `undefined`, it will directly return the error message from the body.\n     * - Otherwise, it will return `undefined`.\n     */\n    getErrorMessageFromBody,\n  };\n};\n\nexport default usePasswordErrorMessage;\n","import { useCallback } from 'react';\n\nimport usePasswordErrorMessage from './use-password-error-message';\nimport { usePasswordPolicy } from './use-sie';\n\ntype Options = {\n  setErrorMessage: (message?: string) => void;\n};\n\nconst usePasswordPolicyChecker = ({ setErrorMessage }: Options) => {\n  const { getErrorMessage } = usePasswordErrorMessage();\n  const { policyChecker } = usePasswordPolicy();\n\n  const checkPassword = useCallback(\n    async (password: string) => {\n      // Perform fast check before sending request\n      const fastCheckErrorMessage = getErrorMessage(policyChecker.fastCheck(password));\n\n      if (fastCheckErrorMessage) {\n        setErrorMessage(fastCheckErrorMessage);\n        return false;\n      }\n\n      return true;\n    },\n    [getErrorMessage, policyChecker, setErrorMessage]\n  );\n\n  return checkPassword;\n};\n\nexport default usePasswordPolicyChecker;\n","import { type RequestErrorBody } from '@logto/schemas';\nimport { useCallback, useMemo } from 'react';\n\nimport type { ErrorHandlers } from './use-error-handler';\nimport usePasswordErrorMessage from './use-password-error-message';\n\ntype Options = {\n  setErrorMessage: (message?: string) => void;\n};\n\nconst usePasswordRejectionErrorHandler = ({ setErrorMessage }: Options) => {\n  const { getErrorMessageFromBody } = usePasswordErrorMessage();\n\n  const passwordRejectionHandler = useCallback(\n    (error: RequestErrorBody) => {\n      setErrorMessage(getErrorMessageFromBody(error));\n    },\n    [getErrorMessageFromBody, setErrorMessage]\n  );\n\n  const passwordRejectionErrorHandler = useMemo<ErrorHandlers>(\n    () => ({\n      'password.rejected': passwordRejectionHandler,\n    }),\n    [passwordRejectionHandler]\n  );\n\n  return passwordRejectionErrorHandler;\n};\n\nexport default usePasswordRejectionErrorHandler;\n","import { type RequestErrorBody } from '@logto/schemas';\nimport { useCallback, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { usePromiseConfirmModal } from './use-confirm-modal';\nimport { type ErrorHandlers } from './use-error-handler';\n\nconst useEmailBlockedErrorHandler = (): ErrorHandlers => {\n  const navigate = useNavigate();\n  const { show } = usePromiseConfirmModal();\n\n  const errorCallback = useCallback(\n    async (error: RequestErrorBody) => {\n      await show({\n        type: 'alert',\n        ModalContent: error.message,\n        cancelText: 'action.got_it',\n      });\n      navigate(-1);\n    },\n    [navigate, show]\n  );\n\n  return useMemo<ErrorHandlers>(\n    () => ({\n      'session.email_blocklist.email_not_allowed': errorCallback,\n      'session.email_blocklist.email_subaddressing_not_allowed': errorCallback,\n    }),\n    [errorCallback]\n  );\n};\n\nexport default useEmailBlockedErrorHandler;\n","import { MfaFactor, VerificationType } from '@logto/schemas';\nimport { useCallback, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport { createBackupCode } from '@/apis/experience';\nimport { UserMfaFlow } from '@/types';\nimport { type BackupCodeBindingState } from '@/types/guard';\n\nimport useApi from './use-api';\nimport useErrorHandler from './use-error-handler';\n\nconst useStartBackupCodeBinding = () => {\n  const navigate = useNavigate();\n  const generateBackUpCodes = useApi(createBackupCode);\n  const { setVerificationId } = useContext(UserInteractionContext);\n\n  const handleError = useErrorHandler();\n\n  return useCallback(\n    async (replace?: boolean) => {\n      const [error, result] = await generateBackUpCodes();\n\n      if (error) {\n        await handleError(error);\n        return;\n      }\n\n      if (!result) {\n        return;\n      }\n\n      const { verificationId, codes } = result;\n      setVerificationId(VerificationType.BackupCode, verificationId);\n\n      navigate(\n        { pathname: `/${UserMfaFlow.MfaBinding}/${MfaFactor.BackupCode}` },\n        { replace, state: { codes } satisfies BackupCodeBindingState }\n      );\n    },\n    [generateBackUpCodes, handleError, navigate, setVerificationId]\n  );\n};\n\nexport default useStartBackupCodeBinding;\n","import { MfaFactor, VerificationType } from '@logto/schemas';\nimport { useCallback, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport { createTotpSecret } from '@/apis/experience';\nimport useApi from '@/hooks/use-api';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport { UserMfaFlow } from '@/types';\nimport { type MfaFlowState, type TotpBindingState } from '@/types/guard';\n\nconst useStartTotpBinding = () => {\n  const navigate = useNavigate();\n  const asyncCreateTotpSecret = useApi(createTotpSecret);\n  const { setVerificationId } = useContext(UserInteractionContext);\n\n  const handleError = useErrorHandler();\n\n  return useCallback(\n    async (flowState: MfaFlowState, replace?: boolean) => {\n      const [error, result] = await asyncCreateTotpSecret();\n\n      if (error) {\n        await handleError(error);\n        return;\n      }\n\n      if (result) {\n        const { secret, secretQrCode, verificationId } = result;\n        const state: TotpBindingState = {\n          secret,\n          secretQrCode,\n          ...flowState,\n        };\n\n        setVerificationId(VerificationType.TOTP, verificationId);\n\n        navigate({ pathname: `/${UserMfaFlow.MfaBinding}/${MfaFactor.TOTP}` }, { replace, state });\n      }\n    },\n    [asyncCreateTotpSecret, handleError, navigate, setVerificationId]\n  );\n};\n\nexport default useStartTotpBinding;\n","import { MfaFactor, VerificationType } from '@logto/schemas';\nimport { useCallback, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport { createWebAuthnRegistration, createWebAuthnAuthentication } from '@/apis/experience';\nimport { UserMfaFlow } from '@/types';\nimport { type WebAuthnState, type MfaFlowState } from '@/types/guard';\n\nimport useApi from './use-api';\nimport useErrorHandler from './use-error-handler';\n\nconst useStartWebAuthnProcessing = () => {\n  const navigate = useNavigate();\n  const asyncCreateRegistrationOptions = useApi(createWebAuthnRegistration);\n  const asyncGenerateAuthnOptions = useApi(createWebAuthnAuthentication);\n  const handleError = useErrorHandler();\n  const { setVerificationId } = useContext(UserInteractionContext);\n\n  return useCallback(\n    async (flow: UserMfaFlow, flowState: MfaFlowState, replace?: boolean) => {\n      const [error, result] =\n        flow === UserMfaFlow.MfaBinding\n          ? await asyncCreateRegistrationOptions()\n          : await asyncGenerateAuthnOptions();\n\n      if (error) {\n        await handleError(error);\n        return;\n      }\n\n      if (result) {\n        const { verificationId, options } = result;\n        setVerificationId(VerificationType.WebAuthn, verificationId);\n\n        const state: WebAuthnState = {\n          options,\n          ...flowState,\n        };\n\n        navigate({ pathname: `/${flow}/${MfaFactor.WebAuthn}` }, { replace, state });\n      }\n    },\n    [\n      asyncCreateRegistrationOptions,\n      asyncGenerateAuthnOptions,\n      handleError,\n      navigate,\n      setVerificationId,\n    ]\n  );\n};\n\nexport default useStartWebAuthnProcessing;\n","import { MfaFactor, type RequestErrorBody } from '@logto/schemas';\nimport { useCallback, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\nimport { validate } from 'superstruct';\n\nimport { UserMfaFlow } from '@/types';\nimport { type MfaFlowState, mfaErrorDataGuard } from '@/types/guard';\nimport { isNativeWebview } from '@/utils/native-sdk';\n\nimport type { ErrorHandlers } from './use-error-handler';\nimport useStartBackupCodeBinding from './use-start-backup-code-binding';\nimport useStartTotpBinding from './use-start-totp-binding';\nimport useStartWebAuthnProcessing from './use-start-webauthn-processing';\nimport useToast from './use-toast';\n\nexport type Options = {\n  /** Whether to replace the current page in the history stack on navigation. */\n  replace?: boolean;\n};\n\nconst useMfaErrorHandler = ({ replace }: Options = {}) => {\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const { setToast } = useToast();\n  const startTotpBinding = useStartTotpBinding();\n  const startWebAuthnProcessing = useStartWebAuthnProcessing();\n  const startBackupCodeBinding = useStartBackupCodeBinding();\n\n  /**\n   * Redirect the user to the corresponding MFA page.\n   *\n   * Binding pages are hosted on following routes:\n   * - /{@link UserMfaFlow.MfaBinding} List of available MFA factors for binding.\n   * - /{@link UserMfaFlow.MfaBinding}/{@link MfaFactor} Binding page for the specific factor.\n   *\n   * Verification pages are hosted on following routes:\n   * - /{@link UserMfaFlow.MfaVerification} List of available MFA factors for verification.\n   * - /{@link UserMfaFlow.MfaVerification}/{@link MfaFactor} Verification page for the specific factor.\n   *\n   * Redirection rules:\n   * - If there is only one available factor, redirect to the specific MFA factor page.\n   * - If there are multiple available factors:\n   *    - Binding: redirect to the available factors list page.\n   *    - Verification: redirect to the last used specific factor page.\n   */\n  const handleMfaRedirect = useCallback(\n    async (flow: UserMfaFlow, state: MfaFlowState) => {\n      const { availableFactors } = state;\n\n      if (availableFactors.length > 1 && flow === UserMfaFlow.MfaBinding) {\n        /**\n         * Redirect to the MFA binding page if there are multiple available factors.\n         */\n        navigate({ pathname: `/${flow}` }, { replace, state });\n        return;\n      }\n\n      /**\n       * For verification: the first available factor is the last used factor which is guaranteed by the backend.\n       * For binding: the first available factor is the only available factor since we handle the multiple factors case above.\n       */\n      const factor = availableFactors[0];\n\n      if (!factor) {\n        /**\n         * This should never happen since we check the available factors' length before handling the redirection.\n         */\n        setToast(t('error.unknown'));\n        return;\n      }\n\n      if (factor === MfaFactor.TOTP && flow === UserMfaFlow.MfaBinding) {\n        /**\n         * Start TOTP binding process if only TOTP is available.\n         */\n        return startTotpBinding(state, replace);\n      }\n\n      if (factor === MfaFactor.WebAuthn) {\n        /**\n         * Start WebAuthn processing if only TOTP is available.\n         */\n        return startWebAuthnProcessing(flow, state, replace);\n      }\n\n      /**\n       * Redirect to the specific MFA factor page.\n       */\n      navigate({ pathname: `/${flow}/${factor}` }, { replace, state });\n    },\n    [navigate, replace, setToast, startTotpBinding, startWebAuthnProcessing, t]\n  );\n\n  const handleMfaError = useCallback(\n    (flow: UserMfaFlow) => {\n      return async (error: RequestErrorBody) => {\n        const [_, data] = validate(error.data, mfaErrorDataGuard);\n        const factors = data?.availableFactors ?? [];\n        const skippable = data?.skippable;\n\n        if (factors.length === 0) {\n          setToast(error.message);\n          return;\n        }\n\n        const availableFactors =\n          // Hide the webauthn factor on native webview if the user has other options, since it's not supported.\n          isNativeWebview() && factors.length > 1\n            ? factors.filter((factor) => factor !== MfaFactor.WebAuthn)\n            : factors;\n\n        await handleMfaRedirect(flow, { availableFactors, skippable });\n      };\n    },\n    [handleMfaRedirect, setToast]\n  );\n\n  const mfaVerificationErrorHandler = useMemo<ErrorHandlers>(\n    () => ({\n      'user.missing_mfa': handleMfaError(UserMfaFlow.MfaBinding),\n      'session.mfa.require_mfa_verification': handleMfaError(UserMfaFlow.MfaVerification),\n      'session.mfa.backup_code_required': async () => startBackupCodeBinding(replace),\n    }),\n    [handleMfaError, replace, startBackupCodeBinding]\n  );\n\n  return mfaVerificationErrorHandler;\n};\n\nexport default useMfaErrorHandler;\n","import { InteractionEvent, MissingProfile } from '@logto/schemas';\nimport { useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { validate } from 'superstruct';\n\nimport { UserFlow, SearchParameters, type ContinueFlowInteractionEvent } from '@/types';\nimport { missingProfileErrorDataGuard } from '@/types/guard';\nimport { queryStringify } from '@/utils';\n\nimport type { ErrorHandlers } from './use-error-handler';\nimport useToast from './use-toast';\n\nexport type Options = {\n  replace?: boolean;\n  linkSocial?: string;\n  /**\n   * We use this param to track the current profile fulfillment flow.\n   * If is UserFlow.Register, we need to call the identify endpoint after the user completes the profile.\n   * If is UserFlow.SignIn, directly call the submitInteraction endpoint.\n   **/\n  interactionEvent?: ContinueFlowInteractionEvent;\n};\n\nconst useRequiredProfileErrorHandler = ({\n  replace,\n  linkSocial,\n  interactionEvent = InteractionEvent.SignIn,\n}: Options = {}) => {\n  const navigate = useNavigate();\n  const { setToast } = useToast();\n\n  const requiredProfileErrorHandler = useMemo<ErrorHandlers>(\n    () => ({\n      'user.missing_profile': (error) => {\n        const [, data] = validate(error.data, missingProfileErrorDataGuard);\n\n        // Required as a sign up method but missing in the user profile\n        const missingProfile = data?.missingProfile[0];\n\n        const linkSocialQueryString = linkSocial\n          ? `?${queryStringify({ [SearchParameters.LinkSocial]: linkSocial })}`\n          : undefined;\n\n        switch (missingProfile) {\n          case MissingProfile.password:\n          case MissingProfile.username: {\n            navigate(\n              {\n                pathname: `/${UserFlow.Continue}/${missingProfile}`,\n              },\n              { replace, state: { interactionEvent } }\n            );\n            break;\n          }\n          case MissingProfile.email:\n          case MissingProfile.phone:\n          case MissingProfile.emailOrPhone: {\n            navigate(\n              {\n                pathname: `/${UserFlow.Continue}/${missingProfile}`,\n                search: linkSocialQueryString,\n              },\n              { replace, state: { interactionEvent } }\n            );\n            break;\n          }\n\n          default: {\n            setToast(error.message);\n            break;\n          }\n        }\n      },\n    }),\n    [interactionEvent, linkSocial, navigate, replace, setToast]\n  );\n\n  return requiredProfileErrorHandler;\n};\n\nexport default useRequiredProfileErrorHandler;\n","import { useMemo } from 'react';\n\nimport { type ContinueFlowInteractionEvent } from '@/types';\n\nimport useEmailBlockedErrorHandler from './use-email-blocked-error-handler';\nimport { type ErrorHandlers } from './use-error-handler';\nimport useMfaErrorHandler, {\n  type Options as UseMfaVerificationErrorHandlerOptions,\n} from './use-mfa-error-handler';\nimport useRequiredProfileErrorHandler, {\n  type Options as UseRequiredProfileErrorHandlerOptions,\n} from './use-required-profile-error-handler';\n\ntype Options = Omit<UseRequiredProfileErrorHandlerOptions, 'interactionEvent'> &\n  UseMfaVerificationErrorHandlerOptions;\n\n/**\n * Error handlers for sign-in and registration interaction submissions.\n * Handles both profile completion and MFA verification requirements.\n *\n * Flow:\n * - Sign-in: Profile completion and MFA verification are triggered during interaction submission\n * - Register: Profile completion is triggered during user creation (identification phase)\n */\nconst useSubmitInteractionErrorHandler = (\n  /**\n   * Current interaction event 'SignIn' or 'Register'.\n   * This value is passed to the profile fulfillment flow\n   * when additional user profile information is required.\n   */\n  interactionEvent: ContinueFlowInteractionEvent,\n  { replace, ...rest }: Options = {}\n): ErrorHandlers => {\n  const requiredProfileErrorHandler = useRequiredProfileErrorHandler({\n    replace,\n    interactionEvent,\n    ...rest,\n  });\n  const mfaErrorHandler = useMfaErrorHandler({ replace });\n  const emailBlockedErrorHandler = useEmailBlockedErrorHandler();\n\n  return useMemo(\n    () => ({\n      ...emailBlockedErrorHandler,\n      ...requiredProfileErrorHandler,\n      ...mfaErrorHandler,\n    }),\n    [emailBlockedErrorHandler, mfaErrorHandler, requiredProfileErrorHandler]\n  );\n};\n\nexport default useSubmitInteractionErrorHandler;\n","import { useCallback, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport { fulfillProfile } from '@/apis/experience';\nimport SetPasswordForm from '@/containers/SetPassword';\nimport useApi from '@/hooks/use-api';\nimport { usePromiseConfirmModal } from '@/hooks/use-confirm-modal';\nimport type { ErrorHandlers } from '@/hooks/use-error-handler';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport useGlobalRedirectTo from '@/hooks/use-global-redirect-to';\nimport usePasswordPolicyChecker from '@/hooks/use-password-policy-checker';\nimport usePasswordRejectionErrorHandler from '@/hooks/use-password-rejection-handler';\nimport { usePasswordPolicy } from '@/hooks/use-sie';\nimport useSubmitInteractionErrorHandler from '@/hooks/use-submit-interaction-error-handler';\nimport { type ContinueFlowInteractionEvent } from '@/types';\n\ntype Props = {\n  readonly interactionEvent: ContinueFlowInteractionEvent;\n};\n\nconst SetPassword = ({ interactionEvent }: Props) => {\n  const [errorMessage, setErrorMessage] = useState<string>();\n\n  const clearErrorMessage = useCallback(() => {\n    setErrorMessage(undefined);\n  }, []);\n\n  const navigate = useNavigate();\n  const { show } = usePromiseConfirmModal();\n  const redirectTo = useGlobalRedirectTo();\n\n  const checkPassword = usePasswordPolicyChecker({ setErrorMessage });\n  const addPassword = useApi(fulfillProfile);\n  const handleError = useErrorHandler();\n\n  const passwordRejectionErrorHandler = usePasswordRejectionErrorHandler({ setErrorMessage });\n  const submitInteractionErrorHandler = useSubmitInteractionErrorHandler(interactionEvent, {\n    replace: true,\n  });\n\n  const errorHandlers: ErrorHandlers = useMemo(\n    () => ({\n      'user.password_exists_in_profile': async (error) => {\n        await show({ type: 'alert', ModalContent: error.message, cancelText: 'action.got_it' });\n        navigate(-1);\n      },\n      ...submitInteractionErrorHandler,\n      ...passwordRejectionErrorHandler,\n    }),\n    [navigate, passwordRejectionErrorHandler, submitInteractionErrorHandler, show]\n  );\n\n  const onSubmitHandler = useCallback(\n    async (password: string) => {\n      const success = await checkPassword(password);\n\n      if (!success) {\n        return;\n      }\n\n      const [error, result] = await addPassword(\n        { type: 'password', value: password },\n        interactionEvent\n      );\n\n      if (error) {\n        await handleError(error, errorHandlers);\n        return;\n      }\n\n      if (result?.redirectTo) {\n        await redirectTo(result.redirectTo);\n      }\n    },\n    [addPassword, checkPassword, errorHandlers, interactionEvent, handleError, redirectTo]\n  );\n\n  const {\n    policy: {\n      length: { min, max },\n      characterTypes: { min: count },\n    },\n    requirementsDescription,\n  } = usePasswordPolicy();\n\n  return (\n    <SecondaryPageLayout\n      title=\"description.set_password\"\n      description={requirementsDescription && <span>{requirementsDescription}</span>}\n      descriptionProps={{ min, count }}\n    >\n      <SetPasswordForm\n        autoFocus\n        errorMessage={errorMessage}\n        maxLength={max}\n        clearErrorMessage={clearErrorMessage}\n        onSubmit={onSubmitHandler}\n      />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default SetPassword;\n","import { SignInIdentifier } from '@logto/schemas';\nimport { useCallback, useMemo, useState } from 'react';\n\nimport { fulfillProfile } from '@/apis/experience';\nimport useApi from '@/hooks/use-api';\nimport type { ErrorHandlers } from '@/hooks/use-error-handler';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport useGlobalRedirectTo from '@/hooks/use-global-redirect-to';\nimport useSubmitInteractionErrorHandler from '@/hooks/use-submit-interaction-error-handler';\nimport { type ContinueFlowInteractionEvent } from '@/types';\n\nconst useSetUsername = (interactionEvent: ContinueFlowInteractionEvent) => {\n  const [errorMessage, setErrorMessage] = useState<string>();\n\n  const clearErrorMessage = useCallback(() => {\n    setErrorMessage('');\n  }, []);\n\n  const asyncAddProfile = useApi(fulfillProfile);\n  const handleError = useErrorHandler();\n  const redirectTo = useGlobalRedirectTo();\n\n  const submitInteractionErrorHandler = useSubmitInteractionErrorHandler(interactionEvent);\n\n  const errorHandlers: ErrorHandlers = useMemo(\n    () => ({\n      'user.username_already_in_use': (error) => {\n        setErrorMessage(error.message);\n      },\n      ...submitInteractionErrorHandler,\n    }),\n    [submitInteractionErrorHandler]\n  );\n\n  const onSubmit = useCallback(\n    async (username: string) => {\n      const [error, result] = await asyncAddProfile(\n        { type: SignInIdentifier.Username, value: username },\n        interactionEvent\n      );\n\n      if (error) {\n        await handleError(error, errorHandlers);\n\n        return;\n      }\n\n      if (result?.redirectTo) {\n        await redirectTo(result.redirectTo);\n      }\n    },\n    [asyncAddProfile, errorHandlers, handleError, interactionEvent, redirectTo]\n  );\n\n  return { errorMessage, clearErrorMessage, onSubmit };\n};\n\nexport default useSetUsername;\n","import { SignInIdentifier } from '@logto/schemas';\nimport { useContext } from 'react';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport { type ContinueFlowInteractionEvent } from '@/types';\n\nimport IdentifierProfileForm from '../IdentifierProfileForm';\n\nimport useSetUsername from './use-set-username';\n\ntype Props = {\n  readonly interactionEvent: ContinueFlowInteractionEvent;\n};\n\nconst SetUsername = ({ interactionEvent }: Props) => {\n  const { onSubmit, errorMessage, clearErrorMessage } = useSetUsername(interactionEvent);\n\n  const { setIdentifierInputValue } = useContext(UserInteractionContext);\n\n  const handleSubmit = async (identifier: SignInIdentifier, value: string) => {\n    if (identifier !== SignInIdentifier.Username) {\n      return;\n    }\n\n    setIdentifierInputValue({ type: identifier, value });\n\n    return onSubmit(value);\n  };\n\n  return (\n    <SecondaryPageLayout\n      title=\"description.enter_username\"\n      description=\"description.enter_username_description\"\n    >\n      <IdentifierProfileForm\n        autoFocus\n        errorMessage={errorMessage}\n        clearErrorMessage={clearErrorMessage}\n        defaultType={SignInIdentifier.Username}\n        enabledTypes={[SignInIdentifier.Username]}\n        onSubmit={handleSubmit}\n      />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default SetUsername;\n","import { MissingProfile } from '@logto/schemas';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { validate } from 'superstruct';\n\nimport ErrorPage from '@/pages/ErrorPage';\nimport { continueFlowStateGuard } from '@/types/guard';\n\nimport SetEmailOrPhone from './SetEmailOrPhone';\nimport SetPassword from './SetPassword';\nimport SetUsername from './SetUsername';\n\ntype Parameters = {\n  method?: string;\n};\n\nconst Continue = () => {\n  const { method = '' } = useParams<Parameters>();\n  const { state } = useLocation();\n\n  const [, continueFlowState] = validate(state, continueFlowStateGuard);\n\n  if (!continueFlowState) {\n    return <ErrorPage title=\"error.invalid_session\" rawMessage=\"flow state not found\" />;\n  }\n\n  const { interactionEvent } = continueFlowState;\n\n  if (method === MissingProfile.password) {\n    return <SetPassword interactionEvent={interactionEvent} />;\n  }\n\n  if (method === MissingProfile.username) {\n    return <SetUsername interactionEvent={interactionEvent} />;\n  }\n\n  if (\n    method === MissingProfile.email ||\n    method === MissingProfile.phone ||\n    method === MissingProfile.emailOrPhone\n  ) {\n    return <SetEmailOrPhone missingProfile={method} interactionEvent={interactionEvent} />;\n  }\n\n  return <ErrorPage />;\n};\n\nexport default Continue;\n","import { conditional } from '@silverhand/essentials';\nimport { useContext } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport TermsLinks from '@/components/TermsLinks';\n\n// Used by useTerms hook to display the terms and privacy policy confirmation modal\n// This component should be used as the ModalContent prop in the useConfirmModal hook\nconst TermsAndPrivacyConfirmModalContent = () => {\n  const { experienceSettings } = useContext(PageContext);\n  const { termsOfUseUrl, privacyPolicyUrl } = experienceSettings ?? {};\n\n  const { t } = useTranslation();\n\n  return (\n    <Trans\n      components={{\n        link: (\n          <TermsLinks\n            inline\n            linkType=\"primary\"\n            termsOfUseUrl={conditional(termsOfUseUrl)}\n            privacyPolicyUrl={conditional(privacyPolicyUrl)}\n          />\n        ),\n      }}\n    >\n      {t('description.agree_with_terms_modal')}\n    </Trans>\n  );\n};\n\nexport default TermsAndPrivacyConfirmModalContent;\n","import { AgreeToTermsPolicy } from '@logto/schemas';\nimport { conditional } from '@silverhand/essentials';\nimport { useCallback, useContext, useMemo } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport TermsAndPrivacyConfirmModalContent from '@/containers/TermsAndPrivacyConfirmModalContent';\n\nimport { usePromiseConfirmModal } from './use-confirm-modal';\n\nconst useTerms = () => {\n  const { termsAgreement, setTermsAgreement, experienceSettings } = useContext(PageContext);\n  const { show } = usePromiseConfirmModal();\n\n  const { termsOfUseUrl, privacyPolicyUrl, isTermsDisabled, agreeToTermsPolicy } = useMemo(() => {\n    const { termsOfUseUrl, privacyPolicyUrl, agreeToTermsPolicy } = experienceSettings ?? {};\n    const isTermsDisabled = !termsOfUseUrl && !privacyPolicyUrl;\n\n    return {\n      termsOfUseUrl: conditional(termsOfUseUrl),\n      privacyPolicyUrl: conditional(privacyPolicyUrl),\n      isTermsDisabled,\n      agreeToTermsPolicy,\n    };\n  }, [experienceSettings]);\n\n  const termsAndPrivacyConfirmModalHandler = useCallback(async () => {\n    const [result] = await show({\n      ModalContent: TermsAndPrivacyConfirmModalContent,\n      confirmText: 'action.agree',\n    });\n\n    // Update the local terms status\n    if (result) {\n      setTermsAgreement(true);\n    }\n\n    return result;\n  }, [setTermsAgreement, show]);\n\n  const termsValidation = useCallback(async () => {\n    if (termsAgreement || isTermsDisabled || agreeToTermsPolicy === AgreeToTermsPolicy.Automatic) {\n      return true;\n    }\n\n    return termsAndPrivacyConfirmModalHandler();\n  }, [termsAgreement, isTermsDisabled, agreeToTermsPolicy, termsAndPrivacyConfirmModalHandler]);\n\n  return {\n    termsOfUseUrl,\n    privacyPolicyUrl,\n    termsAgreement,\n    isTermsDisabled,\n    agreeToTermsPolicy,\n    termsValidation,\n    setTermsAgreement,\n    termsAndPrivacyConfirmModalHandler,\n  };\n};\n\nexport default useTerms;\n","import {\n  AgreeToTermsPolicy,\n  ConnectorPlatform,\n  VerificationType,\n  type ExperienceSocialConnector,\n} from '@logto/schemas';\nimport { useCallback, useContext } from 'react';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport { getSocialAuthorizationUrl } from '@/apis/experience';\nimport useApi from '@/hooks/use-api';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport useGlobalRedirectTo from '@/hooks/use-global-redirect-to';\nimport useTerms from '@/hooks/use-terms';\nimport { getLogtoNativeSdk, isNativeWebview } from '@/utils/native-sdk';\nimport { generateState, storeState, buildSocialLandingUri } from '@/utils/social-connectors';\n\nconst useSocial = () => {\n  const { experienceSettings, theme } = useContext(PageContext);\n\n  const handleError = useErrorHandler();\n  const asyncInvokeSocialSignIn = useApi(getSocialAuthorizationUrl);\n  const { termsValidation, agreeToTermsPolicy } = useTerms();\n  const { setVerificationId } = useContext(UserInteractionContext);\n\n  const redirectTo = useGlobalRedirectTo({\n    shouldClearInteractionContextSession: false,\n    isReplace: false,\n  });\n\n  const nativeSignInHandler = useCallback(\n    (redirectTo: string, connector: ExperienceSocialConnector) => {\n      const { id: connectorId, platform } = connector;\n\n      const redirectUri =\n        platform === ConnectorPlatform.Universal\n          ? buildSocialLandingUri(`/social/landing/${connectorId}`, redirectTo).toString()\n          : redirectTo;\n\n      getLogtoNativeSdk()?.getPostMessage()({\n        callbackUri: `${window.location.origin}/callback/social/${connectorId}`,\n        redirectTo: redirectUri,\n      });\n    },\n    []\n  );\n\n  const invokeSocialSignInHandler = useCallback(\n    async (connector: ExperienceSocialConnector) => {\n      /**\n       * Check if the user has agreed to the terms and privacy policy before navigating to the 3rd-party social sign-in page\n       * when the policy is set to `Manual`\n       */\n      if (agreeToTermsPolicy === AgreeToTermsPolicy.Manual && !(await termsValidation())) {\n        return;\n      }\n\n      const { id: connectorId } = connector;\n\n      const state = generateState();\n      storeState(state, connectorId);\n\n      const [error, result] = await asyncInvokeSocialSignIn(\n        connectorId,\n        state,\n        `${window.location.origin}/callback/${connectorId}`\n      );\n\n      if (error) {\n        await handleError(error);\n\n        return;\n      }\n\n      if (!result) {\n        return;\n      }\n\n      const { verificationId, authorizationUri } = result;\n\n      setVerificationId(VerificationType.Social, verificationId);\n\n      // Invoke native social sign-in flow\n      if (isNativeWebview()) {\n        nativeSignInHandler(authorizationUri, connector);\n\n        return;\n      }\n\n      // Invoke web social sign-in flow\n      await redirectTo(authorizationUri);\n    },\n    [\n      agreeToTermsPolicy,\n      asyncInvokeSocialSignIn,\n      handleError,\n      nativeSignInHandler,\n      redirectTo,\n      setVerificationId,\n      termsValidation,\n    ]\n  );\n\n  return {\n    theme,\n    socialConnectors: experienceSettings?.socialConnectors ?? [],\n    invokeSocialSignIn: invokeSocialSignInHandler,\n  };\n};\n\nexport default useSocial;\n","import { experience } from '@logto/schemas';\nimport { useMemo } from 'react';\n\nconst useFallbackRoute = () =>\n  useMemo(() => {\n    const fallbackKey = new URLSearchParams(window.location.search).get('fallback');\n    return (\n      Object.entries(experience.routes).find(([key]) => key === fallbackKey)?.[1] ??\n      experience.routes.signIn\n    );\n  }, []);\n\nexport default useFallbackRoute;\n","import { VerificationType } from '@logto/schemas';\nimport { useCallback, useContext } from 'react';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport { getSsoAuthorizationUrl } from '@/apis/experience';\nimport useApi from '@/hooks/use-api';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport { getLogtoNativeSdk, isNativeWebview } from '@/utils/native-sdk';\nimport { buildSocialLandingUri, generateState, storeState } from '@/utils/social-connectors';\n\nimport useGlobalRedirectTo from './use-global-redirect-to';\n\nconst useSingleSignOn = () => {\n  const handleError = useErrorHandler();\n  const asyncInvokeSingleSignOn = useApi(getSsoAuthorizationUrl);\n  const redirectTo = useGlobalRedirectTo({\n    shouldClearInteractionContextSession: false,\n    isReplace: false,\n  });\n  const { setVerificationId } = useContext(UserInteractionContext);\n\n  /**\n   * Native IdP Sign In Flow\n   * @param redirectTo - The redirect uri to redirect after the IdP Sign In flow (Need for OIDC Code Flow)\n   *\n   * @remarks In Native we need to open a new window to invoke the IdP Sign In flow (safariViewController in iOS and Custom Tabs in Android)\n   * Forked from @see `hooks/user-social.ts`\n   *\n   */\n  const nativeSignInHandler = useCallback((redirectTo: string, connectorId: string) => {\n    const redirectUri = buildSocialLandingUri(\n      `/social/landing/${connectorId}`,\n      redirectTo\n    ).toString();\n\n    getLogtoNativeSdk()?.getPostMessage()({\n      callbackUri: `${window.location.origin}/callback/social/${connectorId}`,\n      redirectTo: redirectUri,\n    });\n  }, []);\n\n  /**\n   * Invoke Single Sign On flow\n   * Get the Single Sign On url from the backend and redirect to it\n   */\n  return useCallback(\n    async (connectorId: string) => {\n      const state = generateState();\n      storeState(state, connectorId);\n\n      const [error, result] = await asyncInvokeSingleSignOn(connectorId, {\n        state,\n        redirectUri: `${window.location.origin}/callback/${connectorId}`,\n      });\n\n      if (error) {\n        await handleError(error);\n\n        return;\n      }\n\n      if (!result) {\n        return;\n      }\n\n      const { authorizationUri, verificationId } = result;\n\n      setVerificationId(VerificationType.EnterpriseSso, verificationId);\n\n      // Invoke Native Sign In flow\n      if (isNativeWebview()) {\n        nativeSignInHandler(authorizationUri, connectorId);\n      }\n\n      // Invoke Web Sign In flow\n      await redirectTo(authorizationUri);\n    },\n    [asyncInvokeSingleSignOn, handleError, nativeSignInHandler, redirectTo, setVerificationId]\n  );\n};\n\nexport default useSingleSignOn;\n","import { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { LoadingIconWithContainer } from '@/components/LoadingLayer';\nimport useSocial from '@/containers/SocialSignInList/use-social';\nimport useFallbackRoute from '@/hooks/use-fallback-route';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport useSingleSignOn from '@/hooks/use-single-sign-on';\n\nimport styles from './index.module.scss';\n\nconst DirectSignIn = () => {\n  const { method, target } = useParams();\n  const { socialConnectors, ssoConnectors } = useSieMethods();\n  const { invokeSocialSignIn } = useSocial();\n  const invokeSso = useSingleSignOn();\n  const fallback = useFallbackRoute();\n\n  useEffect(() => {\n    if (method === 'social') {\n      const social = socialConnectors.find((connector) => connector.target === target);\n      if (social) {\n        void invokeSocialSignIn(social);\n        return;\n      }\n    }\n\n    if (method === 'sso') {\n      const sso = ssoConnectors.find((connector) => connector.id === target);\n\n      if (sso) {\n        void invokeSso(sso.id);\n        return;\n      }\n    }\n\n    window.location.replace('/' + fallback);\n  }, [fallback, invokeSocialSignIn, invokeSso, method, socialConnectors, ssoConnectors, target]);\n\n  return (\n    <div className={styles.container}>\n      <LoadingIconWithContainer />\n    </div>\n  );\n};\nexport default DirectSignIn;\n","import { ExtraParamsKey } from '@logto/schemas';\nimport { useSearchParams } from 'react-router-dom';\n\nconst useLoginHint = () => {\n  const [searchParams] = useSearchParams();\n\n  return searchParams.get(ExtraParamsKey.LoginHint) ?? undefined;\n};\n\nexport default useLoginHint;\n","import { type SignInIdentifier } from '@logto/schemas';\nimport { type Optional } from '@silverhand/essentials';\nimport { useContext, useMemo } from 'react';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport {\n  type IdentifierInputType,\n  type IdentifierInputValue,\n} from '@/components/InputFields/SmartInputField';\n\nimport useLoginHint from './use-login-hint';\n\n/**\n * Retrieves the cached identifier input value that the user has inputted based on enabled types.\n * The value will be used to pre-fill the identifier input field in experience pages.\n *\n * @param {IdentifierInputValue} identifierInputValue - The identifier input value to be checked\n * @param {IdentifierInputType[]} enabledTypes - Array of enabled identifier types\n * @returns {IdentifierInputValue | undefined} The identifier input value object or undefined\n *\n * The function checks if the type of identifierInputValue is in the `enabledTypes` array,\n * if the type matches, it returns `identifierInputValue`; otherwise, it returns `undefined`\n *\n * Example:\n * ```ts\n * const value = getIdentifierInputValueByTypes(['email', 'phone']);\n * // Returns `identifierInputValue` if its type is 'email' or 'phone'\n * // Returns `undefined` otherwise\n * ```\n */\nconst getIdentifierInputValueByTypes = (\n  identifierInputValue: IdentifierInputValue,\n  enabledTypes: IdentifierInputType[]\n): Optional<IdentifierInputValue> => {\n  const { type } = identifierInputValue;\n  /**\n   * Check if the type is included in the enabledTypes array\n   * If it is, return identifierInputValue; otherwise, return undefined\n   */\n  return type && enabledTypes.includes(type) ? identifierInputValue : undefined;\n};\n\ntype Options = {\n  enabledIdentifiers?: SignInIdentifier[];\n  /**\n   * Whether the current page is the forgot password page\n   *\n   * Note: since a user may not use the same identifier to sign in and reset password,\n   * we need to distinguish between the two scenarios.\n   * E.g. the user may only use username to sign in, but only email or phone number can be used to reset password.\n   */\n  isForgotPassword?: boolean;\n};\n\nconst usePrefilledIdentifier = ({ enabledIdentifiers, isForgotPassword = false }: Options = {}) => {\n  const { identifierInputValue, forgotPasswordIdentifierInputValue } =\n    useContext(UserInteractionContext);\n\n  const loginHint = useLoginHint();\n\n  const cachedInputIdentifier = useMemo(() => {\n    const identifier = isForgotPassword ? forgotPasswordIdentifierInputValue : identifierInputValue;\n    /**\n     * If there's no identifier input value or no limitations for enabled identifiers,\n     * return the identifier input value as is (which might be undefined)\n     */\n    if (!identifier || !enabledIdentifiers) {\n      return identifier;\n    }\n\n    return getIdentifierInputValueByTypes(identifier, enabledIdentifiers);\n  }, [\n    enabledIdentifiers,\n    forgotPasswordIdentifierInputValue,\n    identifierInputValue,\n    isForgotPassword,\n  ]);\n\n  return useMemo<IdentifierInputValue>(() => {\n    /**\n     * First, check if there's a cached input identifier\n     * If there's no cached input identifier, check if there's a valid login hint\n     * If there's neither, return empty\n     */\n    return cachedInputIdentifier ?? { value: loginHint ?? '' };\n  }, [cachedInputIdentifier, loginHint]);\n};\n\nexport default usePrefilledIdentifier;\n","import { CaptchaType } from '@logto/schemas';\nimport { useContext } from 'react';\n\nimport CaptchaContext from '@/Providers/CaptchaContextProvider/CaptchaContext';\n\nimport styles from './index.module.scss';\n\nconst CaptchaBox = () => {\n  const { captchaConfig, widgetRef, isCaptchaRequired } = useContext(CaptchaContext);\n\n  // Currently only Turnstile needs a widget to be rendered\n  if (!isCaptchaRequired || captchaConfig?.type !== CaptchaType.Turnstile) {\n    return null;\n  }\n\n  return <div ref={widgetRef} className={styles.captchaBox} />;\n};\n\nexport default CaptchaBox;\n","import classNames from 'classnames';\nimport { useCallback, useContext, useEffect } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport Button from '@/components/Button';\nimport ErrorMessage from '@/components/ErrorMessage';\nimport { SmartInputField } from '@/components/InputFields';\nimport CaptchaBox from '@/containers/CaptchaBox';\nimport useSendVerificationCode from '@/hooks/use-send-verification-code';\nimport type { VerificationCodeIdentifier } from '@/types';\nimport { UserFlow } from '@/types';\nimport { getGeneralIdentifierErrorMessage, validateIdentifierField } from '@/utils/form';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly className?: string;\n  // eslint-disable-next-line react/boolean-prop-naming\n  readonly autoFocus?: boolean;\n  readonly defaultValue?: string;\n  readonly enabledTypes: VerificationCodeIdentifier[];\n};\n\ntype FormState = {\n  identifier: {\n    type?: VerificationCodeIdentifier;\n    value: string;\n  };\n};\n\nconst ForgotPasswordForm = ({ className, autoFocus, defaultValue = '', enabledTypes }: Props) => {\n  const { t } = useTranslation();\n  const { errorMessage, clearErrorMessage, onSubmit } = useSendVerificationCode(\n    UserFlow.ForgotPassword\n  );\n\n  const { setForgotPasswordIdentifierInputValue } = useContext(UserInteractionContext);\n\n  const {\n    handleSubmit,\n    control,\n    formState: { errors, isValid, isSubmitting },\n  } = useForm<FormState>({\n    reValidateMode: 'onBlur',\n    defaultValues: {\n      identifier: {\n        value: defaultValue,\n      },\n    },\n  });\n\n  useEffect(() => {\n    if (!isValid) {\n      clearErrorMessage();\n    }\n  }, [clearErrorMessage, isValid]);\n\n  const onSubmitHandler = useCallback(\n    async (event?: React.FormEvent<HTMLFormElement>) => {\n      clearErrorMessage();\n\n      void handleSubmit(async ({ identifier: { type, value } }) => {\n        if (!type) {\n          return;\n        }\n\n        // Cache or update the forgot password identifier input value\n        setForgotPasswordIdentifierInputValue({ type, value });\n\n        await onSubmit({ identifier: type, value });\n      })(event);\n    },\n    [clearErrorMessage, handleSubmit, onSubmit, setForgotPasswordIdentifierInputValue]\n  );\n\n  return (\n    <form className={classNames(styles.form, className)} onSubmit={onSubmitHandler}>\n      <Controller\n        control={control}\n        name=\"identifier\"\n        rules={{\n          validate: (identifier) => {\n            const { type, value } = identifier;\n\n            if (!type || !value) {\n              return getGeneralIdentifierErrorMessage(enabledTypes, 'required');\n            }\n\n            const errorMessage = validateIdentifierField(type, value);\n\n            if (errorMessage) {\n              return typeof errorMessage === 'string'\n                ? t(`error.${errorMessage}`)\n                : t(`error.${errorMessage.code}`, errorMessage.data ?? {});\n            }\n\n            return true;\n          },\n        }}\n        render={({ field, formState: { defaultValues } }) => (\n          <SmartInputField\n            autoFocus={autoFocus}\n            className={styles.inputField}\n            {...field}\n            defaultValue={defaultValues?.identifier?.value}\n            isDanger={!!errors.identifier}\n            errorMessage={errors.identifier?.message}\n            enabledTypes={enabledTypes}\n          />\n        )}\n      />\n\n      {errorMessage && <ErrorMessage className={styles.formErrors}>{errorMessage}</ErrorMessage>}\n\n      <CaptchaBox />\n      <Button title=\"action.continue\" htmlType=\"submit\" isLoading={isSubmitting} />\n\n      <input hidden type=\"submit\" />\n    </form>\n  );\n};\n\nexport default ForgotPasswordForm;\n","import { useTranslation } from 'react-i18next';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport usePrefilledIdentifier from '@/hooks/use-prefilled-identifier';\nimport { useForgotPasswordSettings } from '@/hooks/use-sie';\nimport { identifierInputDescriptionMap } from '@/utils/form';\n\nimport ErrorPage from '../ErrorPage';\n\nimport ForgotPasswordForm from './ForgotPasswordForm';\n\nconst ForgotPassword = () => {\n  const { isForgotPasswordEnabled, enabledMethodSet } = useForgotPasswordSettings();\n  const { t } = useTranslation();\n  const enabledMethods = [...enabledMethodSet];\n  const { value: prefilledValue } = usePrefilledIdentifier({\n    enabledIdentifiers: enabledMethods,\n    isForgotPassword: true,\n  });\n\n  if (!isForgotPasswordEnabled) {\n    return <ErrorPage />;\n  }\n\n  return (\n    <SecondaryPageLayout\n      title=\"description.reset_password\"\n      description=\"description.reset_password_description\"\n      descriptionProps={{\n        types: enabledMethods.map((method) => t(identifierInputDescriptionMap[method])),\n      }}\n    >\n      <ForgotPasswordForm autoFocus defaultValue={prefilledValue} enabledTypes={enabledMethods} />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default ForgotPassword;\n","import { AgreeToTermsPolicy } from '@logto/schemas';\nimport { t } from 'i18next';\nimport { Trans } from 'react-i18next';\n\nimport TermsLinks from '@/components/TermsLinks';\nimport useTerms from '@/hooks/use-terms';\n\ntype Props = {\n  readonly className?: string;\n};\n\n// For sign-in page displaying terms and privacy links use only. No user interaction is needed.\nconst TermsAndPrivacyLinks = ({ className }: Props) => {\n  const { termsOfUseUrl, privacyPolicyUrl, isTermsDisabled, agreeToTermsPolicy } = useTerms();\n\n  if (isTermsDisabled) {\n    return null;\n  }\n\n  return (\n    <div className={className}>\n      {\n        // Display the automatic agreement message when the policy is set to `Automatic`\n        agreeToTermsPolicy === AgreeToTermsPolicy.Automatic ? (\n          <Trans\n            components={{\n              link: (\n                <TermsLinks\n                  inline\n                  termsOfUseUrl={termsOfUseUrl}\n                  privacyPolicyUrl={privacyPolicyUrl}\n                />\n              ),\n            }}\n          >\n            {t('description.auto_agreement')}\n          </Trans>\n        ) : (\n          <TermsLinks termsOfUseUrl={termsOfUseUrl} privacyPolicyUrl={privacyPolicyUrl} />\n        )\n      }\n    </div>\n  );\n};\n\nexport default TermsAndPrivacyLinks;\n","import { type AgreeToTermsPolicy } from '@logto/schemas';\nimport { type TFuncKey } from 'i18next';\nimport { useMemo, type ReactNode } from 'react';\n\nimport DynamicT from '@/components/DynamicT';\nimport type { Props as PageMetaProps } from '@/components/PageMeta';\nimport type { Props as TextLinkProps } from '@/components/TextLink';\nimport TextLink from '@/components/TextLink';\nimport TermsAndPrivacyLinks from '@/containers/TermsAndPrivacyLinks';\nimport useTerms from '@/hooks/use-terms';\n\nimport FirstScreenLayout from '../FirstScreenLayout';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly children: ReactNode;\n  readonly pageMeta: PageMetaProps;\n  readonly title: TFuncKey;\n  readonly description: string;\n  readonly footerTermsDisplayPolicies?: AgreeToTermsPolicy[];\n  readonly authOptionsLink: TextLinkProps;\n};\n\n/**\n * FocusedAuthPageLayout Component\n *\n * This layout component is designed for focused authentication pages that serve as the first screen\n * for specific auth methods, such as identifier sign-in, identifier-register, and single sign-on landing pages.\n */\nconst FocusedAuthPageLayout = ({\n  children,\n  pageMeta,\n  title,\n  description,\n  footerTermsDisplayPolicies = [],\n  authOptionsLink,\n}: Props) => {\n  const { agreeToTermsPolicy } = useTerms();\n\n  const shouldDisplayFooterTerms = useMemo(\n    () => agreeToTermsPolicy && footerTermsDisplayPolicies.includes(agreeToTermsPolicy),\n    [agreeToTermsPolicy, footerTermsDisplayPolicies]\n  );\n\n  return (\n    <FirstScreenLayout pageMeta={pageMeta}>\n      <div className={styles.header}>\n        <div className={styles.title}>\n          <DynamicT forKey={title} />\n        </div>\n        <div className={styles.description}>{description}</div>\n      </div>\n      {children}\n      {shouldDisplayFooterTerms && <TermsAndPrivacyLinks className={styles.terms} />}\n      <TextLink {...authOptionsLink} className={styles.link} />\n    </FirstScreenLayout>\n  );\n};\n\nexport default FocusedAuthPageLayout;\n","import { noop } from '@silverhand/essentials';\nimport { createContext } from 'react';\n\nexport type SingleSignOnFormModeContextType = {\n  showSingleSignOnForm: boolean;\n  setShowSingleSignOnForm: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\n/**\n * This context is used to share the single sign on identifier status cross the page and form components.\n * If the user has entered an identifier that is associated with a single sign on method, we will show the single sign on form.\n */\nconst SingleSignOnFormModeContext = createContext<SingleSignOnFormModeContextType>({\n  showSingleSignOnForm: false,\n  setShowSingleSignOnForm: noop,\n});\n\nexport default SingleSignOnFormModeContext;\n","import { useState, useMemo, type ReactNode } from 'react';\n\nimport SingleSignOnFormModeContext from './SingleSignOnFormModeContext';\n\nconst SingleSignOnFormModeContextProvider = ({ children }: { readonly children: ReactNode }) => {\n  const [showSingleSignOnForm, setShowSingleSignOnForm] = useState<boolean>(false);\n\n  const contextValue = useMemo(\n    () => ({\n      showSingleSignOnForm,\n      setShowSingleSignOnForm,\n    }),\n    [showSingleSignOnForm]\n  );\n\n  return (\n    <SingleSignOnFormModeContext.Provider value={contextValue}>\n      {children}\n    </SingleSignOnFormModeContext.Provider>\n  );\n};\n\nexport default SingleSignOnFormModeContextProvider;\n","import * as React from \"react\";\nconst SvgLock = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 21, height: 20, viewBox: \"0 0 21 20\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M10.5007 10.8332C10.2469 10.8302 9.99841 10.905 9.78852 11.0476C9.57863 11.1901 9.41744 11.3936 9.32666 11.6305C9.23588 11.8674 9.21987 12.1265 9.28077 12.3728C9.34168 12.6191 9.47658 12.8408 9.66732 13.0082V14.1665C9.66732 14.3875 9.75512 14.5995 9.9114 14.7558C10.0677 14.912 10.2796 14.9998 10.5007 14.9998C10.7217 14.9998 10.9336 14.912 11.0899 14.7558C11.2462 14.5995 11.334 14.3875 11.334 14.1665V13.0082C11.5247 12.8408 11.6596 12.6191 11.7205 12.3728C11.7814 12.1265 11.7654 11.8674 11.6746 11.6305C11.5839 11.3936 11.4227 11.1901 11.2128 11.0476C11.0029 10.905 10.7544 10.8302 10.5007 10.8332ZM14.6673 7.49984V5.83317C14.6673 4.7281 14.2283 3.66829 13.4469 2.88689C12.6655 2.10549 11.6057 1.6665 10.5007 1.6665C9.39558 1.6665 8.33577 2.10549 7.55437 2.88689C6.77297 3.66829 6.33398 4.7281 6.33398 5.83317V7.49984C5.67094 7.49984 5.03506 7.76323 4.56622 8.23207C4.09738 8.70091 3.83398 9.3368 3.83398 9.99984V15.8332C3.83398 16.4962 4.09738 17.1321 4.56622 17.6009C5.03506 18.0698 5.67094 18.3332 6.33398 18.3332H14.6673C15.3304 18.3332 15.9662 18.0698 16.4351 17.6009C16.9039 17.1321 17.1673 16.4962 17.1673 15.8332V9.99984C17.1673 9.3368 16.9039 8.70091 16.4351 8.23207C15.9662 7.76323 15.3304 7.49984 14.6673 7.49984ZM8.00065 5.83317C8.00065 5.17013 8.26404 4.53424 8.73288 4.0654C9.20172 3.59656 9.83761 3.33317 10.5007 3.33317C11.1637 3.33317 11.7996 3.59656 12.2684 4.0654C12.7373 4.53424 13.0007 5.17013 13.0007 5.83317V7.49984H8.00065V5.83317ZM15.5007 15.8332C15.5007 16.0542 15.4129 16.2661 15.2566 16.4224C15.1003 16.5787 14.8883 16.6665 14.6673 16.6665H6.33398C6.11297 16.6665 5.90101 16.5787 5.74473 16.4224C5.58845 16.2661 5.50065 16.0542 5.50065 15.8332V9.99984C5.50065 9.77882 5.58845 9.56686 5.74473 9.41058C5.90101 9.2543 6.11297 9.1665 6.33398 9.1665H14.6673C14.8883 9.1665 15.1003 9.2543 15.2566 9.41058C15.4129 9.56686 15.5007 9.77882 15.5007 9.99984V15.8332Z\", fill: \"white\", fillOpacity: 0.7 }));\nexport default SvgLock;\n","import classNames from 'classnames';\nimport { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport Checkbox from '@/components/Checkbox';\nimport TermsLinks from '@/components/TermsLinks';\nimport useTerms from '@/hooks/use-terms';\nimport { onKeyDownHandler } from '@/utils/a11y';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly className?: string;\n};\n\nconst TermsAndPrivacyCheckbox = ({ className }: Props) => {\n  const { termsAgreement, setTermsAgreement, termsOfUseUrl, privacyPolicyUrl, isTermsDisabled } =\n    useTerms();\n  const { t } = useTranslation();\n\n  const prefix = t('description.agree_with_terms');\n\n  const toggle = useCallback(() => {\n    setTermsAgreement((termsAgreement) => !termsAgreement);\n  }, [setTermsAgreement]);\n\n  if (isTermsDisabled) {\n    return null;\n  }\n\n  return (\n    <div\n      role=\"radio\"\n      aria-checked={termsAgreement}\n      tabIndex={0}\n      className={classNames(styles.terms, className)}\n      onClick={toggle}\n      onKeyDown={onKeyDownHandler({\n        Escape: () => {\n          setTermsAgreement(false);\n        },\n        Enter: toggle,\n        ' ': toggle,\n      })}\n    >\n      <Checkbox\n        name=\"termsAgreement\"\n        checked={termsAgreement}\n        className={styles.checkbox}\n        size=\"small\"\n      />\n      <div className={styles.content}>\n        <span>{prefix}</span>\n        <TermsLinks inline termsOfUseUrl={termsOfUseUrl} privacyPolicyUrl={privacyPolicyUrl} />\n      </div>\n    </div>\n  );\n};\n\nexport default TermsAndPrivacyCheckbox;\n","import {\n  AgreeToTermsPolicy,\n  SignInIdentifier,\n  experience,\n  type SsoConnectorMetadata,\n} from '@logto/schemas';\nimport { useCallback, useContext, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport SingleSignOnFormModeContext from '@/Providers/SingleSignOnFormModeContextProvider/SingleSignOnFormModeContext';\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport { getSsoConnectors } from '@/apis/experience';\nimport type { IdentifierInputValue } from '@/components/InputFields/SmartInputField';\nimport useApi from '@/hooks/use-api';\nimport useSingleSignOn from '@/hooks/use-single-sign-on';\nimport { validateEmail } from '@/utils/form';\n\nimport { useSieMethods } from './use-sie';\nimport useTerms from './use-terms';\n\nconst useSingleSignOnWatch = (identifierInput?: IdentifierInputValue) => {\n  const navigate = useNavigate();\n\n  const { singleSignOnEnabled } = useSieMethods();\n\n  const { setSsoEmail, setSsoConnectors, ssoConnectors, availableSsoConnectorsMap } =\n    useContext(UserInteractionContext);\n\n  const { showSingleSignOnForm, setShowSingleSignOnForm } = useContext(SingleSignOnFormModeContext);\n\n  const request = useApi(getSsoConnectors, { silent: true });\n\n  const singleSignOn = useSingleSignOn();\n\n  const { termsValidation, agreeToTermsPolicy } = useTerms();\n\n  // Silently check if the email is registered with any SSO connectors\n  const fetchSsoConnectors = useCallback(\n    async (email: string) => {\n      const [, result] = await request(email);\n\n      if (!result) {\n        return false;\n      }\n\n      const connectors = result.connectorIds\n        .map((connectorId) => availableSsoConnectorsMap.get(connectorId))\n        // eslint-disable-next-line unicorn/prefer-native-coercion-functions -- make the type more specific\n        .filter((connector): connector is SsoConnectorMetadata => Boolean(connector));\n\n      if (connectors.length === 0) {\n        return false;\n      }\n\n      setSsoConnectors(connectors);\n      setSsoEmail(email);\n      return true;\n    },\n    [availableSsoConnectorsMap, request, setSsoEmail, setSsoConnectors]\n  );\n\n  // Reset the ssoContext\n  useEffect(() => {\n    if (!showSingleSignOnForm) {\n      setSsoConnectors([]);\n\n      setSsoEmail(undefined);\n    }\n  }, [setSsoEmail, setSsoConnectors, showSingleSignOnForm]);\n\n  const navigateToSingleSignOn = useCallback(async () => {\n    if (!showSingleSignOnForm) {\n      return;\n    }\n\n    /**\n     * Check if the user has agreed to the terms and privacy policy before single sign on when the policy is set to `Manual`\n     */\n    if (agreeToTermsPolicy === AgreeToTermsPolicy.Manual && !(await termsValidation())) {\n      return;\n    }\n\n    // If there is only one connector, we can directly invoke the SSO flow\n    if (ssoConnectors.length === 1 && ssoConnectors[0]?.id) {\n      await singleSignOn(ssoConnectors[0].id);\n      return;\n    }\n\n    navigate(`/${experience.routes.sso}/connectors`);\n  }, [\n    agreeToTermsPolicy,\n    navigate,\n    showSingleSignOnForm,\n    singleSignOn,\n    ssoConnectors,\n    termsValidation,\n  ]);\n\n  useEffect(() => {\n    if (!singleSignOnEnabled) {\n      return;\n    }\n\n    // Input is undefined if no user interaction has happened\n    if (!identifierInput) {\n      setShowSingleSignOnForm(false);\n      return;\n    }\n\n    const { type, value } = identifierInput;\n\n    if (type !== SignInIdentifier.Email) {\n      setShowSingleSignOnForm(false);\n      return;\n    }\n\n    // Will throw an error if the value is not a valid email\n    if (validateEmail(value)) {\n      setShowSingleSignOnForm(false);\n      return;\n    }\n\n    // Add a debouncing delay to avoid unnecessary API calls\n    const handler = setTimeout(async () => {\n      setShowSingleSignOnForm(await fetchSsoConnectors(value));\n    }, 300);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [fetchSsoConnectors, identifierInput, setShowSingleSignOnForm, singleSignOnEnabled]);\n\n  return {\n    showSingleSignOnForm,\n    navigateToSingleSignOn,\n  };\n};\n\nexport default useSingleSignOnWatch;\n","import { experience, type SsoConnectorMetadata } from '@logto/schemas';\nimport { useCallback, useContext, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport { getSsoConnectors } from '@/apis/experience';\nimport useApi from '@/hooks/use-api';\nimport useErrorHandler from '@/hooks/use-error-handler';\n\nimport useSingleSignOn from './use-single-sign-on';\n\nconst useCheckSingleSignOn = () => {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const request = useApi(getSsoConnectors);\n  const [errorMessage, setErrorMessage] = useState<string | undefined>();\n  const { setSsoEmail, setSsoConnectors, availableSsoConnectorsMap } =\n    useContext(UserInteractionContext);\n  const singleSignOn = useSingleSignOn();\n\n  const handleError = useErrorHandler();\n\n  const clearErrorMessage = useCallback(() => {\n    setErrorMessage(undefined);\n  }, [setErrorMessage]);\n\n  // Should clear the context and storage if the user trying to resubmit the form\n  const clearContext = useCallback(() => {\n    setSsoEmail(undefined);\n    setSsoConnectors([]);\n  }, [setSsoEmail, setSsoConnectors]);\n\n  /**\n   * Check if the email is registered with any SSO connectors\n   * @param {string} email\n   * @param {boolean} continueSignIn - whether to continue the single sign-on flow if the email is registered with any SSO connectors\n   * @returns {Promise<boolean>} - true if the email is registered with any SSO connectors\n   */\n  const onSubmit = useCallback(\n    async (email: string, continueSignIn = false) => {\n      clearContext();\n\n      const [error, result] = await request(email);\n\n      if (error) {\n        // Show error message only if the user is trying to continue the single sign-on flow, otherwise, silently fail\n        if (continueSignIn) {\n          await handleError(error, {\n            'guard.invalid_input': () => {\n              setErrorMessage(t('error.invalid_email'));\n            },\n          });\n        }\n\n        return;\n      }\n\n      const connectors = result?.connectorIds\n        .map((connectorId) => availableSsoConnectorsMap.get(connectorId))\n        // eslint-disable-next-line unicorn/prefer-native-coercion-functions -- make the type more specific\n        .filter((connector): connector is SsoConnectorMetadata => Boolean(connector));\n\n      if (!connectors || connectors.length === 0) {\n        setErrorMessage(t('error.sso_not_enabled'));\n        return;\n      }\n\n      setSsoConnectors(connectors);\n      setSsoEmail(email);\n\n      if (!continueSignIn) {\n        return true;\n      }\n\n      // If there is only one connector, we can directly invoke the SSO flow\n      if (connectors.length === 1 && connectors[0]?.id) {\n        await singleSignOn(connectors[0].id);\n        return true;\n      }\n\n      navigate(`/${experience.routes.sso}/connectors`);\n      return true;\n    },\n    [\n      clearContext,\n      request,\n      setSsoConnectors,\n      setSsoEmail,\n      navigate,\n      handleError,\n      t,\n      availableSsoConnectorsMap,\n      singleSignOn,\n    ]\n  );\n\n  return {\n    onSubmit,\n    errorMessage,\n    clearErrorMessage,\n  };\n};\n\nexport default useCheckSingleSignOn;\n","import { InteractionEvent } from '@logto/schemas';\nimport { useState, useCallback, useMemo, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport CaptchaContext from '@/Providers/CaptchaContextProvider/CaptchaContext';\nimport { identifyAndSubmitInteraction, registerWithUsername } from '@/apis/experience';\nimport useApi from '@/hooks/use-api';\nimport type { ErrorHandlers } from '@/hooks/use-error-handler';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport useGlobalRedirectTo from '@/hooks/use-global-redirect-to';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport useSubmitInteractionErrorHandler from '@/hooks/use-submit-interaction-error-handler';\n\nconst useRegisterWithUsername = () => {\n  const navigate = useNavigate();\n  const redirectTo = useGlobalRedirectTo();\n  const { executeCaptcha } = useContext(CaptchaContext);\n\n  const [errorMessage, setErrorMessage] = useState<string>();\n\n  const { passwordRequiredForSignUp, secondaryIdentifiers } = useSieMethods();\n\n  const clearErrorMessage = useCallback(() => {\n    setErrorMessage('');\n  }, []);\n\n  const usernameErrorHandlers: ErrorHandlers = useMemo(\n    () => ({\n      'user.username_already_in_use': (error) => {\n        setErrorMessage(error.message);\n      },\n    }),\n    []\n  );\n\n  const preRegisterErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.Register, {\n    replace: true,\n  });\n\n  const handleError = useErrorHandler();\n  const asyncRegister = useApi(registerWithUsername);\n\n  const asyncSubmitInteraction = useApi(identifyAndSubmitInteraction);\n  const onSubmitInteraction = useCallback(async () => {\n    const [error, result] = await asyncSubmitInteraction();\n\n    if (error) {\n      await handleError(error, preRegisterErrorHandler);\n      return;\n    }\n\n    if (result) {\n      await redirectTo(result.redirectTo);\n    }\n  }, [asyncSubmitInteraction, handleError, preRegisterErrorHandler, redirectTo]);\n\n  const onSubmit = useCallback(\n    async (username: string) => {\n      const captchaToken = await executeCaptcha();\n      const [error] = await asyncRegister(username, captchaToken);\n\n      if (error) {\n        await handleError(error, usernameErrorHandlers);\n        return;\n      }\n\n      // If password is required and no secondary identifiers are present, (current behavior without multi-sign-up identifiers support)\n      // navigate to password screen directly\n      if (passwordRequiredForSignUp && secondaryIdentifiers.length === 0) {\n        navigate('password');\n        return;\n      }\n\n      // Otherwise, identify and submit interaction let the backend decide the next step\n      await onSubmitInteraction();\n    },\n    [\n      asyncRegister,\n      passwordRequiredForSignUp,\n      secondaryIdentifiers.length,\n      onSubmitInteraction,\n      handleError,\n      usernameErrorHandlers,\n      navigate,\n      executeCaptcha,\n    ]\n  );\n\n  return { errorMessage, clearErrorMessage, onSubmit };\n};\n\nexport default useRegisterWithUsername;\n","import { SignInIdentifier } from '@logto/schemas';\nimport { useCallback } from 'react';\n\nimport useCheckSingleSignOn from '@/hooks/use-check-single-sign-on';\nimport useSendVerificationCode from '@/hooks/use-send-verification-code';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport { UserFlow } from '@/types';\n\nimport useRegisterWithUsername from './use-register-with-username';\n\nconst useOnSubmit = () => {\n  const { ssoConnectors } = useSieMethods();\n  const { onSubmit: checkSingleSignOn } = useCheckSingleSignOn();\n\n  const {\n    errorMessage: usernameRegisterErrorMessage,\n    clearErrorMessage: clearUsernameRegisterErrorMessage,\n    onSubmit: registerWithUsername,\n  } = useRegisterWithUsername();\n\n  const {\n    errorMessage: sendVerificationCodeErrorMessage,\n    clearErrorMessage: clearSendVerificationCodeErrorMessage,\n    onSubmit: sendVerificationCode,\n  } = useSendVerificationCode(UserFlow.Register);\n\n  const clearErrorMessage = useCallback(() => {\n    clearUsernameRegisterErrorMessage();\n    clearSendVerificationCodeErrorMessage();\n  }, [clearSendVerificationCodeErrorMessage, clearUsernameRegisterErrorMessage]);\n\n  const onSubmit = useCallback(\n    async (identifier: SignInIdentifier, value: string) => {\n      if (identifier === SignInIdentifier.Username) {\n        await registerWithUsername(value);\n\n        return;\n      }\n\n      // Check if the email is registered with any SSO connectors. If the email is registered with any SSO connectors, we should not proceed to the next step\n      if (identifier === SignInIdentifier.Email && ssoConnectors.length > 0) {\n        const result = await checkSingleSignOn(value);\n\n        if (result) {\n          return;\n        }\n      }\n\n      await sendVerificationCode({ identifier, value });\n    },\n    [checkSingleSignOn, registerWithUsername, sendVerificationCode, ssoConnectors.length]\n  );\n\n  return {\n    // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n    errorMessage: usernameRegisterErrorMessage || sendVerificationCodeErrorMessage,\n    clearErrorMessage,\n    onSubmit,\n  };\n};\n\nexport default useOnSubmit;\n","import { AgreeToTermsPolicy, type SignInIdentifier } from '@logto/schemas';\nimport classNames from 'classnames';\nimport { useCallback, useContext, useEffect } from 'react';\nimport { Controller, useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport LockIcon from '@/assets/icons/lock.svg?react';\nimport Button from '@/components/Button';\nimport ErrorMessage from '@/components/ErrorMessage';\nimport { SmartInputField } from '@/components/InputFields';\nimport type { IdentifierInputValue } from '@/components/InputFields/SmartInputField';\nimport CaptchaBox from '@/containers/CaptchaBox';\nimport TermsAndPrivacyCheckbox from '@/containers/TermsAndPrivacyCheckbox';\nimport usePrefilledIdentifier from '@/hooks/use-prefilled-identifier';\nimport useSingleSignOnWatch from '@/hooks/use-single-sign-on-watch';\nimport useTerms from '@/hooks/use-terms';\nimport { getGeneralIdentifierErrorMessage, validateIdentifierField } from '@/utils/form';\n\nimport styles from './index.module.scss';\nimport useOnSubmit from './use-on-submit';\n\ntype Props = {\n  readonly className?: string;\n  // eslint-disable-next-line react/boolean-prop-naming\n  readonly autoFocus?: boolean;\n  readonly signUpMethods: SignInIdentifier[];\n};\n\ntype FormState = {\n  identifier: IdentifierInputValue;\n};\n\nconst IdentifierRegisterForm = ({ className, autoFocus, signUpMethods }: Props) => {\n  const { t } = useTranslation();\n  const { termsValidation, agreeToTermsPolicy } = useTerms();\n\n  const { errorMessage, clearErrorMessage, onSubmit } = useOnSubmit();\n\n  const { setIdentifierInputValue } = useContext(UserInteractionContext);\n  const prefilledIdentifier = usePrefilledIdentifier({ enabledIdentifiers: signUpMethods });\n\n  const {\n    watch,\n    handleSubmit,\n    formState: { errors, isValid, isSubmitting },\n    control,\n  } = useForm<FormState>({\n    reValidateMode: 'onBlur',\n    defaultValues: { identifier: prefilledIdentifier },\n  });\n\n  // Watch identifier field and check single sign on method availability\n  const { showSingleSignOnForm, navigateToSingleSignOn } = useSingleSignOnWatch(\n    watch('identifier')\n  );\n\n  useEffect(() => {\n    if (!isValid) {\n      clearErrorMessage();\n    }\n  }, [clearErrorMessage, isValid]);\n\n  const onSubmitHandler = useCallback(\n    async (event?: React.FormEvent<HTMLFormElement>) => {\n      clearErrorMessage();\n\n      void handleSubmit(async ({ identifier: { type, value } }) => {\n        if (!type) {\n          return;\n        }\n\n        setIdentifierInputValue({ type, value });\n\n        if (\n          agreeToTermsPolicy &&\n          agreeToTermsPolicy !== AgreeToTermsPolicy.Automatic &&\n          !(await termsValidation())\n        ) {\n          return;\n        }\n\n        if (showSingleSignOnForm) {\n          await navigateToSingleSignOn();\n          return;\n        }\n\n        await onSubmit(type, value);\n      })(event);\n    },\n    [\n      agreeToTermsPolicy,\n      clearErrorMessage,\n      handleSubmit,\n      navigateToSingleSignOn,\n      onSubmit,\n      setIdentifierInputValue,\n      showSingleSignOnForm,\n      termsValidation,\n    ]\n  );\n\n  return (\n    <form className={classNames(styles.form, className)} onSubmit={onSubmitHandler}>\n      <Controller\n        control={control}\n        name=\"identifier\"\n        rules={{\n          validate: ({ type, value }) => {\n            if (!type || !value) {\n              return getGeneralIdentifierErrorMessage(signUpMethods, 'required');\n            }\n\n            const errorMessage = validateIdentifierField(type, value);\n\n            if (errorMessage) {\n              return typeof errorMessage === 'string'\n                ? t(`error.${errorMessage}`)\n                : t(`error.${errorMessage.code}`, errorMessage.data ?? {});\n            }\n\n            return true;\n          },\n        }}\n        render={({ field, formState: { defaultValues } }) => (\n          <SmartInputField\n            autoComplete=\"off\"\n            autoFocus={autoFocus}\n            className={styles.inputField}\n            {...field}\n            defaultValue={defaultValues?.identifier?.value}\n            isDanger={!!errors.identifier || !!errorMessage}\n            errorMessage={errors.identifier?.message}\n            enabledTypes={signUpMethods}\n          />\n        )}\n      />\n      {errorMessage && <ErrorMessage className={styles.formErrors}>{errorMessage}</ErrorMessage>}\n      {showSingleSignOnForm && (\n        <div className={styles.message}>{t('description.single_sign_on_enabled')}</div>\n      )}\n      {/**\n       * Have to use css to hide the terms element.\n       * Remove element from dom will trigger a form re-render.\n       * Form rerender will trigger autofill.\n       * If the autofill value is SSO enabled, it will always show SSO form.\n       */}\n      <TermsAndPrivacyCheckbox\n        className={classNames(\n          styles.terms,\n          /**\n           * Hide the terms checkbox when the policy is set to `Automatic`.\n           * In registration, the terms checkbox is always shown for `Manual` and `ManualRegistrationOnly` policies.\n           */\n          agreeToTermsPolicy === AgreeToTermsPolicy.Automatic && styles.hidden\n        )}\n      />\n      <CaptchaBox />\n      <Button\n        name=\"submit\"\n        title={showSingleSignOnForm ? 'action.single_sign_on' : 'action.create_account'}\n        icon={showSingleSignOnForm ? <LockIcon /> : undefined}\n        htmlType=\"submit\"\n        isLoading={isSubmitting}\n      />\n      <input hidden type=\"submit\" />\n    </form>\n  );\n};\n\nexport default IdentifierRegisterForm;\n","import { ExtraParamsKey, type SignInIdentifier, signInIdentifierGuard } from '@logto/schemas';\nimport { useSearchParams } from 'react-router-dom';\n\n/**\n * Parses and validates a string of space-separated identifiers.\n *\n * @param value - A string containing space-separated identifiers (e.g., \"email phone\").\n * @returns An array of validated SignInIdentifier objects.\n */\nconst parseIdentifierParamValue = (value: string): SignInIdentifier[] => {\n  const identifiers = value.split(' ');\n\n  return identifiers.reduce<SignInIdentifier[]>((result, identifier) => {\n    const parsed = signInIdentifierGuard.safeParse(identifier);\n    return parsed.success ? [...result, parsed.data] : result;\n  }, []);\n};\n\n/**\n * Custom hook to extract and validate sign-in identifiers from URL search parameters.\n *\n * Functionality:\n * 1. Extracts the 'identifier' value from the URL search parameters.\n * 2. Parses the identifier string, which is expected to be in the format \"email phone\",\n *    where multiple identifiers are separated by spaces.\n * 3. Validates each parsed identifier to ensure it is a valid `SignInIdentifier`.\n * 4. Returns an array of validated sign-in identifiers.\n *\n * @returns An object containing the array of parsed and validated identifiers.\n */\nconst useIdentifierParams = () => {\n  const [searchParams] = useSearchParams();\n\n  const identifiers = parseIdentifierParamValue(searchParams.get(ExtraParamsKey.Identifier) ?? '');\n\n  return { identifiers };\n};\n\nexport default useIdentifierParams;\n","import { useMemo } from 'react';\n\nimport useIdentifierParams from '@/hooks/use-identifier-params';\nimport { useSieMethods } from '@/hooks/use-sie';\n\n/**\n * Read sign-up methods from sign-in experience config and URL identifier parameters.\n *\n * Sign-up methods fallback logic:\n * 1. If no identifiers are provided in the URL, return all sign-up methods from sign-in experience config.\n * 2. If identifiers are provided in the URL but all of them are not supported by the sign-in experience config, return all sign-up methods from sign-in experience config.\n * 3. If identifiers are provided in the URL and supported by the sign-in experience config, return the intersection of the two.\n */\nconst useIdentifierSignUpMethods = () => {\n  const { signUpMethods: signUpMethodsFromSie } = useSieMethods();\n  const { identifiers } = useIdentifierParams();\n\n  return useMemo(() => {\n    // Fallback to all sign up methods if no identifiers are provided\n    if (identifiers.length === 0) {\n      return signUpMethodsFromSie;\n    }\n\n    const methods = signUpMethodsFromSie.filter((identifier) => identifiers.includes(identifier));\n\n    // Fallback to all sign up methods if no identifiers are supported\n    if (methods.length === 0) {\n      return signUpMethodsFromSie;\n    }\n\n    return methods;\n  }, [identifiers, signUpMethodsFromSie]);\n};\n\nexport default useIdentifierSignUpMethods;\n","import { AgreeToTermsPolicy, experience, SignInMode } from '@logto/schemas';\nimport { useTranslation } from 'react-i18next';\nimport { Navigate } from 'react-router-dom';\n\nimport FocusedAuthPageLayout from '@/Layout/FocusedAuthPageLayout';\nimport SingleSignOnFormModeContextProvider from '@/Providers/SingleSignOnFormModeContextProvider';\nimport IdentifierRegisterForm from '@/components/IdentifierRegisterForm';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport { identifierInputDescriptionMap } from '@/utils/form';\n\nimport useIdentifierSignUpMethods from './use-identifier-sign-up-methods';\n\n/**\n * Identifier register page\n *\n * This page is used to display specific identifier-based registration methods to users.\n *\n * This page can be used as the first screen of the authentication flow,\n * and can be configured by setting the `first_screen` parameter to `identifier:register`\n * in the authentication URL.\n */\nconst IdentifierRegister = () => {\n  const { t } = useTranslation();\n  const signUpMethods = useIdentifierSignUpMethods();\n  const { signInMode } = useSieMethods();\n\n  /**\n   * Fallback to sign-in page in the following cases:\n   * - Sign-in mode is set to `SignIn` (user registration is not enabled in the sign-in experience configuration)\n   * - No sign up methods are available\n   */\n  if (signInMode === SignInMode.SignIn || signUpMethods.length === 0) {\n    return <Navigate to={`/${experience.routes.signIn}`} />;\n  }\n\n  return (\n    <FocusedAuthPageLayout\n      pageMeta={{ titleKey: 'description.create_your_account' }}\n      title=\"description.create_account\"\n      description={t('description.identifier_register_description', {\n        types: signUpMethods.map((identifier) => t(identifierInputDescriptionMap[identifier])),\n      })}\n      footerTermsDisplayPolicies={[AgreeToTermsPolicy.Automatic]}\n      authOptionsLink={{\n        to: `/${experience.routes.register}`,\n        text: 'description.all_account_creation_options',\n      }}\n    >\n      <SingleSignOnFormModeContextProvider>\n        <IdentifierRegisterForm signUpMethods={signUpMethods} />\n      </SingleSignOnFormModeContextProvider>\n    </FocusedAuthPageLayout>\n  );\n};\n\nexport default IdentifierRegister;\n","import type { SignIn } from '@logto/schemas';\nimport { SignInIdentifier } from '@logto/schemas';\nimport { useCallback, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport useCheckSingleSignOn from '@/hooks/use-check-single-sign-on';\nimport useSendVerificationCode from '@/hooks/use-send-verification-code';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport { UserFlow } from '@/types';\n\nconst useOnSubmit = (signInMethods: SignIn['methods']) => {\n  const navigate = useNavigate();\n  const { ssoConnectors } = useSieMethods();\n  const { onSubmit: checkSingleSignOn } = useCheckSingleSignOn();\n  const { setIdentifierInputValue } = useContext(UserInteractionContext);\n\n  const navigateToPasswordPage = useCallback(() => {\n    navigate({\n      pathname: `/${UserFlow.SignIn}/password`,\n    });\n  }, [navigate]);\n\n  const {\n    errorMessage,\n    clearErrorMessage,\n    onSubmit: sendVerificationCode,\n  } = useSendVerificationCode(UserFlow.SignIn);\n\n  const onSubmit = useCallback(\n    async (identifier: SignInIdentifier, value: string) => {\n      const method = signInMethods.find((method) => method.identifier === identifier);\n\n      if (!method) {\n        throw new Error(`Cannot find method with identifier type ${identifier}`);\n      }\n\n      setIdentifierInputValue({ type: identifier, value });\n\n      const { password, isPasswordPrimary, verificationCode } = method;\n\n      if (identifier === SignInIdentifier.Username) {\n        navigateToPasswordPage();\n\n        return;\n      }\n\n      // Check if the email is registered with any SSO connectors. If the email is registered with any SSO connectors, we should not proceed to the next step\n      if (identifier === SignInIdentifier.Email && ssoConnectors.length > 0) {\n        const result = await checkSingleSignOn(value);\n\n        if (result) {\n          return;\n        }\n      }\n\n      if (password && (isPasswordPrimary || !verificationCode)) {\n        navigateToPasswordPage();\n\n        return;\n      }\n\n      if (verificationCode) {\n        await sendVerificationCode({ identifier, value });\n      }\n    },\n    [\n      signInMethods,\n      setIdentifierInputValue,\n      ssoConnectors.length,\n      navigateToPasswordPage,\n      checkSingleSignOn,\n      sendVerificationCode,\n    ]\n  );\n\n  return {\n    errorMessage,\n    clearErrorMessage,\n    onSubmit,\n  };\n};\n\nexport default useOnSubmit;\n","import { AgreeToTermsPolicy, type SignIn } from '@logto/schemas';\nimport classNames from 'classnames';\nimport { useCallback, useContext, useEffect, useMemo } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport LockIcon from '@/assets/icons/lock.svg?react';\nimport Button from '@/components/Button';\nimport ErrorMessage from '@/components/ErrorMessage';\nimport { SmartInputField } from '@/components/InputFields';\nimport type { IdentifierInputValue } from '@/components/InputFields/SmartInputField';\nimport CaptchaBox from '@/containers/CaptchaBox';\nimport TermsAndPrivacyCheckbox from '@/containers/TermsAndPrivacyCheckbox';\nimport usePrefilledIdentifier from '@/hooks/use-prefilled-identifier';\nimport useSingleSignOnWatch from '@/hooks/use-single-sign-on-watch';\nimport useTerms from '@/hooks/use-terms';\nimport { getGeneralIdentifierErrorMessage, validateIdentifierField } from '@/utils/form';\n\nimport styles from './index.module.scss';\nimport useOnSubmit from './use-on-submit';\n\ntype Props = {\n  readonly className?: string;\n  // eslint-disable-next-line react/boolean-prop-naming\n  readonly autoFocus?: boolean;\n  readonly signInMethods: SignIn['methods'];\n};\n\ntype FormState = {\n  identifier: IdentifierInputValue;\n};\n\nconst IdentifierSignInForm = ({ className, autoFocus, signInMethods }: Props) => {\n  const { t } = useTranslation();\n  const { errorMessage, clearErrorMessage, onSubmit } = useOnSubmit(signInMethods);\n  const { termsValidation, agreeToTermsPolicy } = useTerms();\n  const { setIdentifierInputValue } = useContext(UserInteractionContext);\n\n  const enabledSignInMethods = useMemo(\n    () => signInMethods.map(({ identifier }) => identifier),\n    [signInMethods]\n  );\n\n  const prefilledIdentifier = usePrefilledIdentifier({\n    enabledIdentifiers: enabledSignInMethods,\n  });\n\n  const {\n    watch,\n    handleSubmit,\n    control,\n    formState: { errors, isValid, isSubmitting },\n  } = useForm<FormState>({\n    reValidateMode: 'onBlur',\n    defaultValues: {\n      identifier: prefilledIdentifier,\n    },\n  });\n\n  // Watch identifier field and check single sign on method availability\n  const { showSingleSignOnForm, navigateToSingleSignOn } = useSingleSignOnWatch(\n    watch('identifier')\n  );\n\n  useEffect(() => {\n    if (!isValid) {\n      clearErrorMessage();\n    }\n  }, [clearErrorMessage, isValid]);\n\n  const onSubmitHandler = useCallback(\n    async (event?: React.FormEvent<HTMLFormElement>) => {\n      clearErrorMessage();\n\n      void handleSubmit(async ({ identifier: { type, value } }) => {\n        if (!type) {\n          return;\n        }\n\n        setIdentifierInputValue({ type, value });\n\n        if (showSingleSignOnForm) {\n          await navigateToSingleSignOn();\n          return;\n        }\n\n        // Check if the user has agreed to the terms and privacy policy before signing in when the policy is set to `Manual`\n        if (agreeToTermsPolicy === AgreeToTermsPolicy.Manual && !(await termsValidation())) {\n          return;\n        }\n\n        await onSubmit(type, value);\n      })(event);\n    },\n    [\n      agreeToTermsPolicy,\n      clearErrorMessage,\n      handleSubmit,\n      navigateToSingleSignOn,\n      onSubmit,\n      setIdentifierInputValue,\n      showSingleSignOnForm,\n      termsValidation,\n    ]\n  );\n\n  return (\n    <form className={classNames(styles.form, className)} onSubmit={onSubmitHandler}>\n      <Controller\n        control={control}\n        name=\"identifier\"\n        rules={{\n          validate: ({ type, value }) => {\n            if (!type || !value) {\n              return getGeneralIdentifierErrorMessage(enabledSignInMethods, 'required');\n            }\n\n            const errorMessage = validateIdentifierField(type, value);\n\n            return errorMessage\n              ? getGeneralIdentifierErrorMessage(enabledSignInMethods, 'invalid')\n              : true;\n          },\n        }}\n        render={({ field, formState: { defaultValues } }) => (\n          <SmartInputField\n            autoFocus={autoFocus}\n            className={styles.inputField}\n            {...field}\n            isDanger={!!errors.identifier || !!errorMessage}\n            errorMessage={errors.identifier?.message}\n            enabledTypes={enabledSignInMethods}\n            defaultValue={defaultValues?.identifier?.value}\n          />\n        )}\n      />\n\n      {errorMessage && <ErrorMessage className={styles.formErrors}>{errorMessage}</ErrorMessage>}\n\n      {showSingleSignOnForm && (\n        <div className={styles.message}>{t('description.single_sign_on_enabled')}</div>\n      )}\n\n      {/**\n       * Have to use css to hide the terms element.\n       * Remove element from dom will trigger a form re-render.\n       * Form rerender will trigger autofill.\n       * If the autofill value is SSO enabled, it will always show SSO form.\n       */}\n      <TermsAndPrivacyCheckbox\n        className={classNames(\n          styles.terms,\n          // For sign in, only show the terms checkbox if the terms policy is manual\n          agreeToTermsPolicy !== AgreeToTermsPolicy.Manual && styles.hidden\n        )}\n      />\n\n      <CaptchaBox />\n      <Button\n        name=\"submit\"\n        title={showSingleSignOnForm ? 'action.single_sign_on' : 'action.sign_in'}\n        icon={showSingleSignOnForm ? <LockIcon /> : undefined}\n        htmlType=\"submit\"\n        isLoading={isSubmitting}\n      />\n\n      <input hidden type=\"submit\" />\n    </form>\n  );\n};\n\nexport default IdentifierSignInForm;\n","import type { SignInIdentifier } from '@logto/schemas';\nimport { useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport TextLink from '@/components/TextLink';\nimport { UserFlow } from '@/types';\n\ntype Props = {\n  readonly identifier?: SignInIdentifier;\n  readonly value?: string;\n  readonly className?: string;\n};\n\nconst ForgotPasswordLink = ({ className, ...identifierData }: Props) => {\n  const navigate = useNavigate();\n  const { setForgotPasswordIdentifierInputValue } = useContext(UserInteractionContext);\n\n  return (\n    <TextLink\n      className={className}\n      text=\"action.forgot_password\"\n      onClick={() => {\n        setForgotPasswordIdentifierInputValue({\n          type: identifierData.identifier,\n          value: identifierData.value ?? '',\n        });\n\n        navigate(`/${UserFlow.ForgotPassword}`);\n      }}\n    />\n  );\n};\n\nexport default ForgotPasswordLink;\n","import {\n  InteractionEvent,\n  SignInIdentifier,\n  type PasswordVerificationPayload,\n} from '@logto/schemas';\nimport { useCallback, useMemo, useState, useContext } from 'react';\n\nimport CaptchaContext from '@/Providers/CaptchaContextProvider/CaptchaContext';\nimport { signInWithPasswordIdentifier } from '@/apis/experience';\nimport useApi from '@/hooks/use-api';\nimport useCheckSingleSignOn from '@/hooks/use-check-single-sign-on';\nimport type { ErrorHandlers } from '@/hooks/use-error-handler';\nimport useErrorHandler from '@/hooks/use-error-handler';\n\nimport useGlobalRedirectTo from './use-global-redirect-to';\nimport useSubmitInteractionErrorHandler from './use-submit-interaction-error-handler';\n\nconst usePasswordSignIn = () => {\n  const [errorMessage, setErrorMessage] = useState<string>();\n  const { onSubmit: checkSingleSignOn } = useCheckSingleSignOn();\n  const redirectTo = useGlobalRedirectTo();\n  const { executeCaptcha } = useContext(CaptchaContext);\n\n  const clearErrorMessage = useCallback(() => {\n    setErrorMessage('');\n  }, []);\n\n  const handleError = useErrorHandler();\n  const asyncSignIn = useApi(signInWithPasswordIdentifier);\n  const preSignInErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.SignIn);\n\n  const errorHandlers: ErrorHandlers = useMemo(\n    () => ({\n      'session.invalid_credentials': (error) => {\n        setErrorMessage(error.message);\n      },\n      ...preSignInErrorHandler,\n    }),\n    [preSignInErrorHandler]\n  );\n\n  const onSubmit = useCallback(\n    async (payload: PasswordVerificationPayload) => {\n      const { identifier } = payload;\n      const captchaToken = await executeCaptcha();\n\n      // Check if the email is registered with any SSO connectors. If the email is registered with any SSO connectors, we should not proceed to the next step\n      if (identifier.type === SignInIdentifier.Email) {\n        const result = await checkSingleSignOn(identifier.value);\n\n        if (result) {\n          return;\n        }\n      }\n\n      const [error, result] = await asyncSignIn(payload, captchaToken);\n\n      if (error) {\n        await handleError(error, errorHandlers);\n\n        return;\n      }\n\n      if (result?.redirectTo) {\n        await redirectTo(result.redirectTo);\n      }\n    },\n    [asyncSignIn, checkSingleSignOn, errorHandlers, handleError, redirectTo, executeCaptcha]\n  );\n\n  return {\n    errorMessage,\n    clearErrorMessage,\n    onSubmit,\n  };\n};\n\nexport default usePasswordSignIn;\n","import { AgreeToTermsPolicy, type SignInIdentifier } from '@logto/schemas';\nimport classNames from 'classnames';\nimport { useCallback, useContext, useEffect } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport LockIcon from '@/assets/icons/lock.svg?react';\nimport Button from '@/components/Button';\nimport ErrorMessage from '@/components/ErrorMessage';\nimport { SmartInputField, PasswordInputField } from '@/components/InputFields';\nimport type { IdentifierInputValue } from '@/components/InputFields/SmartInputField';\nimport CaptchaBox from '@/containers/CaptchaBox';\nimport ForgotPasswordLink from '@/containers/ForgotPasswordLink';\nimport TermsAndPrivacyCheckbox from '@/containers/TermsAndPrivacyCheckbox';\nimport usePasswordSignIn from '@/hooks/use-password-sign-in';\nimport usePrefilledIdentifier from '@/hooks/use-prefilled-identifier';\nimport { useForgotPasswordSettings } from '@/hooks/use-sie';\nimport useSingleSignOnWatch from '@/hooks/use-single-sign-on-watch';\nimport useTerms from '@/hooks/use-terms';\nimport { getGeneralIdentifierErrorMessage, validateIdentifierField } from '@/utils/form';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly className?: string;\n  // eslint-disable-next-line react/boolean-prop-naming\n  readonly autoFocus?: boolean;\n  readonly signInMethods: SignInIdentifier[];\n};\n\nexport type FormState = {\n  identifier: IdentifierInputValue;\n  password: string;\n};\n\nconst PasswordSignInForm = ({ className, autoFocus, signInMethods }: Props) => {\n  const { t } = useTranslation();\n\n  const { errorMessage, clearErrorMessage, onSubmit } = usePasswordSignIn();\n  const { isForgotPasswordEnabled } = useForgotPasswordSettings();\n  const { termsValidation, agreeToTermsPolicy } = useTerms();\n  const { setIdentifierInputValue } = useContext(UserInteractionContext);\n  const prefilledIdentifier = usePrefilledIdentifier({ enabledIdentifiers: signInMethods });\n\n  const {\n    watch,\n    register,\n    handleSubmit,\n    control,\n    formState: { errors, isValid, isSubmitting },\n  } = useForm<FormState>({\n    reValidateMode: 'onBlur',\n    defaultValues: {\n      identifier: prefilledIdentifier,\n      password: '',\n    },\n  });\n\n  const { showSingleSignOnForm, navigateToSingleSignOn } = useSingleSignOnWatch(\n    watch('identifier')\n  );\n\n  const onSubmitHandler = useCallback(\n    async (event?: React.FormEvent<HTMLFormElement>) => {\n      clearErrorMessage();\n\n      await handleSubmit(async ({ identifier: { type, value }, password }) => {\n        if (!type) {\n          return;\n        }\n\n        setIdentifierInputValue({ type, value });\n\n        if (showSingleSignOnForm) {\n          await navigateToSingleSignOn();\n          return;\n        }\n\n        // Check if the user has agreed to the terms and privacy policy before signing in when the policy is set to `Manual`\n        if (agreeToTermsPolicy === AgreeToTermsPolicy.Manual && !(await termsValidation())) {\n          return;\n        }\n\n        await onSubmit({\n          identifier: { type, value },\n          password,\n        });\n      })(event);\n    },\n    [\n      agreeToTermsPolicy,\n      clearErrorMessage,\n      handleSubmit,\n      navigateToSingleSignOn,\n      onSubmit,\n      setIdentifierInputValue,\n      showSingleSignOnForm,\n      termsValidation,\n    ]\n  );\n\n  useEffect(() => {\n    if (!isValid) {\n      clearErrorMessage();\n    }\n  }, [clearErrorMessage, isValid]);\n\n  return (\n    <form className={classNames(styles.form, className)} onSubmit={onSubmitHandler}>\n      <Controller\n        control={control}\n        name=\"identifier\"\n        rules={{\n          validate: ({ type, value }) => {\n            if (!type || !value) {\n              return getGeneralIdentifierErrorMessage(signInMethods, 'required');\n            }\n\n            const errorMessage = validateIdentifierField(type, value);\n\n            return errorMessage ? getGeneralIdentifierErrorMessage(signInMethods, 'invalid') : true;\n          },\n        }}\n        render={({ field, formState: { defaultValues } }) => (\n          <SmartInputField\n            autoFocus={autoFocus}\n            className={styles.inputField}\n            {...field}\n            isDanger={!!errors.identifier}\n            errorMessage={errors.identifier?.message}\n            enabledTypes={signInMethods}\n            defaultValue={defaultValues?.identifier?.value}\n          />\n        )}\n      />\n      {showSingleSignOnForm && (\n        <div className={styles.message}>{t('description.single_sign_on_enabled')}</div>\n      )}\n\n      {!showSingleSignOnForm && (\n        <PasswordInputField\n          className={styles.inputField}\n          autoComplete=\"current-password\"\n          label={t('input.password')}\n          isDanger={!!errors.password}\n          errorMessage={errors.password?.message}\n          {...register('password', { required: t('error.password_required') })}\n        />\n      )}\n\n      {errorMessage && <ErrorMessage className={styles.formErrors}>{errorMessage}</ErrorMessage>}\n\n      {isForgotPasswordEnabled && !showSingleSignOnForm && (\n        <ForgotPasswordLink\n          className={styles.link}\n          identifier={watch('identifier').type}\n          value={watch('identifier').value}\n        />\n      )}\n\n      {/**\n       * Have to use css to hide the terms element.\n       * Remove element from dom will trigger a form re-render.\n       * Form rerender will trigger autofill.\n       * If the autofill value is SSO enabled, it will always show SSO form.\n       */}\n      <TermsAndPrivacyCheckbox\n        className={classNames(\n          styles.terms,\n          // For sign in, only show the terms checkbox if the terms policy is manual\n          agreeToTermsPolicy !== AgreeToTermsPolicy.Manual && styles.hidden\n        )}\n      />\n\n      <CaptchaBox />\n\n      <Button\n        name=\"submit\"\n        title={showSingleSignOnForm ? 'action.single_sign_on' : 'action.sign_in'}\n        icon={showSingleSignOnForm ? <LockIcon /> : undefined}\n        htmlType=\"submit\"\n        isLoading={isSubmitting}\n      />\n\n      <input hidden type=\"submit\" />\n    </form>\n  );\n};\n\nexport default PasswordSignInForm;\n","import { useMemo } from 'react';\n\nimport useIdentifierParams from '@/hooks/use-identifier-params';\nimport { useSieMethods } from '@/hooks/use-sie';\n\n/**\n * Read sign-in methods from sign-in experience config and URL identifier parameters.\n *\n * Sign-in methods fallback logic:\n * 1. If no identifiers are provided in the URL, return all sign-in methods from sign-in experience config.\n * 2. If identifiers are provided in the URL but all of them are not supported by the sign-in experience config, return all sign-in methods from sign-in experience config.\n * 3. If identifiers are provided in the URL and supported by the sign-in experience config, return the intersection of the two.\n */\nconst useIdentifierSignInMethods = () => {\n  const { signInMethods } = useSieMethods();\n  const { identifiers } = useIdentifierParams();\n\n  return useMemo(() => {\n    // Fallback to all sign-in methods if no identifiers are provided\n    if (identifiers.length === 0) {\n      return signInMethods;\n    }\n\n    const methods = signInMethods.filter(({ identifier }) => identifiers.includes(identifier));\n\n    // Fallback to all sign-in methods if no identifiers are supported\n    if (methods.length === 0) {\n      return signInMethods;\n    }\n\n    return methods;\n  }, [identifiers, signInMethods]);\n};\n\nexport default useIdentifierSignInMethods;\n","import { AgreeToTermsPolicy, experience } from '@logto/schemas';\nimport { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Navigate } from 'react-router-dom';\n\nimport FocusedAuthPageLayout from '@/Layout/FocusedAuthPageLayout';\nimport SingleSignOnFormModeContextProvider from '@/Providers/SingleSignOnFormModeContextProvider';\nimport IdentifierSignInForm from '@/components/IdentifierSignInForm';\nimport PasswordSignInForm from '@/components/PasswordSignInForm';\nimport { identifierInputDescriptionMap } from '@/utils/form';\n\nimport useIdentifierSignInMethods from './use-identifier-sign-in-methods';\n\n/**\n * Identifier sign-in page\n *\n * This page is used to display specific identifier-based sign-in methods to users.\n *\n * This page can be used as the first screen of the authentication flow,\n * and can be configured by setting the `first_screen` parameter to `identifier:sign_in`\n * in the authentication URL.\n *\n * identifiers used in this page can be configured by setting the `identifier` parameter\n * in the authentication URL, multiple identifiers can be separated by space.\n */\nconst IdentifierSignIn = () => {\n  const { t } = useTranslation();\n\n  const signInMethods = useIdentifierSignInMethods();\n\n  const isPasswordOnly = useMemo(\n    () =>\n      signInMethods.length > 0 &&\n      signInMethods.every(({ password, verificationCode }) => password && !verificationCode),\n    [signInMethods]\n  );\n\n  // Fallback to sign-in page if no sign-in methods are available\n  if (signInMethods.length === 0) {\n    return <Navigate to={`/${experience.routes.signIn}`} />;\n  }\n\n  return (\n    <FocusedAuthPageLayout\n      pageMeta={{ titleKey: 'description.sign_in' }}\n      title=\"description.sign_in\"\n      description={t('description.identifier_sign_in_description', {\n        types: signInMethods.map(({ identifier }) => t(identifierInputDescriptionMap[identifier])),\n      })}\n      footerTermsDisplayPolicies={[\n        AgreeToTermsPolicy.Automatic,\n        AgreeToTermsPolicy.ManualRegistrationOnly,\n      ]}\n      authOptionsLink={{\n        to: `/${experience.routes.signIn}`,\n        text: 'description.all_sign_in_options',\n      }}\n    >\n      <SingleSignOnFormModeContextProvider>\n        {isPasswordOnly ? (\n          <PasswordSignInForm signInMethods={signInMethods.map(({ identifier }) => identifier)} />\n        ) : (\n          <IdentifierSignInForm signInMethods={signInMethods} />\n        )}\n      </SingleSignOnFormModeContextProvider>\n    </FocusedAuthPageLayout>\n  );\n};\n\nexport default IdentifierSignIn;\n","import * as React from \"react\";\nconst SvgArrowNext = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 22, height: 22, viewBox: \"0 0 22 22\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M14.2448 10.3488L9.05651 5.16959C8.97129 5.08367 8.86991 5.01547 8.7582 4.96894C8.6465 4.9224 8.52669 4.89844 8.40567 4.89844C8.28466 4.89844 8.16485 4.9224 8.05315 4.96894C7.94144 5.01547 7.84006 5.08367 7.75484 5.16959C7.58411 5.34133 7.48828 5.57367 7.48828 5.81584C7.48828 6.05801 7.58411 6.29034 7.75484 6.46209L12.2923 11.0454L7.75484 15.5829C7.58411 15.7547 7.48828 15.987 7.48828 16.2292C7.48828 16.4713 7.58411 16.7037 7.75484 16.8754C7.83974 16.962 7.94098 17.0309 8.0527 17.0781C8.16442 17.1253 8.28439 17.1499 8.40567 17.1504C8.52696 17.1499 8.64693 17.1253 8.75865 17.0781C8.87037 17.0309 8.97161 16.962 9.05651 16.8754L14.2448 11.6963C14.3379 11.6104 14.4121 11.5062 14.4629 11.3903C14.5137 11.2743 14.5399 11.1491 14.5399 11.0225C14.5399 10.8959 14.5137 10.7707 14.4629 10.6547C14.4121 10.5388 14.3379 10.4346 14.2448 10.3488Z\", fill: \"currentcolor\" }));\nexport default SvgArrowNext;\n","import * as React from \"react\";\nconst SvgFactorBackupCode = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 20, height: 20, viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M10 16.6666H4.16666C3.94565 16.6666 3.73369 16.5788 3.57741 16.4225C3.42113 16.2663 3.33333 16.0543 3.33333 15.8333V4.16663C3.33333 3.94561 3.42113 3.73365 3.57741 3.57737C3.73369 3.42109 3.94565 3.33329 4.16666 3.33329H8.33333V5.83329C8.33333 6.49633 8.59672 7.13222 9.06556 7.60106C9.5344 8.0699 10.1703 8.33329 10.8333 8.33329H13.3333V9.16663C13.3333 9.38764 13.4211 9.5996 13.5774 9.75588C13.7337 9.91216 13.9457 9.99996 14.1667 9.99996C14.3877 9.99996 14.5996 9.91216 14.7559 9.75588C14.9122 9.5996 15 9.38764 15 9.16663V7.49996C15 7.49996 15 7.49996 15 7.44996C14.9913 7.3734 14.9746 7.29799 14.95 7.22496V7.14996C14.9099 7.06428 14.8565 6.98551 14.7917 6.91663L9.79166 1.91663C9.72278 1.85181 9.64401 1.79836 9.55833 1.75829C9.53346 1.75476 9.50821 1.75476 9.48333 1.75829C9.39868 1.70974 9.30518 1.67858 9.20833 1.66663H4.16666C3.50362 1.66663 2.86774 1.93002 2.3989 2.39886C1.93006 2.8677 1.66666 3.50358 1.66666 4.16663V15.8333C1.66666 16.4963 1.93006 17.1322 2.3989 17.6011C2.86774 18.0699 3.50362 18.3333 4.16666 18.3333H10C10.221 18.3333 10.433 18.2455 10.5893 18.0892C10.7455 17.9329 10.8333 17.721 10.8333 17.5C10.8333 17.2789 10.7455 17.067 10.5893 16.9107C10.433 16.7544 10.221 16.6666 10 16.6666ZM10 4.50829L12.1583 6.66663H10.8333C10.6123 6.66663 10.4004 6.57883 10.2441 6.42255C10.0878 6.26627 10 6.05431 10 5.83329V4.50829ZM5.83333 6.66663C5.61232 6.66663 5.40036 6.75442 5.24408 6.9107C5.0878 7.06698 5 7.27895 5 7.49996C5 7.72097 5.0878 7.93293 5.24408 8.08922C5.40036 8.2455 5.61232 8.33329 5.83333 8.33329H6.66666C6.88768 8.33329 7.09964 8.2455 7.25592 8.08922C7.4122 7.93293 7.5 7.72097 7.5 7.49996C7.5 7.27895 7.4122 7.06698 7.25592 6.9107C7.09964 6.75442 6.88768 6.66663 6.66666 6.66663H5.83333ZM18.0917 16.9083L17.1167 15.9416C17.4283 15.3977 17.553 14.7666 17.4718 14.1449C17.3905 13.5233 17.1077 12.9455 16.6667 12.5C16.2609 12.0797 15.7379 11.7914 15.1659 11.6726C14.5938 11.5538 13.9993 11.61 13.4597 11.8339C12.9201 12.0579 12.4605 12.4391 12.1406 12.928C11.8208 13.4169 11.6557 13.9908 11.6667 14.575C11.6638 15.0776 11.7924 15.5723 12.0397 16.0099C12.287 16.4475 12.6444 16.8129 13.0764 17.0698C13.5085 17.3267 14.0002 17.4661 14.5028 17.4744C15.0054 17.4826 15.5014 17.3593 15.9417 17.1166L16.9083 18.0916C16.9858 18.1697 17.078 18.2317 17.1795 18.274C17.2811 18.3163 17.39 18.3381 17.5 18.3381C17.61 18.3381 17.7189 18.3163 17.8205 18.274C17.922 18.2317 18.0142 18.1697 18.0917 18.0916C18.1698 18.0142 18.2318 17.922 18.2741 17.8204C18.3164 17.7189 18.3382 17.61 18.3382 17.5C18.3382 17.3899 18.3164 17.281 18.2741 17.1795C18.2318 17.0779 18.1698 16.9858 18.0917 16.9083ZM15.45 15.45C15.212 15.6738 14.8976 15.7984 14.5708 15.7984C14.2441 15.7984 13.9297 15.6738 13.6917 15.45C13.4623 15.2165 13.3336 14.9023 13.3333 14.575C13.3316 14.4106 13.3632 14.2476 13.4262 14.0958C13.4892 13.9439 13.5824 13.8065 13.7 13.6916C13.9222 13.4707 14.2201 13.3425 14.5333 13.3333C14.7018 13.3229 14.8706 13.3475 15.0291 13.4055C15.1877 13.4634 15.3325 13.5535 15.4546 13.6701C15.5766 13.7867 15.6733 13.9273 15.7385 14.083C15.8037 14.2387 15.8359 14.4062 15.8333 14.575C15.8264 14.9059 15.6886 15.2205 15.45 15.45ZM10.8333 9.99996H5.83333C5.61232 9.99996 5.40036 10.0878 5.24408 10.244C5.0878 10.4003 5 10.6123 5 10.8333C5 11.0543 5.0878 11.2663 5.24408 11.4225C5.40036 11.5788 5.61232 11.6666 5.83333 11.6666H10.8333C11.0543 11.6666 11.2663 11.5788 11.4226 11.4225C11.5789 11.2663 11.6667 11.0543 11.6667 10.8333C11.6667 10.6123 11.5789 10.4003 11.4226 10.244C11.2663 10.0878 11.0543 9.99996 10.8333 9.99996ZM9.16666 15C9.38768 15 9.59964 14.9122 9.75592 14.7559C9.9122 14.5996 10 14.3876 10 14.1666C10 13.9456 9.9122 13.7337 9.75592 13.5774C9.59964 13.4211 9.38768 13.3333 9.16666 13.3333H5.83333C5.61232 13.3333 5.40036 13.4211 5.24408 13.5774C5.0878 13.7337 5 13.9456 5 14.1666C5 14.3876 5.0878 14.5996 5.24408 14.7559C5.40036 14.9122 5.61232 15 5.83333 15H9.16666Z\", fill: \"currentColor\" }));\nexport default SvgFactorBackupCode;\n","import * as React from \"react\";\nconst SvgFactorTotp = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 20, height: 20, viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M17.5001 1.66663H12.5001C12.2791 1.66663 12.0671 1.75442 11.9108 1.9107C11.7545 2.06698 11.6667 2.27895 11.6667 2.49996C11.6667 2.72097 11.7545 2.93293 11.9108 3.08922C12.0671 3.2455 12.2791 3.33329 12.5001 3.33329H16.6667V7.49996C16.6667 7.72097 16.7545 7.93293 16.9108 8.08922C17.0671 8.2455 17.2791 8.33329 17.5001 8.33329C17.7211 8.33329 17.9331 8.2455 18.0893 8.08922C18.2456 7.93293 18.3334 7.72097 18.3334 7.49996V2.49996C18.3334 2.27895 18.2456 2.06698 18.0893 1.9107C17.9331 1.75442 17.7211 1.66663 17.5001 1.66663ZM17.5001 11.6666C17.2791 11.6666 17.0671 11.7544 16.9108 11.9107C16.7545 12.067 16.6667 12.2789 16.6667 12.5V16.6666H12.5001C12.2791 16.6666 12.0671 16.7544 11.9108 16.9107C11.7545 17.067 11.6667 17.2789 11.6667 17.5C11.6667 17.721 11.7545 17.9329 11.9108 18.0892C12.0671 18.2455 12.2791 18.3333 12.5001 18.3333H17.5001C17.7211 18.3333 17.9331 18.2455 18.0893 18.0892C18.2456 17.9329 18.3334 17.721 18.3334 17.5V12.5C18.3334 12.2789 18.2456 12.067 18.0893 11.9107C17.9331 11.7544 17.7211 11.6666 17.5001 11.6666ZM10.0001 4.99996C9.33704 4.99996 8.70116 5.26335 8.23231 5.73219C7.76347 6.20103 7.50008 6.83692 7.50008 7.49996V8.33329C7.05805 8.33329 6.63413 8.50889 6.32157 8.82145C6.00901 9.13401 5.83342 9.55793 5.83342 9.99996V13.3333C5.83342 13.7753 6.00901 14.1992 6.32157 14.5118C6.63413 14.8244 7.05805 15 7.50008 15H12.5001C12.9421 15 13.366 14.8244 13.6786 14.5118C13.9912 14.1992 14.1667 13.7753 14.1667 13.3333V9.99996C14.1667 9.55793 13.9912 9.13401 13.6786 8.82145C13.366 8.50889 12.9421 8.33329 12.5001 8.33329V7.49996C12.5001 6.83692 12.2367 6.20103 11.7678 5.73219C11.299 5.26335 10.6631 4.99996 10.0001 4.99996ZM9.16675 7.49996C9.16675 7.27895 9.25455 7.06698 9.41083 6.9107C9.56711 6.75442 9.77907 6.66663 10.0001 6.66663C10.2211 6.66663 10.4331 6.75442 10.5893 6.9107C10.7456 7.06698 10.8334 7.27895 10.8334 7.49996V8.33329H9.16675V7.49996ZM12.5001 13.3333H7.50008V9.99996H12.5001V13.3333ZM2.50008 8.33329C2.7211 8.33329 2.93306 8.2455 3.08934 8.08922C3.24562 7.93293 3.33341 7.72097 3.33341 7.49996V3.33329H7.50008C7.7211 3.33329 7.93306 3.2455 8.08934 3.08922C8.24562 2.93293 8.33342 2.72097 8.33342 2.49996C8.33342 2.27895 8.24562 2.06698 8.08934 1.9107C7.93306 1.75442 7.7211 1.66663 7.50008 1.66663H2.50008C2.27907 1.66663 2.06711 1.75442 1.91083 1.9107C1.75455 2.06698 1.66675 2.27895 1.66675 2.49996V7.49996C1.66675 7.72097 1.75455 7.93293 1.91083 8.08922C2.06711 8.2455 2.27907 8.33329 2.50008 8.33329ZM7.50008 16.6666H3.33341V12.5C3.33341 12.2789 3.24562 12.067 3.08934 11.9107C2.93306 11.7544 2.7211 11.6666 2.50008 11.6666C2.27907 11.6666 2.06711 11.7544 1.91083 11.9107C1.75455 12.067 1.66675 12.2789 1.66675 12.5V17.5C1.66675 17.721 1.75455 17.9329 1.91083 18.0892C2.06711 18.2455 2.27907 18.3333 2.50008 18.3333H7.50008C7.7211 18.3333 7.93306 18.2455 8.08934 18.0892C8.24562 17.9329 8.33342 17.721 8.33342 17.5C8.33342 17.2789 8.24562 17.067 8.08934 16.9107C7.93306 16.7544 7.7211 16.6666 7.50008 16.6666Z\", fill: \"currentColor\" }));\nexport default SvgFactorTotp;\n","import * as React from \"react\";\nconst SvgFactorWebauthn = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 20, height: 20, viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"g\", { clipPath: \"url(#clip0_1158_5594)\" }, /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M10 2.91659C10 2.68647 9.81345 2.49992 9.58333 2.49992H4.58333C4.35321 2.49992 4.16667 2.68647 4.16667 2.91659V5.83325H10V2.91659ZM4.16667 0.833252C3.24619 0.833252 2.5 1.57944 2.5 2.49992V5.83325C2.5 6.75373 3.24619 6.66658 4.16667 6.66658H10C10.9205 6.66658 11.6667 6.75373 11.6667 5.83325V2.49992C11.6667 1.57944 10.9205 0.833252 10 0.833252H4.16667Z\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M0.833336 7.49992C0.833336 6.57944 1.57953 5.83325 2.5 5.83325H11.6667C12.5871 5.83325 13.3333 6.57944 13.3333 7.49992L2.91667 7.49992C2.68655 7.49992 2.5 7.68647 2.5 7.91659V17.0833C2.5 17.3134 2.68655 17.4999 2.91667 17.4999H5C5.46024 17.4999 5.83334 17.873 5.83334 18.3333C5.83334 18.7935 5.46024 19.1666 5 19.1666H2.5C1.57953 19.1666 0.833336 18.4204 0.833336 17.4999V7.49992Z\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M5.83334 4.99992C5.3731 4.99992 5.00001 4.62682 5.00001 4.16659C5.00001 3.70635 5.3731 3.33325 5.83334 3.33325C6.29358 3.33325 6.66667 3.70635 6.66667 4.16659C6.66667 4.62682 6.29358 4.99992 5.83334 4.99992Z\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M8.33334 4.99992C7.8731 4.99992 7.5 4.62682 7.5 4.16659C7.5 3.70635 7.8731 3.33325 8.33334 3.33325C8.79358 3.33325 9.16667 3.70635 9.16667 4.16659C9.16667 4.62682 8.79358 4.99992 8.33334 4.99992Z\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M13.75 9.99992C11.6024 9.99992 10 11.5653 10 13.3333V18.3333C10 18.7935 9.62691 19.1666 9.16667 19.1666C8.70643 19.1666 8.33334 18.7935 8.33334 18.3333V13.3333C8.33334 10.4989 10.835 8.33325 13.75 8.33325C16.665 8.33325 19.1667 10.4989 19.1667 13.3333V14.9999C19.1667 15.4602 18.7936 15.8333 18.3333 15.8333C17.8731 15.8333 17.5 15.4602 17.5 14.9999V13.3333C17.5 11.5653 15.8976 9.99992 13.75 9.99992Z\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M13.75 12.4999C14.5169 12.4999 15 13.0477 15 13.5605V18.3333C15 18.7935 15.3731 19.1666 15.8333 19.1666C16.2936 19.1666 16.6667 18.7935 16.6667 18.3333V13.5605C16.6667 11.9813 15.2843 10.8333 13.75 10.8333C12.2157 10.8333 10.8333 11.9813 10.8333 13.5605V14.3181C10.8333 14.7783 11.2064 15.1514 11.6667 15.1514C12.1269 15.1514 12.5 14.7783 12.5 14.3181V13.5605C12.5 13.0477 12.9831 12.4999 13.75 12.4999Z\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M18.3333 16.6665C18.7936 16.6665 19.1667 17.0396 19.1667 17.4998L19.1667 18.3332C19.1667 18.7934 18.7936 19.1665 18.3333 19.1665C17.8731 19.1665 17.5 18.7934 17.5 18.3332L17.5 17.4998C17.5 17.0396 17.8731 16.6665 18.3333 16.6665Z\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M13.75 16.6665C14.2102 16.6665 14.5833 17.0396 14.5833 17.4998L14.5833 18.3332C14.5833 18.7934 14.2102 19.1665 13.75 19.1665C13.2898 19.1665 12.9167 18.7934 12.9167 18.3332L12.9167 17.4998C12.9167 17.0396 13.2898 16.6665 13.75 16.6665Z\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M11.6667 15.8333C12.1269 15.8333 12.5 16.2063 12.5 16.6666L12.5 18.3333C12.5 18.7935 12.1269 19.1666 11.6667 19.1666C11.2064 19.1666 10.8333 18.7935 10.8333 18.3333L10.8333 16.6666C10.8333 16.2063 11.2064 15.8333 11.6667 15.8333Z\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M13.75 13.3333C14.2102 13.3333 14.5833 13.7063 14.5833 14.1666V14.9999C14.5833 15.4602 14.2102 15.8333 13.75 15.8333C13.2898 15.8333 12.9167 15.4602 12.9167 14.9999V14.1666C12.9167 13.7063 13.2898 13.3333 13.75 13.3333Z\", fill: \"currentColor\" })), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"clip0_1158_5594\" }, /* @__PURE__ */ React.createElement(\"rect\", { width: 20, height: 20, fill: \"white\" }))));\nexport default SvgFactorWebauthn;\n","import { MfaFactor } from '@logto/schemas';\nimport classNames from 'classnames';\nimport { type TFuncKey } from 'i18next';\n\nimport ArrowNext from '@/assets/icons/arrow-next.svg?react';\nimport FactorBackupCode from '@/assets/icons/factor-backup-code.svg?react';\nimport FactorTotp from '@/assets/icons/factor-totp.svg?react';\nimport FactorWebAuthn from '@/assets/icons/factor-webauthn.svg?react';\n\nimport DynamicT from '../DynamicT';\nimport FlipOnRtl from '../FlipOnRtl';\n\nimport mfaFactorButtonStyles from './MfaFactorButton.module.scss';\nimport styles from './index.module.scss';\n\nexport type Props = {\n  readonly factor: MfaFactor;\n  readonly isBinding: boolean;\n  readonly onClick?: () => void;\n};\n\nconst factorIcon: Record<MfaFactor, SvgComponent> = {\n  [MfaFactor.TOTP]: FactorTotp,\n  [MfaFactor.WebAuthn]: FactorWebAuthn,\n  [MfaFactor.BackupCode]: FactorBackupCode,\n};\n\nconst factorName: Record<MfaFactor, TFuncKey> = {\n  [MfaFactor.TOTP]: 'mfa.totp',\n  [MfaFactor.WebAuthn]: 'mfa.webauthn',\n  [MfaFactor.BackupCode]: 'mfa.backup_code',\n};\n\nconst factorDescription: Record<MfaFactor, TFuncKey> = {\n  [MfaFactor.TOTP]: 'mfa.verify_totp_description',\n  [MfaFactor.WebAuthn]: 'mfa.verify_webauthn_description',\n  [MfaFactor.BackupCode]: 'mfa.verify_backup_code_description',\n};\n\nconst linkFactorDescription: Record<MfaFactor, TFuncKey> = {\n  [MfaFactor.TOTP]: 'mfa.link_totp_description',\n  [MfaFactor.WebAuthn]: 'mfa.link_webauthn_description',\n  [MfaFactor.BackupCode]: 'mfa.link_backup_code_description',\n};\n\nconst MfaFactorButton = ({ factor, isBinding, onClick }: Props) => {\n  const Icon = factorIcon[factor];\n\n  return (\n    <button\n      className={classNames(\n        styles.button,\n        styles.secondary,\n        styles.large,\n        mfaFactorButtonStyles.mfaFactorButton\n      )}\n      type=\"button\"\n      onClick={onClick}\n    >\n      <Icon className={mfaFactorButtonStyles.icon} />\n      <div className={mfaFactorButtonStyles.title}>\n        <div className={mfaFactorButtonStyles.name}>\n          <DynamicT forKey={factorName[factor]} />\n        </div>\n        <div className={mfaFactorButtonStyles.description}>\n          <DynamicT forKey={(isBinding ? linkFactorDescription : factorDescription)[factor]} />\n        </div>\n      </div>\n      <FlipOnRtl>\n        <ArrowNext className={mfaFactorButtonStyles.icon} />\n      </FlipOnRtl>\n    </button>\n  );\n};\n\nexport default MfaFactorButton;\n","import { MfaFactor } from '@logto/schemas';\nimport { useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport MfaFactorButton from '@/components/Button/MfaFactorButton';\nimport useStartTotpBinding from '@/hooks/use-start-totp-binding';\nimport useStartWebAuthnProcessing from '@/hooks/use-start-webauthn-processing';\nimport { UserMfaFlow } from '@/types';\nimport { type MfaFlowState } from '@/types/guard';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly flow: UserMfaFlow;\n  readonly flowState: MfaFlowState;\n};\n\nconst MfaFactorList = ({ flow, flowState }: Props) => {\n  const startTotpBinding = useStartTotpBinding();\n  const startWebAuthnProcessing = useStartWebAuthnProcessing();\n  const navigate = useNavigate();\n  const { availableFactors } = flowState;\n\n  const handleSelectFactor = useCallback(\n    async (factor: MfaFactor) => {\n      if (factor === MfaFactor.TOTP && flow === UserMfaFlow.MfaBinding) {\n        return startTotpBinding(flowState);\n      }\n\n      if (factor === MfaFactor.WebAuthn) {\n        return startWebAuthnProcessing(flow, flowState);\n      }\n\n      navigate(`/${flow}/${factor}`, { state: flowState });\n    },\n    [flow, flowState, navigate, startTotpBinding, startWebAuthnProcessing]\n  );\n\n  return (\n    <div className={styles.factorList}>\n      {availableFactors.map((factor) => (\n        <MfaFactorButton\n          key={factor}\n          factor={factor}\n          isBinding={flow === UserMfaFlow.MfaBinding}\n          onClick={async () => {\n            await handleSelectFactor(factor);\n          }}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default MfaFactorList;\n","import { useLocation } from 'react-router-dom';\nimport { validate } from 'superstruct';\n\nimport { mfaFlowStateGuard } from '@/types/guard';\n\nconst useMfaFlowState = () => {\n  const { state } = useLocation();\n  const [, mfaFlowState] = validate(state, mfaFlowStateGuard);\n\n  return mfaFlowState;\n};\n\nexport default useMfaFlowState;\n","import { InteractionEvent } from '@logto/schemas';\nimport { useCallback } from 'react';\n\nimport { skipMfa } from '@/apis/experience';\n\nimport useApi from './use-api';\nimport useErrorHandler from './use-error-handler';\nimport useGlobalRedirectTo from './use-global-redirect-to';\nimport useSubmitInteractionErrorHandler from './use-submit-interaction-error-handler';\n\nconst useSkipMfa = () => {\n  const asyncSkipMfa = useApi(skipMfa);\n  const redirectTo = useGlobalRedirectTo();\n\n  const handleError = useErrorHandler();\n  /**\n   * TODO: @simeng-li\n   * Need to find a better implementation.\n   * In the registration event, MFA binding flow is triggered after user creation,\n   * so the error handle logic is same as the pre-sign-in event.\n   * This is confusing and should be refactored.\n   */\n  const preSignInErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.SignIn, {\n    replace: true,\n  });\n\n  return useCallback(async () => {\n    const [error, result] = await asyncSkipMfa();\n    if (error) {\n      await handleError(error, preSignInErrorHandler);\n      return;\n    }\n\n    if (result) {\n      await redirectTo(result.redirectTo);\n    }\n  }, [asyncSkipMfa, handleError, preSignInErrorHandler, redirectTo]);\n};\n\nexport default useSkipMfa;\n","import { conditional } from '@silverhand/essentials';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport MfaFactorList from '@/containers/MfaFactorList';\nimport useMfaFlowState from '@/hooks/use-mfa-factors-state';\nimport useSkipMfa from '@/hooks/use-skip-mfa';\nimport { UserMfaFlow } from '@/types';\n\nimport ErrorPage from '../ErrorPage';\n\nconst MfaBinding = () => {\n  const flowState = useMfaFlowState();\n  const skipMfa = useSkipMfa();\n\n  if (!flowState) {\n    return <ErrorPage title=\"error.invalid_session\" />;\n  }\n\n  return (\n    <SecondaryPageLayout\n      title=\"mfa.add_mfa_factors\"\n      description=\"mfa.add_mfa_description\"\n      onSkip={conditional(flowState.skippable && skipMfa)}\n    >\n      <MfaFactorList flow={UserMfaFlow.MfaBinding} flowState={flowState} />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default MfaBinding;\n","import { InteractionEvent, type BindMfaPayload, type VerifyMfaPayload } from '@logto/schemas';\nimport { useCallback } from 'react';\n\nimport { bindMfa, verifyMfa } from '@/apis/experience';\nimport { UserMfaFlow } from '@/types';\n\nimport useApi from './use-api';\nimport useErrorHandler, { type ErrorHandlers } from './use-error-handler';\nimport useGlobalRedirectTo from './use-global-redirect-to';\nimport useSubmitInteractionErrorHandler from './use-submit-interaction-error-handler';\n\nexport type SendMfaPayloadApiOptions =\n  | {\n      flow: UserMfaFlow.MfaBinding;\n      payload: BindMfaPayload;\n      verificationId: string;\n    }\n  | {\n      flow: UserMfaFlow.MfaVerification;\n      payload: VerifyMfaPayload;\n      verificationId?: string;\n    };\n\nconst sendMfaPayloadApi = async ({ flow, payload, verificationId }: SendMfaPayloadApiOptions) => {\n  if (flow === UserMfaFlow.MfaBinding) {\n    return bindMfa(payload, verificationId);\n  }\n  return verifyMfa(payload, verificationId);\n};\n\nconst useSendMfaPayload = () => {\n  const asyncSendMfaPayload = useApi(sendMfaPayloadApi);\n  /**\n   * TODO: @simeng-li\n   * Need to find a better implementation.\n   * In the registration event, MFA binding flow is triggered after user creation,\n   * so the error handle logic is same as the pre-sign-in event.\n   * This is confusing and should be refactored.\n   */\n  const preSignInErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.SignIn, {\n    replace: true,\n  });\n  const handleError = useErrorHandler();\n  const redirectTo = useGlobalRedirectTo();\n\n  return useCallback(\n    async (\n      apiOptions: SendMfaPayloadApiOptions,\n      errorHandlers?: ErrorHandlers,\n      errorCallback?: () => void\n    ) => {\n      const [error, result] = await asyncSendMfaPayload(apiOptions);\n\n      if (error) {\n        await handleError(error, {\n          ...errorHandlers,\n          ...preSignInErrorHandler,\n        });\n        errorCallback?.();\n        return;\n      }\n\n      if (result) {\n        await redirectTo(result.redirectTo);\n      }\n    },\n    [asyncSendMfaPayload, handleError, preSignInErrorHandler, redirectTo]\n  );\n};\n\nexport default useSendMfaPayload;\n","import { useCallback } from 'react';\n\nimport useToast from './use-toast';\n\nconst useTextHandler = () => {\n  const { setToast } = useToast();\n\n  const copyText = useCallback(\n    async (text: string, successMessage: string) => {\n      await navigator.clipboard.writeText(text);\n      setToast(successMessage);\n    },\n    [setToast]\n  );\n\n  const downloadText = useCallback((text: string, filename: string) => {\n    const blob = new Blob([text], { type: 'text/plain' });\n    const downloadLink = document.createElement('a');\n    // eslint-disable-next-line @silverhand/fp/no-mutation\n    downloadLink.href = URL.createObjectURL(blob);\n    // eslint-disable-next-line @silverhand/fp/no-mutation\n    downloadLink.download = filename;\n    downloadLink.click();\n  }, []);\n\n  return {\n    copyText,\n    downloadText,\n  };\n};\n\nexport default useTextHandler;\n","import { MfaFactor } from '@logto/schemas';\nimport { t } from 'i18next';\nimport { useContext, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { validate } from 'superstruct';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport Button from '@/components/Button';\nimport DynamicT from '@/components/DynamicT';\nimport useSendMfaPayload from '@/hooks/use-send-mfa-payload';\nimport useTextHandler from '@/hooks/use-text-handler';\nimport ErrorPage from '@/pages/ErrorPage';\nimport { UserMfaFlow } from '@/types';\nimport { backupCodeBindingStateGuard } from '@/types/guard';\nimport { isNativeWebview } from '@/utils/native-sdk';\n\nimport styles from './index.module.scss';\n\nconst BackupCodeBinding = () => {\n  const { copyText, downloadText } = useTextHandler();\n  const sendMfaPayload = useSendMfaPayload();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const { verificationIdsMap } = useContext(UserInteractionContext);\n  const verificationId = verificationIdsMap[MfaFactor.BackupCode];\n\n  const { state } = useLocation();\n  const [, backupCodeBindingState] = validate(state, backupCodeBindingStateGuard);\n\n  if (!backupCodeBindingState || !verificationId) {\n    return <ErrorPage title=\"error.invalid_session\" />;\n  }\n\n  const { codes } = backupCodeBindingState;\n  const backupCodeTextContent = codes.join('\\n');\n\n  return (\n    <SecondaryPageLayout\n      isNavBarHidden\n      title=\"mfa.save_backup_code\"\n      description=\"mfa.save_backup_code_description\"\n    >\n      <div className={styles.container}>\n        <div className={styles.backupCodes}>\n          {codes.map((code) => (\n            <span key={code}>{code}</span>\n          ))}\n        </div>\n        <div className={styles.actions}>\n          {!isNativeWebview() && (\n            <Button\n              title=\"action.download\"\n              type=\"secondary\"\n              onClick={() => {\n                downloadText(backupCodeTextContent, 'backup_code.txt');\n              }}\n            />\n          )}\n          <Button\n            title=\"action.copy\"\n            type=\"secondary\"\n            onClick={() => {\n              void copyText(backupCodeTextContent, t('mfa.backup_code_copied'));\n            }}\n          />\n        </div>\n        <div className={styles.hint}>\n          <DynamicT forKey=\"mfa.backup_code_hint\" />\n        </div>\n        <Button\n          title=\"action.continue\"\n          isLoading={isSubmitting}\n          onClick={async () => {\n            setIsSubmitting(true);\n            await sendMfaPayload({\n              flow: UserMfaFlow.MfaBinding,\n              payload: { type: MfaFactor.BackupCode },\n              verificationId,\n            });\n            setIsSubmitting(false);\n          }}\n        />\n      </div>\n    </SecondaryPageLayout>\n  );\n};\n\nexport default BackupCodeBinding;\n","import classNames from 'classnames';\nimport type { TFuncKey } from 'i18next';\n\nimport DynamicT from '../DynamicT';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly className?: string;\n  readonly label?: TFuncKey;\n};\n\nconst Divider = ({ className, label }: Props) => {\n  const lineStyle = classNames(styles.line, label && styles.withLabel);\n\n  return (\n    <div className={classNames(styles.divider, className)}>\n      <i className={lineStyle} />\n      {label && (\n        <>\n          <DynamicT forKey={label} />\n          <i className={lineStyle} />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Divider;\n","import * as React from \"react\";\nconst SvgSwitchIcon = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 18, height: 18, viewBox: \"0 0 18 18\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M16.2825 6.71315L13.2825 3.71315C13.2126 3.64322 13.1295 3.58775 13.0382 3.54991C12.9468 3.51206 12.8489 3.49258 12.75 3.49258C12.5503 3.49258 12.3587 3.57192 12.2175 3.71315C12.0763 3.85438 11.9969 4.04592 11.9969 4.24565C11.9969 4.44538 12.0763 4.63692 12.2175 4.77815L13.9425 6.49565H5.24998C5.05107 6.49565 4.86031 6.57467 4.71965 6.71532C4.579 6.85597 4.49998 7.04674 4.49998 7.24565C4.49998 7.44456 4.579 7.63533 4.71965 7.77598C4.86031 7.91663 5.05107 7.99565 5.24998 7.99565H15.75C15.8981 7.99491 16.0426 7.95036 16.1654 7.86761C16.2882 7.78486 16.3837 7.66762 16.44 7.53065C16.4974 7.39407 16.5131 7.24353 16.4851 7.09804C16.457 6.95255 16.3866 6.81862 16.2825 6.71315ZM12.75 10.4957H2.24998C2.10191 10.4964 1.95738 10.5409 1.83459 10.6237C1.7118 10.7064 1.61625 10.8237 1.55998 10.9607C1.50255 11.0972 1.48686 11.2478 1.51489 11.3933C1.54292 11.5388 1.61341 11.6727 1.71748 11.7782L4.71748 14.7782C4.78721 14.8484 4.87016 14.9042 4.96155 14.9423C5.05294 14.9804 5.15097 15 5.24998 15C5.34899 15 5.44702 14.9804 5.53842 14.9423C5.62981 14.9042 5.71276 14.8484 5.78248 14.7782C5.85278 14.7084 5.90858 14.6255 5.94665 14.5341C5.98473 14.4427 6.00433 14.3447 6.00433 14.2457C6.00433 14.1466 5.98473 14.0486 5.94665 13.9572C5.90858 13.8658 5.85278 13.7829 5.78248 13.7132L4.05748 11.9957H12.75C12.9489 11.9957 13.1397 11.9166 13.2803 11.776C13.421 11.6353 13.5 11.4446 13.5 11.2457C13.5 11.0467 13.421 10.856 13.2803 10.7153C13.1397 10.5747 12.9489 10.4957 12.75 10.4957Z\", fill: \"currentcolor\" }));\nexport default SvgSwitchIcon;\n","import SwitchIcon from '@/assets/icons/switch-icon.svg?react';\nimport { UserMfaFlow } from '@/types';\nimport { type MfaFlowState } from '@/types/guard';\n\nimport TextLink from '../TextLink';\n\ntype Props = {\n  readonly flow: UserMfaFlow;\n  readonly flowState: MfaFlowState;\n  readonly className?: string;\n};\n\nconst SwitchMfaFactorsLink = ({ flow, flowState, className }: Props) => {\n  const { availableFactors } = flowState;\n\n  if (availableFactors.length < 2) {\n    return null;\n  }\n\n  return (\n    <TextLink\n      to={`/${flow}`}\n      text={\n        flow === UserMfaFlow.MfaBinding\n          ? 'mfa.link_another_mfa_factor'\n          : 'mfa.try_another_verification_method'\n      }\n      className={className}\n      icon={<SwitchIcon />}\n      state={flowState}\n    />\n  );\n};\n\nexport default SwitchMfaFactorsLink;\n","import { type TFuncKey } from 'i18next';\nimport { type ReactNode } from 'react';\n\nimport DynamicT from '@/components/DynamicT';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly title: TFuncKey;\n  readonly description: TFuncKey;\n  readonly titleProps?: Record<string, unknown>;\n  readonly descriptionProps?: Record<string, unknown>;\n  readonly children: ReactNode;\n};\n\nconst SectionLayout = ({ title, description, titleProps, descriptionProps, children }: Props) => {\n  return (\n    <div>\n      <div className={styles.title}>\n        <DynamicT forKey={title} interpolation={titleProps} />\n      </div>\n      <div className={styles.description}>\n        <DynamicT forKey={description} interpolation={descriptionProps} />\n      </div>\n      {children}\n    </div>\n  );\n};\n\nexport default SectionLayout;\n","import { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport SectionLayout from '@/Layout/SectionLayout';\nimport Button from '@/components/Button';\nimport TextLink from '@/components/TextLink';\nimport usePlatform from '@/hooks/use-platform';\nimport useTextHandler from '@/hooks/use-text-handler';\nimport { type TotpBindingState } from '@/types/guard';\n\nimport styles from './index.module.scss';\n\nconst SecretSection = ({ secret, secretQrCode }: TotpBindingState) => {\n  const { t } = useTranslation();\n  const { isMobile } = usePlatform();\n  const [isQrCodeFormat, setIsQrCodeFormat] = useState(!isMobile);\n  const { copyText } = useTextHandler();\n\n  return (\n    <SectionLayout\n      title=\"mfa.step\"\n      titleProps={{\n        step: 1,\n        content: t(isQrCodeFormat ? 'mfa.scan_qr_code' : 'mfa.copy_and_paste_key'),\n      }}\n      description={\n        isQrCodeFormat ? 'mfa.scan_qr_code_description' : 'mfa.copy_and_paste_key_description'\n      }\n    >\n      <div className={styles.secretContent}>\n        {isQrCodeFormat && secretQrCode && (\n          <div className={styles.qrCode}>\n            <img src={secretQrCode} alt=\"QR code\" />\n          </div>\n        )}\n        {!isQrCodeFormat && (\n          <div className={styles.copySecret}>\n            <div className={styles.rawSecret}>{secret}</div>\n            <Button\n              title=\"action.copy\"\n              type=\"secondary\"\n              onClick={() => {\n                void copyText(secret, t('mfa.secret_key_copied'));\n              }}\n            />\n          </div>\n        )}\n        <TextLink\n          text={isQrCodeFormat ? 'mfa.qr_code_not_available' : 'mfa.want_to_scan_qr_code'}\n          onClick={() => {\n            setIsQrCodeFormat(!isQrCodeFormat);\n          }}\n        />\n      </div>\n    </SectionLayout>\n  );\n};\n\nexport default SecretSection;\n","import type { FormEventHandler, KeyboardEventHandler, ClipboardEventHandler } from 'react';\nimport { useMemo, useRef, useCallback, useEffect } from 'react';\n\nimport ErrorMessage from '@/components/ErrorMessage';\n\nimport styles from './index.module.scss';\n\nexport const defaultLength = 6;\n\nexport type Props = {\n  readonly name: string;\n  readonly className?: string;\n  readonly length?: number;\n  readonly value: string[];\n  readonly error?: string;\n  readonly onChange: (value: string[]) => void;\n};\n\nconst isNumeric = (char: string) => /^\\d+$/.test(char);\n\nconst normalize = (value: string[], length: number): string[] => {\n  if (value.length > length) {\n    return value.slice(0, length);\n  }\n\n  if (value.length < length) {\n    // Undefined will not overwrite the original input displays, need to pass in empty string instead\n    return value.concat(Array.from<string>({ length: length - value.length }).fill(''));\n  }\n\n  return value;\n};\n\nconst VerificationCode = ({\n  name,\n  className,\n  value,\n  length = defaultLength,\n  error,\n  onChange,\n}: Props) => {\n  /* eslint-disable @typescript-eslint/ban-types */\n  const inputReferences = useRef<Array<HTMLInputElement | null>>(\n    Array.from<null>({ length }).fill(null)\n  );\n  /* eslint-enable @typescript-eslint/ban-types */\n\n  const codes = useMemo(() => normalize(value, length), [length, value]);\n\n  const updateValue = useCallback(\n    (data: string, targetId: number) => {\n      // Filter non-numeric input\n      if (!isNumeric(data)) {\n        return;\n      }\n\n      const chars = data.split('');\n      const trimmedChars = chars.slice(0, Math.min(chars.length, codes.length - targetId));\n\n      const value = [\n        ...codes.slice(0, targetId),\n        ...trimmedChars,\n        ...codes.slice(targetId + trimmedChars.length, codes.length),\n      ];\n\n      onChange(value);\n\n      // Move to the next target\n      const nextTarget =\n        inputReferences.current[Math.min(targetId + trimmedChars.length, codes.length - 1)];\n      nextTarget?.focus();\n    },\n    [codes, onChange]\n  );\n\n  const onInputHandler: FormEventHandler<HTMLInputElement> = useCallback(\n    (event) => {\n      const { target } = event;\n\n      if (!(target instanceof HTMLInputElement)) {\n        return;\n      }\n\n      const { value, dataset } = target;\n\n      // Unrecognized target input field\n      if (!dataset.id) {\n        return;\n      }\n\n      event.preventDefault();\n      updateValue(value, Number(dataset.id));\n    },\n    [updateValue]\n  );\n\n  const onPasteHandler: ClipboardEventHandler<HTMLInputElement> = useCallback(\n    (event) => {\n      if (!(event.target instanceof HTMLInputElement)) {\n        return;\n      }\n\n      const {\n        target: { dataset },\n        clipboardData,\n      } = event;\n\n      const data = clipboardData.getData('text').match(/\\d/g)?.join('') ?? '';\n\n      // Unrecognized target input field\n      if (!dataset.id) {\n        return;\n      }\n\n      event.preventDefault();\n      updateValue(data, Number(dataset.id));\n    },\n    [updateValue]\n  );\n\n  const onKeyDownHandler: KeyboardEventHandler<HTMLInputElement> = useCallback(\n    (event) => {\n      const { key, target } = event;\n\n      if (!(target instanceof HTMLInputElement)) {\n        return;\n      }\n\n      const { value, dataset } = target;\n\n      if (!dataset.id) {\n        return;\n      }\n\n      const targetId = Number(dataset.id);\n\n      const nextTarget = inputReferences.current[targetId + 1];\n      const previousTarget = inputReferences.current[targetId - 1];\n\n      switch (key) {\n        case 'Backspace': {\n          event.preventDefault();\n\n          if (value) {\n            onChange(Object.assign([], codes, { [targetId]: '' }));\n            break;\n          }\n\n          if (previousTarget) {\n            previousTarget.focus();\n            onChange(Object.assign([], codes, { [targetId - 1]: '' }));\n          }\n\n          break;\n        }\n\n        case 'ArrowLeft': {\n          event.preventDefault();\n          previousTarget?.focus();\n          break;\n        }\n\n        case 'ArrowRight': {\n          event.preventDefault();\n          nextTarget?.focus();\n          break;\n        }\n        case '+':\n        case '-':\n        case 'e':\n        case '.':\n        case 'ArrowUp':\n        case 'ArrowDown': {\n          event.preventDefault();\n          break;\n        }\n\n        default: {\n          break;\n        }\n      }\n    },\n    [codes, onChange]\n  );\n\n  useEffect(() => {\n    if (value.length === 0) {\n      inputReferences.current[0]?.focus();\n    }\n  }, [value]);\n\n  return (\n    <div className={className}>\n      <div className={styles.passcode}>\n        {Array.from({ length }).map((_, index) => (\n          <input\n            ref={(element) => {\n              // eslint-disable-next-line @silverhand/fp/no-mutation\n              inputReferences.current[index] = element;\n            }}\n            // eslint-disable-next-line react/no-array-index-key\n            key={`${name}_${index}`}\n            name={`${name}_${index}`}\n            data-id={index}\n            value={codes[index]}\n            type=\"number\"\n            inputMode=\"numeric\"\n            pattern=\"[0-9]*\"\n            autoComplete=\"off\"\n            onPaste={onPasteHandler}\n            onInput={onInputHandler}\n            onKeyDown={onKeyDownHandler}\n          />\n        ))}\n      </div>\n      {error && <ErrorMessage className={styles.errorMessage}>{error}</ErrorMessage>}\n    </div>\n  );\n};\n\nexport default VerificationCode;\n","import { MfaFactor } from '@logto/schemas';\nimport { useCallback, useMemo, useState } from 'react';\n\nimport { type ErrorHandlers } from '@/hooks/use-error-handler';\nimport useSendMfaPayload from '@/hooks/use-send-mfa-payload';\nimport { type UserMfaFlow } from '@/types';\n\nconst useTotpCodeVerification = (errorCallback?: () => void) => {\n  const [errorMessage, setErrorMessage] = useState<string>();\n  const sendMfaPayload = useSendMfaPayload();\n\n  const invalidCodeErrorHandlers: ErrorHandlers = useMemo(\n    () => ({\n      'session.mfa.invalid_totp_code': (error) => {\n        setErrorMessage(error.message);\n      },\n    }),\n    []\n  );\n\n  const onSubmit = useCallback(\n    async (\n      code: string,\n      payload:\n        | { flow: UserMfaFlow.MfaBinding; verificationId: string }\n        | { flow: UserMfaFlow.MfaVerification }\n    ) => {\n      await sendMfaPayload(\n        { payload: { type: MfaFactor.TOTP, code }, ...payload },\n        invalidCodeErrorHandlers,\n        errorCallback\n      );\n    },\n    [errorCallback, invalidCodeErrorHandlers, sendMfaPayload]\n  );\n\n  return {\n    errorMessage,\n    onSubmit,\n  };\n};\n\nexport default useTotpCodeVerification;\n","import { useCallback, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport Button from '@/components/Button';\nimport VerificationCodeInput from '@/components/VerificationCode';\nimport { type UserMfaFlow } from '@/types';\n\nimport styles from './index.module.scss';\nimport useTotpCodeVerification from './use-totp-code-verification';\n\nconst totpCodeLength = 6;\n\nconst isCodeReady = (code: string[]) => {\n  return code.length === totpCodeLength && code.every(Boolean);\n};\n\ntype Props<T extends UserMfaFlow> = T extends UserMfaFlow.MfaBinding\n  ? {\n      flow: T;\n      verificationId: string;\n    }\n  : {\n      flow: T;\n    };\n\nconst TotpCodeVerification = <T extends UserMfaFlow>(props: Props<T>) => {\n  const { t } = useTranslation();\n\n  const [codeInput, setCodeInput] = useState<string[]>([]);\n  const [inputErrorMessage, setInputErrorMessage] = useState<string>();\n\n  const errorCallback = useCallback(() => {\n    setCodeInput([]);\n    setInputErrorMessage(undefined);\n  }, []);\n\n  const { errorMessage: submitErrorMessage, onSubmit } = useTotpCodeVerification(errorCallback);\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const errorMessage = inputErrorMessage ?? submitErrorMessage;\n\n  const handleSubmit = useCallback(\n    async (code: string[]) => {\n      if (isSubmitting) {\n        return;\n      }\n\n      setInputErrorMessage(undefined);\n      setIsSubmitting(true);\n\n      await onSubmit(code.join(''), props);\n      setIsSubmitting(false);\n    },\n    [onSubmit, isSubmitting, props]\n  );\n\n  return (\n    <>\n      <VerificationCodeInput\n        name=\"totpCode\"\n        value={codeInput}\n        className={styles.totpCodeInput}\n        error={errorMessage}\n        onChange={(code) => {\n          setCodeInput(code);\n          if (isCodeReady(code)) {\n            void handleSubmit(code);\n          }\n        }}\n      />\n      <Button\n        title=\"action.continue\"\n        type=\"primary\"\n        className={styles.continueButton}\n        isLoading={isSubmitting}\n        onClick={() => {\n          if (!isCodeReady(codeInput)) {\n            setInputErrorMessage(t('error.invalid_passcode'));\n            return;\n          }\n\n          void handleSubmit(codeInput);\n        }}\n      />\n    </>\n  );\n};\n\nexport default TotpCodeVerification;\n","import { useTranslation } from 'react-i18next';\n\nimport SectionLayout from '@/Layout/SectionLayout';\nimport TotpCodeVerification from '@/containers/TotpCodeVerification';\nimport { UserMfaFlow } from '@/types';\n\ntype Props = {\n  readonly verificationId: string;\n};\n\nconst VerificationSection = ({ verificationId }: Props) => {\n  const { t } = useTranslation();\n\n  return (\n    <SectionLayout\n      title=\"mfa.step\"\n      titleProps={{\n        step: 2,\n        content: t('mfa.enter_one_time_code'),\n      }}\n      description=\"mfa.enter_one_time_code_link_description\"\n    >\n      <TotpCodeVerification flow={UserMfaFlow.MfaBinding} verificationId={verificationId} />\n    </SectionLayout>\n  );\n};\n\nexport default VerificationSection;\n","import { VerificationType } from '@logto/schemas';\nimport { conditional } from '@silverhand/essentials';\nimport { useContext } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { validate } from 'superstruct';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport Divider from '@/components/Divider';\nimport SwitchMfaFactorsLink from '@/components/SwitchMfaFactorsLink';\nimport useSkipMfa from '@/hooks/use-skip-mfa';\nimport ErrorPage from '@/pages/ErrorPage';\nimport { UserMfaFlow } from '@/types';\nimport { totpBindingStateGuard } from '@/types/guard';\n\nimport SecretSection from './SecretSection';\nimport VerificationSection from './VerificationSection';\nimport styles from './index.module.scss';\n\nconst TotpBinding = () => {\n  const { state } = useLocation();\n  const [, totpBindingState] = validate(state, totpBindingStateGuard);\n  const { verificationIdsMap } = useContext(UserInteractionContext);\n  const verificationId = verificationIdsMap[VerificationType.TOTP];\n\n  const skipMfa = useSkipMfa();\n\n  if (!totpBindingState || !verificationId) {\n    return <ErrorPage title=\"error.invalid_session\" />;\n  }\n\n  const { availableFactors, skippable } = totpBindingState;\n\n  return (\n    <SecondaryPageLayout\n      title=\"mfa.add_authenticator_app\"\n      onSkip={conditional(skippable && skipMfa)}\n    >\n      <div className={styles.container}>\n        <SecretSection {...totpBindingState} />\n        <Divider />\n        <VerificationSection verificationId={verificationId} />\n        {availableFactors.length > 1 && (\n          <>\n            <Divider />\n            <SwitchMfaFactorsLink\n              flow={UserMfaFlow.MfaBinding}\n              flowState={{ availableFactors, skippable }}\n              className={styles.switchLink}\n            />\n          </>\n        )}\n      </div>\n    </SecondaryPageLayout>\n  );\n};\n\nexport default TotpBinding;\n","import {\n  MfaFactor,\n  webAuthnRegistrationOptionsGuard,\n  type WebAuthnAuthenticationOptions,\n  type WebAuthnRegistrationOptions,\n} from '@logto/schemas';\nimport { trySafe } from '@silverhand/essentials';\nimport {\n  browserSupportsWebAuthn,\n  startAuthentication,\n  startRegistration,\n} from '@simplewebauthn/browser';\nimport type { RegistrationResponseJSON, AuthenticationResponseJSON } from '@simplewebauthn/types';\nimport { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { UserMfaFlow } from '@/types';\n\nimport useSendMfaPayload from './use-send-mfa-payload';\nimport useToast from './use-toast';\n\ntype WebAuthnOptions = WebAuthnRegistrationOptions | WebAuthnAuthenticationOptions;\n\nconst isAuthenticationResponseJSON = (\n  responseJson: RegistrationResponseJSON | AuthenticationResponseJSON\n): responseJson is AuthenticationResponseJSON => {\n  return 'signature' in responseJson.response;\n};\n\nconst useWebAuthnOperation = () => {\n  const { t } = useTranslation();\n  const { setToast } = useToast();\n  const sendMfaPayload = useSendMfaPayload();\n\n  return useCallback(\n    /**\n     * Note:\n     * Due to limitations in the iOS system, user interaction is required for the use of the WebAuthn API.\n     * Therefore, we should avoid asynchronous operations before invoking the WebAuthn API or the os may consider the WebAuthn authorization is not initiated by the user.\n     * So, we need to prepare the necessary WebAuthn options before calling the WebAuthn API, this is why we don't generate the options in this function.\n     */\n    async (options: WebAuthnOptions, verificationId: string) => {\n      if (!browserSupportsWebAuthn()) {\n        setToast(t('mfa.webauthn_not_supported'));\n        return;\n      }\n\n      const parsedRegistrationOptions = webAuthnRegistrationOptionsGuard.safeParse(options);\n\n      const response = await trySafe(\n        async () =>\n          parsedRegistrationOptions.success\n            ? startRegistration(parsedRegistrationOptions.data)\n            : startAuthentication(options),\n        () => {\n          setToast(\n            t(\n              parsedRegistrationOptions.success\n                ? 'mfa.webauthn_failed_to_create'\n                : 'mfa.webauthn_failed_to_verify'\n            )\n          );\n        }\n      );\n\n      if (!response) {\n        return;\n      }\n\n      /**\n       * Assert type manually to get the correct type\n       */\n      await sendMfaPayload(\n        isAuthenticationResponseJSON(response)\n          ? {\n              flow: UserMfaFlow.MfaVerification,\n              payload: { ...response, type: MfaFactor.WebAuthn },\n              verificationId,\n            }\n          : {\n              flow: UserMfaFlow.MfaBinding,\n              payload: { ...response, type: MfaFactor.WebAuthn },\n              verificationId,\n            }\n      );\n    },\n    [sendMfaPayload, setToast, t]\n  );\n};\n\nexport default useWebAuthnOperation;\n","import {\n  webAuthnRegistrationOptionsGuard,\n  webAuthnAuthenticationOptionsGuard,\n} from '@logto/schemas';\n\nimport { type WebAuthnOptions } from '@/types';\n\nexport const isWebAuthnOptions = (options: Record<string, unknown>): options is WebAuthnOptions =>\n  webAuthnRegistrationOptionsGuard.safeParse(options).success ||\n  webAuthnAuthenticationOptionsGuard.safeParse(options).success;\n","import { VerificationType } from '@logto/schemas';\nimport { conditional } from '@silverhand/essentials';\nimport { useContext, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { validate } from 'superstruct';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport Button from '@/components/Button';\nimport SwitchMfaFactorsLink from '@/components/SwitchMfaFactorsLink';\nimport useSkipMfa from '@/hooks/use-skip-mfa';\nimport useWebAuthnOperation from '@/hooks/use-webauthn-operation';\nimport ErrorPage from '@/pages/ErrorPage';\nimport { UserMfaFlow } from '@/types';\nimport { webAuthnStateGuard } from '@/types/guard';\nimport { isWebAuthnOptions } from '@/utils/webauthn';\n\nimport styles from './index.module.scss';\n\nconst WebAuthnBinding = () => {\n  const { state } = useLocation();\n  const [, webAuthnState] = validate(state, webAuthnStateGuard);\n  const { verificationIdsMap } = useContext(UserInteractionContext);\n  const verificationId = verificationIdsMap[VerificationType.WebAuthn];\n\n  const handleWebAuthn = useWebAuthnOperation();\n  const skipMfa = useSkipMfa();\n  const [isCreatingPasskey, setIsCreatingPasskey] = useState(false);\n\n  if (!webAuthnState || !verificationId) {\n    return <ErrorPage title=\"error.invalid_session\" />;\n  }\n\n  const { options, availableFactors, skippable } = webAuthnState;\n\n  if (!isWebAuthnOptions(options)) {\n    return <ErrorPage title=\"error.invalid_session\" />;\n  }\n\n  return (\n    <SecondaryPageLayout\n      title=\"mfa.create_a_passkey\"\n      description=\"mfa.create_passkey_description\"\n      onSkip={conditional(skippable && skipMfa)}\n    >\n      <Button\n        title=\"mfa.create_a_passkey\"\n        isLoading={isCreatingPasskey}\n        onClick={async () => {\n          setIsCreatingPasskey(true);\n          await handleWebAuthn(options, verificationId);\n          setIsCreatingPasskey(false);\n        }}\n      />\n      <SwitchMfaFactorsLink\n        flow={UserMfaFlow.MfaBinding}\n        flowState={{ availableFactors, skippable }}\n        className={styles.switchLink}\n      />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default WebAuthnBinding;\n","import SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport MfaFactorList from '@/containers/MfaFactorList';\nimport useMfaFlowState from '@/hooks/use-mfa-factors-state';\nimport { UserMfaFlow } from '@/types';\n\nimport ErrorPage from '../ErrorPage';\n\nconst MfaVerification = () => {\n  const flowState = useMfaFlowState();\n\n  if (!flowState) {\n    return <ErrorPage title=\"error.invalid_session\" />;\n  }\n\n  return (\n    <SecondaryPageLayout title=\"mfa.verify_mfa_factors\" description=\"mfa.verify_mfa_description\">\n      <MfaFactorList flow={UserMfaFlow.MfaVerification} flowState={flowState} />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default MfaVerification;\n","import { MfaFactor } from '@logto/schemas';\nimport { t } from 'i18next';\nimport { useCallback, type FormEvent } from 'react';\nimport { useForm } from 'react-hook-form';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport SectionLayout from '@/Layout/SectionLayout';\nimport Button from '@/components/Button';\nimport { InputField } from '@/components/InputFields';\nimport SwitchMfaFactorsLink from '@/components/SwitchMfaFactorsLink';\nimport useMfaFlowState from '@/hooks/use-mfa-factors-state';\nimport useSendMfaPayload from '@/hooks/use-send-mfa-payload';\nimport ErrorPage from '@/pages/ErrorPage';\nimport { UserMfaFlow } from '@/types';\n\nimport styles from './index.module.scss';\n\ntype FormState = {\n  code: string;\n};\n\nconst BackupCodeVerification = () => {\n  const flowState = useMfaFlowState();\n  const sendMfaPayload = useSendMfaPayload();\n  const {\n    register,\n    handleSubmit,\n    formState: { isSubmitting },\n  } = useForm<FormState>({ defaultValues: { code: '' } });\n\n  const onSubmitHandler = useCallback(\n    (event?: FormEvent<HTMLFormElement>) => {\n      void handleSubmit(async ({ code }) => {\n        await sendMfaPayload({\n          flow: UserMfaFlow.MfaVerification,\n          payload: { type: MfaFactor.BackupCode, code },\n        });\n      })(event);\n    },\n    [handleSubmit, sendMfaPayload]\n  );\n\n  if (!flowState) {\n    return <ErrorPage title=\"error.invalid_session\" />;\n  }\n\n  return (\n    <SecondaryPageLayout title=\"mfa.verify_mfa_factors\">\n      <SectionLayout\n        title=\"mfa.enter_a_backup_code\"\n        description=\"mfa.enter_backup_code_description\"\n      >\n        <form onSubmit={onSubmitHandler}>\n          <InputField\n            autoComplete=\"off\"\n            label={t('input.backup_code')}\n            className={styles.backupCodeInput}\n            {...register('code')}\n          />\n          <Button title=\"action.continue\" htmlType=\"submit\" isLoading={isSubmitting} />\n        </form>\n      </SectionLayout>\n      <SwitchMfaFactorsLink\n        flow={UserMfaFlow.MfaVerification}\n        flowState={flowState}\n        className={styles.switchFactorLink}\n      />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default BackupCodeVerification;\n","import SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport SectionLayout from '@/Layout/SectionLayout';\nimport SwitchMfaFactorsLink from '@/components/SwitchMfaFactorsLink';\nimport TotpCodeVerification from '@/containers/TotpCodeVerification';\nimport useMfaFlowState from '@/hooks/use-mfa-factors-state';\nimport ErrorPage from '@/pages/ErrorPage';\nimport { UserMfaFlow } from '@/types';\n\nimport styles from './index.module.scss';\n\nconst TotpVerification = () => {\n  const flowState = useMfaFlowState();\n\n  if (!flowState) {\n    return <ErrorPage title=\"error.invalid_session\" />;\n  }\n\n  return (\n    <SecondaryPageLayout title=\"mfa.verify_mfa_factors\">\n      <SectionLayout\n        title=\"mfa.enter_one_time_code\"\n        description=\"mfa.enter_one_time_code_description\"\n      >\n        <TotpCodeVerification flow={UserMfaFlow.MfaVerification} />\n      </SectionLayout>\n      <SwitchMfaFactorsLink\n        flow={UserMfaFlow.MfaVerification}\n        flowState={flowState}\n        className={styles.switchFactorLink}\n      />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default TotpVerification;\n","import { VerificationType } from '@logto/schemas';\nimport { useContext, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { validate } from 'superstruct';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport SectionLayout from '@/Layout/SectionLayout';\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport Button from '@/components/Button';\nimport SwitchMfaFactorsLink from '@/components/SwitchMfaFactorsLink';\nimport useWebAuthnOperation from '@/hooks/use-webauthn-operation';\nimport ErrorPage from '@/pages/ErrorPage';\nimport { UserMfaFlow } from '@/types';\nimport { webAuthnStateGuard } from '@/types/guard';\nimport { isWebAuthnOptions } from '@/utils/webauthn';\n\nimport styles from './index.module.scss';\n\nconst WebAuthnVerification = () => {\n  const { state } = useLocation();\n  const [, webAuthnState] = validate(state, webAuthnStateGuard);\n  const { verificationIdsMap } = useContext(UserInteractionContext);\n  const verificationId = verificationIdsMap[VerificationType.WebAuthn];\n\n  const handleWebAuthn = useWebAuthnOperation();\n  const [isVerifying, setIsVerifying] = useState(false);\n\n  if (!webAuthnState || !verificationId) {\n    return <ErrorPage title=\"error.invalid_session\" />;\n  }\n\n  const { options, availableFactors, skippable } = webAuthnState;\n\n  if (!isWebAuthnOptions(options)) {\n    return <ErrorPage title=\"error.invalid_session\" />;\n  }\n\n  return (\n    <SecondaryPageLayout title=\"mfa.verify_mfa_factors\">\n      <SectionLayout\n        title=\"mfa.verify_via_passkey\"\n        description=\"mfa.verify_via_passkey_description\"\n      >\n        <Button\n          title=\"action.verify_via_passkey\"\n          className={styles.verifyButton}\n          isLoading={isVerifying}\n          onClick={async () => {\n            setIsVerifying(true);\n            await handleWebAuthn(options, verificationId);\n            setIsVerifying(false);\n          }}\n        />\n      </SectionLayout>\n      <SwitchMfaFactorsLink\n        flow={UserMfaFlow.MfaVerification}\n        flowState={{ availableFactors, skippable }}\n      />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default WebAuthnVerification;\n","import {\n  AgreeToTermsPolicy,\n  ExtraParamsKey,\n  InteractionEvent,\n  SignInIdentifier,\n  type RequestErrorBody,\n} from '@logto/schemas';\nimport { condString } from '@silverhand/essentials';\nimport { useCallback, useContext, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport {\n  identifyAndSubmitInteraction,\n  signInWithVerifiedIdentifier,\n  registerWithOneTimeToken,\n} from '@/apis/experience';\nimport LoadingLayer from '@/components/LoadingLayer';\nimport useApi from '@/hooks/use-api';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport useGlobalRedirectTo from '@/hooks/use-global-redirect-to';\nimport useSubmitInteractionErrorHandler from '@/hooks/use-submit-interaction-error-handler';\nimport useTerms from '@/hooks/use-terms';\n\nimport ErrorPage from '../ErrorPage';\n\nconst OneTimeToken = () => {\n  const [params] = useSearchParams();\n  const [oneTimeTokenError, setOneTimeTokenError] = useState<string | boolean>();\n\n  const asyncIdentifyUserAndSubmit = useApi(identifyAndSubmitInteraction);\n  const asyncSignInWithVerifiedIdentifier = useApi(signInWithVerifiedIdentifier);\n  const asyncRegisterWithOneTimeToken = useApi(registerWithOneTimeToken);\n\n  const { setIdentifierInputValue } = useContext(UserInteractionContext);\n  const { termsValidation, agreeToTermsPolicy } = useTerms();\n  const handleError = useErrorHandler();\n  const redirectTo = useGlobalRedirectTo();\n  const preSignInErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.SignIn);\n  const preRegisterErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.Register);\n\n  /**\n   * Update interaction event to `SignIn`, and then identify user and submit.\n   */\n  const signInWithOneTimeToken = useCallback(\n    async (verificationId: string) => {\n      const [error, result] = await asyncSignInWithVerifiedIdentifier(verificationId);\n\n      if (error) {\n        await handleError(error, preSignInErrorHandler);\n        return;\n      }\n\n      if (result?.redirectTo) {\n        await redirectTo(result.redirectTo);\n      }\n    },\n    [preSignInErrorHandler, asyncSignInWithVerifiedIdentifier, handleError, redirectTo]\n  );\n\n  /**\n   * Always try to submit the one-time token interaction with `Register` event first.\n   * If the email already exists, call the `signInWithOneTimeToken` function instead.\n   */\n  const submit = useCallback(\n    async (verificationId: string) => {\n      const [error, result] = await asyncIdentifyUserAndSubmit({ verificationId });\n\n      if (error) {\n        await handleError(error, {\n          'user.email_already_in_use': async () => {\n            await signInWithOneTimeToken(verificationId);\n          },\n          ...preRegisterErrorHandler,\n        });\n        return;\n      }\n\n      if (result?.redirectTo) {\n        await redirectTo(result.redirectTo);\n      }\n    },\n    [\n      preRegisterErrorHandler,\n      asyncIdentifyUserAndSubmit,\n      handleError,\n      redirectTo,\n      signInWithOneTimeToken,\n    ]\n  );\n\n  useEffect(() => {\n    (async () => {\n      const token = params.get(ExtraParamsKey.OneTimeToken);\n      const email = params.get(ExtraParamsKey.LoginHint);\n      const errorMessage = params.get('errorMessage');\n\n      if (errorMessage) {\n        setOneTimeTokenError(errorMessage);\n        return;\n      }\n\n      if (!token || !email) {\n        setOneTimeTokenError(true);\n        return;\n      }\n\n      /**\n       * Check if the user has agreed to the terms and privacy policy before navigating to the 3rd-party social sign-in page\n       * when the policy is set to `Manual`\n       */\n      if (agreeToTermsPolicy === AgreeToTermsPolicy.Manual && !(await termsValidation())) {\n        return;\n      }\n\n      const [error, result] = await asyncRegisterWithOneTimeToken({\n        token,\n        identifier: { type: SignInIdentifier.Email, value: email },\n      });\n\n      if (error) {\n        await handleError(error, {\n          global: (error: RequestErrorBody) => {\n            setOneTimeTokenError(error.message);\n          },\n        });\n        return;\n      }\n\n      if (!result?.verificationId) {\n        return;\n      }\n\n      // Set email identifier to the <HiddenIdentifierInput />, so that when being asked for fulfilling\n      // the password later, the browser password manager can pick up both the email and the password.\n      setIdentifierInputValue({ type: SignInIdentifier.Email, value: email });\n\n      await submit(result.verificationId);\n    })();\n  }, [\n    agreeToTermsPolicy,\n    params,\n    asyncRegisterWithOneTimeToken,\n    handleError,\n    setIdentifierInputValue,\n    submit,\n    termsValidation,\n  ]);\n\n  if (oneTimeTokenError) {\n    return (\n      <ErrorPage\n        isNavbarHidden\n        title=\"error.invalid_link\"\n        message=\"error.invalid_link_description\"\n        rawMessage={condString(typeof oneTimeTokenError !== 'boolean' && oneTimeTokenError)}\n      />\n    );\n  }\n\n  return <LoadingLayer />;\n};\nexport default OneTimeToken;\n","import { useContext } from 'react';\nimport { createPortal } from 'react-dom';\nimport { Helmet } from 'react-helmet';\n\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\n\ntype Props = {\n  /** @see {@link https://developers.google.com/identity/gsi/web/reference/html-reference#data-context | Sign In With Google HTML API reference} */\n  readonly context: 'signin' | 'signup';\n};\n\n/**\n * A component that renders the Google One Tap script if it is enabled in the experience settings.\n */\nconst GoogleOneTap = ({ context }: Props) => {\n  const { experienceSettings } = useContext(PageContext);\n\n  if (!experienceSettings?.googleOneTap?.isEnabled) {\n    return null;\n  }\n\n  return (\n    <>\n      <Helmet>\n        <script async src=\"https://accounts.google.com/gsi/client\" />\n      </Helmet>\n      {createPortal(\n        <div\n          id=\"g_id_onload\"\n          data-client_id={experienceSettings.googleOneTap.clientId}\n          data-context={context}\n          data-login_uri={`${window.location.origin}/callback/${experienceSettings.googleOneTap.connectorId}`}\n          data-auto_select={Boolean(experienceSettings.googleOneTap.autoSelect)}\n          data-cancel_on_tap_outside={Boolean(experienceSettings.googleOneTap.closeOnTapOutside)}\n          data-itp_support={Boolean(experienceSettings.googleOneTap.itpSupport)}\n        />,\n        document.body\n      )}\n    </>\n  );\n};\n\nexport default GoogleOneTap;\n","import classNames from 'classnames';\nimport { useTranslation } from 'react-i18next';\nimport { useDebouncedLoader } from 'use-debounced-loader';\n\nimport RotatingRingIcon from './RotatingRingIcon';\nimport socialLinkButtonStyles from './SocialLinkButton.module.scss';\nimport styles from './index.module.scss';\n\nexport type Props = {\n  readonly isDisabled?: boolean;\n  readonly isLoading?: boolean;\n  readonly className?: string;\n  readonly target: string;\n  readonly logo: string;\n  readonly name: Record<string, string>;\n  readonly onClick?: () => void;\n};\n\nconst SocialLinkButton = ({\n  isDisabled,\n  isLoading = false,\n  className,\n  target,\n  name,\n  logo,\n  onClick,\n}: Props) => {\n  const {\n    t,\n    i18n: { language },\n  } = useTranslation();\n\n  const localName = name[language] ?? name.en;\n\n  const isLoadingActive = useDebouncedLoader(isLoading, 300);\n\n  return (\n    <button\n      disabled={isDisabled}\n      className={classNames(\n        styles.button,\n        styles.secondary,\n        styles.large,\n        socialLinkButtonStyles.socialButton,\n        (isDisabled ?? isLoadingActive) && styles.disabled,\n        className\n      )}\n      type=\"button\"\n      onClick={onClick}\n    >\n      {logo && !isLoadingActive && (\n        <img src={logo} alt={target} className={socialLinkButtonStyles.icon} />\n      )}\n      {isLoadingActive && (\n        <span className={socialLinkButtonStyles.loadingIcon}>\n          <RotatingRingIcon />\n        </span>\n      )}\n      <div className={socialLinkButtonStyles.name}>\n        <div className={socialLinkButtonStyles.placeHolder} />\n        <span>{t('action.sign_in_with', { name: localName })}</span>\n        <div className={socialLinkButtonStyles.placeHolder} />\n      </div>\n    </button>\n  );\n};\n\nexport default SocialLinkButton;\n","import { isObject } from '@silverhand/essentials';\nimport { useEffect } from 'react';\n\nimport { isNativeWebview } from '@/utils/native-sdk';\n\nimport useToast from './use-toast';\n\n/**\n * UseNativeMessageListener\n *\n * Used to monitor native error message.\n * If native error message is sent, it will be displayed as toast.\n * Add a bypass parameter to bypass the native error message listener.\n *\n * @param {boolean} bypass (default: false)\n */\nconst useNativeMessageListener = (bypass = false) => {\n  const { setToast } = useToast();\n\n  // Monitor Native Error Message\n  useEffect(() => {\n    if (!isNativeWebview() || bypass) {\n      return;\n    }\n\n    const nativeMessageHandler = (event: MessageEvent) => {\n      // In the `WKWebView` of new iOS versions, some script will constantly post messages to the\n      // window object with increasing numbers as the message content (\"1\", \"2\", \"3\", ...).\n      //\n      // Ideally, we should check the source of the message with Logto-specific identifier in the\n      // `event.data`; however, this change will result a breaking change for the existing\n      // native SDK implementations. Add the `isObject` check to prevent the crazy messages while\n      // keeping the backward compatibility.\n      if (event.origin === window.location.origin && isObject(event.data)) {\n        try {\n          setToast(JSON.stringify(event.data));\n        } catch {}\n      }\n    };\n\n    window.addEventListener('message', nativeMessageHandler);\n\n    return () => {\n      window.removeEventListener('message', nativeMessageHandler);\n    };\n  }, [bypass, setToast]);\n};\n\nexport default useNativeMessageListener;\n","import type { ExperienceSocialConnector } from '@logto/schemas';\nimport classNames from 'classnames';\nimport { useState } from 'react';\n\nimport SocialLinkButton from '@/components/Button/SocialLinkButton';\nimport useNativeMessageListener from '@/hooks/use-native-message-listener';\nimport { getLogoUrl } from '@/utils/logo';\n\nimport styles from './index.module.scss';\nimport useSocial from './use-social';\n\ntype Props = {\n  readonly className?: string;\n  readonly socialConnectors?: ExperienceSocialConnector[];\n};\n\nconst SocialSignInList = ({ className, socialConnectors = [] }: Props) => {\n  const { invokeSocialSignIn, theme } = useSocial();\n  useNativeMessageListener();\n\n  const [loadingConnectorId, setLoadingConnectorId] = useState<string>();\n\n  const handleClick = async (connector: ExperienceSocialConnector) => {\n    setLoadingConnectorId(connector.id);\n    await invokeSocialSignIn(connector);\n    setLoadingConnectorId(undefined);\n  };\n\n  return (\n    <div className={classNames(styles.socialLinkList, className)}>\n      {socialConnectors.map((connector) => {\n        const { id, name, logo: logoUrl, logoDark: darkLogoUrl, target } = connector;\n\n        return (\n          <SocialLinkButton\n            key={id}\n            className={styles.socialLinkButton}\n            name={name}\n            logo={getLogoUrl({ theme, logoUrl, darkLogoUrl })}\n            target={target}\n            isLoading={loadingConnectorId === id}\n            onClick={() => {\n              void handleClick(connector);\n            }}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default SocialSignInList;\n","import { AgreeToTermsPolicy, experience, ExtraParamsKey, SignInMode } from '@logto/schemas';\nimport { useCallback, useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Navigate, useNavigate, useSearchParams } from 'react-router-dom';\n\nimport LandingPageLayout from '@/Layout/LandingPageLayout';\nimport SingleSignOnFormModeContextProvider from '@/Providers/SingleSignOnFormModeContextProvider';\nimport SingleSignOnFormModeContext from '@/Providers/SingleSignOnFormModeContextProvider/SingleSignOnFormModeContext';\nimport Divider from '@/components/Divider';\nimport GoogleOneTap from '@/components/GoogleOneTap';\nimport IdentifierRegisterForm from '@/components/IdentifierRegisterForm';\nimport TextLink from '@/components/TextLink';\nimport SocialSignInList from '@/containers/SocialSignInList';\nimport TermsAndPrivacyCheckbox from '@/containers/TermsAndPrivacyCheckbox';\nimport TermsAndPrivacyLinks from '@/containers/TermsAndPrivacyLinks';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport useTerms from '@/hooks/use-terms';\n\nimport ErrorPage from '../ErrorPage';\n\nimport styles from './index.module.scss';\n\nconst RegisterFooter = () => {\n  const { t } = useTranslation();\n  const { signUpMethods, socialConnectors, signInMode, signInMethods, singleSignOnEnabled } =\n    useSieMethods();\n  const { termsValidation, agreeToTermsPolicy } = useTerms();\n  const navigate = useNavigate();\n  const [params] = useSearchParams();\n\n  const { showSingleSignOnForm } = useContext(SingleSignOnFormModeContext);\n\n  const handleSsoNavigation = useCallback(async () => {\n    /**\n     * Check if the user has agreed to the terms and privacy policy before navigating to the SSO page\n     * when the policy is set to `Manual`\n     */\n    if (agreeToTermsPolicy === AgreeToTermsPolicy.Manual && !(await termsValidation())) {\n      return;\n    }\n\n    navigate('/single-sign-on/email');\n  }, [agreeToTermsPolicy, navigate, termsValidation]);\n\n  if (params.get(ExtraParamsKey.OneTimeToken)) {\n    return (\n      <Navigate\n        replace\n        to={{ pathname: `/${experience.routes.oneTimeToken}`, search: `?${params.toString()}` }}\n      />\n    );\n  }\n\n  /* Hide footers when showing Single Sign On form */\n  if (showSingleSignOnForm) {\n    return null;\n  }\n\n  return (\n    <>\n      {\n        // Single Sign On footer\n        singleSignOnEnabled && (\n          <>\n            <div className={styles.singleSignOn}>\n              {t('description.use')}{' '}\n              <TextLink text=\"action.single_sign_on\" onClick={handleSsoNavigation} />\n            </div>\n            {\n              /**\n               * If only SSO sign-in methods are available, display the agreement checkbox when the agreement policy is `Manual`.\n               */\n              signInMethods.length === 0 &&\n                socialConnectors.length === 0 &&\n                agreeToTermsPolicy === AgreeToTermsPolicy.Manual && (\n                  <TermsAndPrivacyCheckbox className={styles.checkbox} />\n                )\n            }\n          </>\n        )\n      }\n      {\n        // SignIn footer\n        signInMode === SignInMode.SignInAndRegister && signInMethods.length > 0 && (\n          <div className={styles.createAccount}>\n            {t('description.have_account')} <TextLink replace to=\"/sign-in\" text=\"action.sign_in\" />\n          </div>\n        )\n      }\n      {\n        // Social sign-in methods\n        signUpMethods.length > 0 && socialConnectors.length > 0 && (\n          <>\n            <Divider label=\"description.or\" className={styles.divider} />\n            <SocialSignInList socialConnectors={socialConnectors} className={styles.main} />\n          </>\n        )\n      }\n    </>\n  );\n};\n\nconst Register = () => {\n  const { signUpMethods, socialConnectors, signInMode } = useSieMethods();\n  const { agreeToTermsPolicy } = useTerms();\n\n  if (!signInMode) {\n    return <ErrorPage />;\n  }\n\n  if (signInMode === SignInMode.SignIn) {\n    return <Navigate to=\"/sign-in\" />;\n  }\n\n  return (\n    <LandingPageLayout title=\"description.create_your_account\">\n      <GoogleOneTap context=\"signup\" />\n      <SingleSignOnFormModeContextProvider>\n        {signUpMethods.length > 0 && (\n          <IdentifierRegisterForm signUpMethods={signUpMethods} className={styles.main} />\n        )}\n        {/* Social sign-in methods only */}\n        {signUpMethods.length === 0 && socialConnectors.length > 0 && (\n          <>\n            {agreeToTermsPolicy !== AgreeToTermsPolicy.Automatic && (\n              <TermsAndPrivacyCheckbox className={styles.terms} />\n            )}\n            <SocialSignInList className={styles.main} socialConnectors={socialConnectors} />\n          </>\n        )}\n        <RegisterFooter />\n        {agreeToTermsPolicy === AgreeToTermsPolicy.Automatic && (\n          <TermsAndPrivacyLinks className={styles.terms} />\n        )}\n      </SingleSignOnFormModeContextProvider>\n      {/* Hide footer elements when showing Single Sign On form */}\n    </LandingPageLayout>\n  );\n};\n\nexport default Register;\n","import { InteractionEvent, SignInIdentifier } from '@logto/schemas';\nimport { useCallback, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport { continueRegisterWithPassword } from '@/apis/experience';\nimport SetPassword from '@/containers/SetPassword';\nimport useApi from '@/hooks/use-api';\nimport { usePromiseConfirmModal } from '@/hooks/use-confirm-modal';\nimport useErrorHandler, { type ErrorHandlers } from '@/hooks/use-error-handler';\nimport useGlobalRedirectTo from '@/hooks/use-global-redirect-to';\nimport usePasswordPolicyChecker from '@/hooks/use-password-policy-checker';\nimport usePasswordRejectionErrorHandler from '@/hooks/use-password-rejection-handler';\nimport { usePasswordPolicy, useSieMethods } from '@/hooks/use-sie';\nimport useSubmitInteractionErrorHandler from '@/hooks/use-submit-interaction-error-handler';\n\nimport ErrorPage from '../ErrorPage';\n\nconst RegisterPassword = () => {\n  const { signUpMethods } = useSieMethods();\n\n  const navigate = useNavigate();\n  const redirectTo = useGlobalRedirectTo();\n  const { show } = usePromiseConfirmModal();\n  const [errorMessage, setErrorMessage] = useState<string>();\n  const clearErrorMessage = useCallback(() => {\n    setErrorMessage(undefined);\n  }, []);\n\n  const checkPassword = usePasswordPolicyChecker({ setErrorMessage });\n  const asyncRegisterPassword = useApi(continueRegisterWithPassword);\n  const handleError = useErrorHandler();\n\n  const preRegisterErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.Register, {\n    replace: true,\n  });\n  const passwordRejectionErrorHandler = usePasswordRejectionErrorHandler({ setErrorMessage });\n\n  const errorHandlers: ErrorHandlers = useMemo(\n    () => ({\n      // Incase previous page submitted username has been taken\n      'user.username_already_in_use': async (error) => {\n        await show({ type: 'alert', ModalContent: error.message, cancelText: 'action.got_it' });\n        navigate(-1);\n      },\n      ...preRegisterErrorHandler,\n      ...passwordRejectionErrorHandler,\n    }),\n    [preRegisterErrorHandler, passwordRejectionErrorHandler, show, navigate]\n  );\n\n  const onSubmitHandler = useCallback(\n    async (password: string) => {\n      const success = await checkPassword(password);\n\n      if (!success) {\n        return;\n      }\n\n      const [error, result] = await asyncRegisterPassword(password);\n\n      if (error) {\n        await handleError(error, errorHandlers);\n        return;\n      }\n\n      if (result) {\n        await redirectTo(result.redirectTo);\n      }\n    },\n    [asyncRegisterPassword, checkPassword, errorHandlers, handleError, redirectTo]\n  );\n\n  const {\n    policy: {\n      length: { min, max },\n      characterTypes: { min: count },\n    },\n    requirementsDescription,\n  } = usePasswordPolicy();\n\n  if (!signUpMethods.includes(SignInIdentifier.Username)) {\n    return <ErrorPage />;\n  }\n\n  return (\n    <SecondaryPageLayout\n      title=\"description.new_password\"\n      description={requirementsDescription && <span>{requirementsDescription}</span>}\n      descriptionProps={{ min, count }}\n    >\n      <SetPassword\n        autoFocus\n        errorMessage={errorMessage}\n        maxLength={max}\n        clearErrorMessage={clearErrorMessage}\n        onSubmit={onSubmitHandler}\n      />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default RegisterPassword;\n","import { useCallback, useContext, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport { resetPassword } from '@/apis/experience';\nimport SetPassword from '@/containers/SetPassword';\nimport useApi from '@/hooks/use-api';\nimport { usePromiseConfirmModal } from '@/hooks/use-confirm-modal';\nimport useErrorHandler, { type ErrorHandlers } from '@/hooks/use-error-handler';\nimport usePasswordPolicyChecker from '@/hooks/use-password-policy-checker';\nimport usePasswordRejectionErrorHandler from '@/hooks/use-password-rejection-handler';\nimport { usePasswordPolicy } from '@/hooks/use-sie';\nimport useToast from '@/hooks/use-toast';\n\nconst ResetPassword = () => {\n  const [errorMessage, setErrorMessage] = useState<string>();\n  const clearErrorMessage = useCallback(() => {\n    setErrorMessage(undefined);\n  }, []);\n  const { t } = useTranslation();\n  const { setToast } = useToast();\n  const navigate = useNavigate();\n  const { show } = usePromiseConfirmModal();\n  const { setForgotPasswordIdentifierInputValue } = useContext(UserInteractionContext);\n\n  const checkPassword = usePasswordPolicyChecker({ setErrorMessage });\n  const asyncResetPassword = useApi(resetPassword);\n  const handleError = useErrorHandler();\n\n  const passwordRejectionErrorHandler = usePasswordRejectionErrorHandler({ setErrorMessage });\n\n  const errorHandlers: ErrorHandlers = useMemo(\n    () => ({\n      'session.verification_session_not_found': async (error) => {\n        await show({ type: 'alert', ModalContent: error.message, cancelText: 'action.got_it' });\n        navigate(-2);\n      },\n      'user.same_password': (error) => {\n        setErrorMessage(error.message);\n      },\n      ...passwordRejectionErrorHandler,\n    }),\n    [navigate, passwordRejectionErrorHandler, show]\n  );\n\n  const onSubmitHandler = useCallback(\n    async (password: string) => {\n      const success = await checkPassword(password);\n\n      if (!success) {\n        return;\n      }\n\n      const [error] = await asyncResetPassword(password);\n\n      if (error) {\n        await handleError(error, errorHandlers);\n        return;\n      }\n\n      // Clear the forgot password identifier input value\n      setForgotPasswordIdentifierInputValue(undefined);\n      setToast(t('description.password_changed'));\n      navigate('/sign-in', { replace: true });\n    },\n    [\n      asyncResetPassword,\n      checkPassword,\n      errorHandlers,\n      handleError,\n      navigate,\n      setForgotPasswordIdentifierInputValue,\n      setToast,\n      t,\n    ]\n  );\n\n  const {\n    policy: {\n      length: { min, max },\n      characterTypes: { min: count },\n    },\n    requirementsDescription,\n  } = usePasswordPolicy();\n\n  return (\n    <SecondaryPageLayout\n      title=\"description.new_password\"\n      description={requirementsDescription && <span>{requirementsDescription}</span>}\n      descriptionProps={{ min, count }}\n    >\n      <SetPassword\n        autoFocus\n        errorMessage={errorMessage}\n        maxLength={max}\n        clearErrorMessage={clearErrorMessage}\n        onSubmit={onSubmitHandler}\n      />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default ResetPassword;\n","import { useMemo } from 'react';\n\nimport useIdentifierParams from '@/hooks/use-identifier-params';\nimport { useForgotPasswordSettings } from '@/hooks/use-sie';\n\n/**\n * Retrieves reset password methods from sign-in experience settings and URL identifier parameters.\n * Note: this is only used for the reset password first screen.\n *\n * Reset password methods fallback logic:\n * 1. If forgot password is not enabled, return an empty array\n * 2. If no identifiers are provided in the URL, return all reset password methods from sign-in experience settings.\n * 3. If identifiers are provided in the URL but none are supported by sign-in experience settings, return all reset password methods from sign-in experience settings.\n * 4. If identifiers are provided in the URL and supported by sign-in experience settings, return the intersection of both.\n */\nexport const useResetPasswordMethods = () => {\n  const { identifiers } = useIdentifierParams();\n  const { isForgotPasswordEnabled, enabledMethodSet } = useForgotPasswordSettings();\n\n  return useMemo(() => {\n    // If forgot password is not enabled, return an empty array\n    if (!isForgotPasswordEnabled) {\n      return [];\n    }\n\n    const enabledMethods = [...enabledMethodSet];\n\n    if (identifiers.length === 0) {\n      return enabledMethods;\n    }\n\n    const methods = enabledMethods.filter((identifier) => identifiers.includes(identifier));\n\n    // Fallback to enabled methods if no identifiers are supported\n    if (methods.length === 0) {\n      return enabledMethods;\n    }\n\n    return methods;\n  }, [isForgotPasswordEnabled, enabledMethodSet, identifiers]);\n};\n","import { experience } from '@logto/schemas';\nimport { useTranslation } from 'react-i18next';\nimport { Navigate } from 'react-router-dom';\n\nimport FocusedAuthPageLayout from '@/Layout/FocusedAuthPageLayout';\nimport usePrefilledIdentifier from '@/hooks/use-prefilled-identifier';\nimport { identifierInputDescriptionMap } from '@/utils/form';\n\nimport ForgotPasswordForm from '../ForgotPassword/ForgotPasswordForm';\n\nimport { useResetPasswordMethods } from './use-reset-password-methods';\n\n/**\n * ResetPasswordLanding Component\n *\n * This is a specialized \"first screen\" page dedicated to the password reset process,\n * distinct from the password reset step in the regular login flow.\n * As the entry point for the password reset flow, it allows users to initiate\n * the password reset process directly.\n *\n * Developers can specify this page as the initial screen of the user's login flow\n * by setting the `first_screen=reset_password` parameter in the authentication flow.\n *\n * Typical use cases include:\n * 1. When system administrators create accounts for new users and require them\n *    to update their password upon first login.\n * 2. When users initiate an authentication flow with reset password as the first screen\n *    by clicking a link in a password reset email.\n *\n * This approach ensures that users can seamlessly enter the password reset flow\n * in specific scenarios, enhancing both user experience and account security.\n */\nconst ResetPasswordLanding = () => {\n  const { t } = useTranslation();\n  const enabledMethods = useResetPasswordMethods();\n  const { value: prefilledValue } = usePrefilledIdentifier({\n    enabledIdentifiers: enabledMethods,\n    isForgotPassword: true,\n  });\n\n  // Fallback to sign-in page\n  if (enabledMethods.length === 0) {\n    return <Navigate to={`/${experience.routes.signIn}`} />;\n  }\n\n  return (\n    <FocusedAuthPageLayout\n      pageMeta={{\n        titleKey: 'description.reset_password',\n      }}\n      title=\"description.reset_password\"\n      description={t('description.reset_password_description', {\n        types: enabledMethods.map((method) => t(identifierInputDescriptionMap[method])),\n      })}\n      authOptionsLink={{\n        to: `/${experience.routes.signIn}`,\n        text: 'description.back_to_sign_in',\n      }}\n    >\n      <ForgotPasswordForm autoFocus defaultValue={prefilledValue} enabledTypes={enabledMethods} />\n    </FocusedAuthPageLayout>\n  );\n};\n\nexport default ResetPasswordLanding;\n","import { type SignIn, type ExperienceSocialConnector, AgreeToTermsPolicy } from '@logto/schemas';\n\nimport IdentifierSignInForm from '@/components/IdentifierSignInForm';\nimport PasswordSignInForm from '@/components/PasswordSignInForm';\nimport SocialSignInList from '@/containers/SocialSignInList';\nimport TermsAndPrivacyCheckbox from '@/containers/TermsAndPrivacyCheckbox';\nimport useTerms from '@/hooks/use-terms';\n\nimport styles from './index.module.scss';\n\ntype Props = {\n  readonly signInMethods: SignIn['methods'];\n  readonly socialConnectors: ExperienceSocialConnector[];\n};\n\nconst Main = ({ signInMethods, socialConnectors }: Props) => {\n  const { agreeToTermsPolicy } = useTerms();\n\n  if (signInMethods.length === 0 && socialConnectors.length > 0) {\n    return (\n      <>\n        <SocialSignInList className={styles.main} socialConnectors={socialConnectors} />\n        {\n          /**\n           * Display agreement checkbox when only social sign-in methods are available\n           * and the user needs to agree to terms manually.\n           */\n          agreeToTermsPolicy === AgreeToTermsPolicy.Manual && (\n            <TermsAndPrivacyCheckbox className={styles.checkbox} />\n          )\n        }\n      </>\n    );\n  }\n\n  const isPasswordOnly =\n    signInMethods.length > 0 &&\n    signInMethods.every(({ password, verificationCode }) => password && !verificationCode);\n\n  if (isPasswordOnly) {\n    return (\n      <PasswordSignInForm\n        className={styles.main}\n        signInMethods={signInMethods.map(({ identifier }) => identifier)}\n      />\n    );\n  }\n\n  if (signInMethods.length > 0) {\n    return <IdentifierSignInForm className={styles.main} signInMethods={signInMethods} />;\n  }\n\n  return null;\n};\n\nexport default Main;\n","import { AgreeToTermsPolicy, experience, ExtraParamsKey, SignInMode } from '@logto/schemas';\nimport { useCallback, useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Navigate, useNavigate, useSearchParams } from 'react-router-dom';\n\nimport LandingPageLayout from '@/Layout/LandingPageLayout';\nimport SingleSignOnFormModeContextProvider from '@/Providers/SingleSignOnFormModeContextProvider';\nimport SingleSignOnFormModeContext from '@/Providers/SingleSignOnFormModeContextProvider/SingleSignOnFormModeContext';\nimport Divider from '@/components/Divider';\nimport GoogleOneTap from '@/components/GoogleOneTap';\nimport TextLink from '@/components/TextLink';\nimport SocialSignInList from '@/containers/SocialSignInList';\nimport TermsAndPrivacyCheckbox from '@/containers/TermsAndPrivacyCheckbox';\nimport TermsAndPrivacyLinks from '@/containers/TermsAndPrivacyLinks';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport useTerms from '@/hooks/use-terms';\n\nimport ErrorPage from '../ErrorPage';\n\nimport Main from './Main';\nimport styles from './index.module.scss';\n\nconst SignInFooters = () => {\n  const { t } = useTranslation();\n  const { termsValidation, agreeToTermsPolicy } = useTerms();\n  const navigate = useNavigate();\n  const [params] = useSearchParams();\n\n  const { signInMethods, signUpMethods, socialConnectors, signInMode, singleSignOnEnabled } =\n    useSieMethods();\n\n  const { showSingleSignOnForm } = useContext(SingleSignOnFormModeContext);\n\n  const handleSsoNavigation = useCallback(async () => {\n    /**\n     * Check if the user has agreed to the terms and privacy policy before navigating to the SSO page\n     * when the policy is set to `Manual`\n     */\n    if (agreeToTermsPolicy === AgreeToTermsPolicy.Manual && !(await termsValidation())) {\n      return;\n    }\n    navigate('/single-sign-on/email');\n  }, [agreeToTermsPolicy, navigate, termsValidation]);\n\n  /* Hide footers when showing Single Sign On form */\n  if (showSingleSignOnForm) {\n    return null;\n  }\n\n  return (\n    <>\n      {\n        // Single Sign On footer\n        singleSignOnEnabled && (\n          <>\n            <div className={styles.singleSignOn}>\n              {t('description.use')}{' '}\n              <TextLink text=\"action.single_sign_on\" onClick={handleSsoNavigation} />\n            </div>\n            {\n              /**\n               * If only SSO sign-in methods are available, display the agreement checkbox when the agreement policy is `Manual`.\n               */\n              signInMethods.length === 0 &&\n                socialConnectors.length === 0 &&\n                agreeToTermsPolicy === AgreeToTermsPolicy.Manual && (\n                  <TermsAndPrivacyCheckbox className={styles.checkboxForSsoOnly} />\n                )\n            }\n          </>\n        )\n      }\n      {\n        // Create Account footer\n        signInMode === SignInMode.SignInAndRegister && signUpMethods.length > 0 && (\n          <div className={styles.createAccount}>\n            {t('description.no_account')}{' '}\n            <TextLink replace to=\"/register\" text=\"action.create_account\" />\n          </div>\n        )\n      }\n      {\n        // Social sign-in methods\n        signInMethods.length > 0 && socialConnectors.length > 0 && (\n          <>\n            <Divider label=\"description.or\" className={styles.divider} />\n            <SocialSignInList socialConnectors={socialConnectors} className={styles.main} />\n          </>\n        )\n      }\n    </>\n  );\n};\n\nconst SignIn = () => {\n  const { signInMethods, socialConnectors, signInMode } = useSieMethods();\n  const { agreeToTermsPolicy } = useTerms();\n  const [params] = useSearchParams();\n\n  if (!signInMode) {\n    return <ErrorPage />;\n  }\n\n  if (signInMode === SignInMode.Register) {\n    return <Navigate to=\"/register\" />;\n  }\n\n  if (params.get(ExtraParamsKey.OneTimeToken)) {\n    return (\n      <Navigate\n        replace\n        to={{ pathname: `/${experience.routes.oneTimeToken}`, search: `?${params.toString()}` }}\n      />\n    );\n  }\n\n  return (\n    <LandingPageLayout title=\"description.sign_in_to_your_account\">\n      <GoogleOneTap context=\"signin\" />\n      <SingleSignOnFormModeContextProvider>\n        <Main signInMethods={signInMethods} socialConnectors={socialConnectors} />\n        <SignInFooters />\n      </SingleSignOnFormModeContextProvider>\n      {\n        // Only show terms and privacy links for sign in page if the agree to terms policy is `Automatic` or `ManualRegistrationOnly`\n        agreeToTermsPolicy !== AgreeToTermsPolicy.Manual && (\n          <TermsAndPrivacyLinks className={styles.terms} />\n        )\n      }\n    </LandingPageLayout>\n  );\n};\n\nexport default SignIn;\n","import { useCallback, useEffect, useState } from 'react';\n\nimport SwitchIcon from '@/assets/icons/switch-icon.svg?react';\nimport TextLink from '@/components/TextLink';\nimport useSendVerificationCode from '@/hooks/use-send-verification-code';\nimport useToast from '@/hooks/use-toast';\nimport type { VerificationCodeIdentifier } from '@/types';\nimport { UserFlow } from '@/types';\n\ntype Props = {\n  readonly className?: string;\n  readonly identifier: VerificationCodeIdentifier;\n  readonly value: string;\n};\n\nconst VerificationCodeLink = ({ className, identifier, value }: Props) => {\n  const { setToast } = useToast();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const { errorMessage, clearErrorMessage, onSubmit } = useSendVerificationCode(\n    UserFlow.SignIn,\n    true\n  );\n\n  const onSubmitHandler = useCallback(\n    async (...args: Parameters<typeof onSubmit>) => {\n      if (isLoading) {\n        return;\n      }\n\n      clearErrorMessage();\n      setIsLoading(true);\n      await onSubmit(...args);\n      setIsLoading(false);\n    },\n    [clearErrorMessage, isLoading, onSubmit]\n  );\n\n  useEffect(() => {\n    if (errorMessage) {\n      setToast(errorMessage);\n    }\n  }, [errorMessage, setToast]);\n\n  return (\n    <TextLink\n      className={className}\n      text=\"action.sign_in_via_passcode\"\n      icon={<SwitchIcon />}\n      onClick={() => {\n        void onSubmitHandler({ identifier, value });\n      }}\n    />\n  );\n};\n\nexport default VerificationCodeLink;\n","import { SignInIdentifier } from '@logto/schemas';\nimport classNames from 'classnames';\nimport { useCallback, useContext, useEffect } from 'react';\nimport { Controller, useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport Button from '@/components/Button';\nimport ErrorMessage from '@/components/ErrorMessage';\nimport { PasswordInputField } from '@/components/InputFields';\nimport type { IdentifierInputValue } from '@/components/InputFields/SmartInputField';\nimport CaptchaBox from '@/containers/CaptchaBox';\nimport ForgotPasswordLink from '@/containers/ForgotPasswordLink';\nimport usePasswordSignIn from '@/hooks/use-password-sign-in';\nimport { useForgotPasswordSettings } from '@/hooks/use-sie';\n\nimport styles from '../index.module.scss';\n\nimport VerificationCodeLink from './VerificationCodeLink';\n\ntype Props = {\n  readonly className?: string;\n  readonly identifier: SignInIdentifier;\n  readonly value: string;\n  readonly isVerificationCodeEnabled?: boolean;\n  // eslint-disable-next-line react/boolean-prop-naming\n  readonly autoFocus?: boolean;\n};\n\ntype FormState = {\n  identifier: IdentifierInputValue;\n  password: string;\n};\n\nconst PasswordForm = ({\n  className,\n  autoFocus,\n  isVerificationCodeEnabled = false,\n  identifier,\n  value,\n}: Props) => {\n  const { t } = useTranslation();\n  const { errorMessage, clearErrorMessage, onSubmit } = usePasswordSignIn();\n  const { setIdentifierInputValue } = useContext(UserInteractionContext);\n  const { isForgotPasswordEnabled } = useForgotPasswordSettings();\n\n  const {\n    register,\n    handleSubmit,\n    control,\n    formState: { errors, isValid, isSubmitting },\n  } = useForm<FormState>({\n    reValidateMode: 'onBlur',\n    defaultValues: {\n      identifier: {\n        type: identifier,\n        value,\n      },\n      password: '',\n    },\n  });\n\n  useEffect(() => {\n    if (!isValid) {\n      clearErrorMessage();\n    }\n  }, [clearErrorMessage, isValid]);\n\n  const onSubmitHandler = useCallback(\n    async (event?: React.FormEvent<HTMLFormElement>) => {\n      clearErrorMessage();\n\n      void handleSubmit(async ({ identifier: { type, value }, password }) => {\n        if (!type) {\n          return;\n        }\n\n        setIdentifierInputValue({ type, value });\n\n        await onSubmit({\n          identifier: { type, value },\n          password,\n        });\n      })(event);\n    },\n    [clearErrorMessage, handleSubmit, onSubmit, setIdentifierInputValue]\n  );\n\n  return (\n    <form className={classNames(styles.form, className)} onSubmit={onSubmitHandler}>\n      <Controller\n        control={control}\n        name=\"identifier\"\n        render={({\n          field: {\n            name,\n            value: { type, value },\n          },\n        }) => <input readOnly hidden name={name} value={value} autoComplete={type} />}\n      />\n\n      <PasswordInputField\n        autoFocus={autoFocus}\n        className={styles.inputField}\n        autoComplete=\"current-password\"\n        label={t('input.password')}\n        isDanger={!!errors.password}\n        errorMessage={errors.password?.message}\n        {...register('password', { required: t('error.password_required') })}\n      />\n\n      {errorMessage && <ErrorMessage className={styles.formErrors}>{errorMessage}</ErrorMessage>}\n\n      {isForgotPasswordEnabled && (\n        <ForgotPasswordLink className={styles.link} identifier={identifier} value={value} />\n      )}\n\n      <CaptchaBox />\n      <Button title=\"action.continue\" name=\"submit\" htmlType=\"submit\" isLoading={isSubmitting} />\n\n      {identifier !== SignInIdentifier.Username && isVerificationCodeEnabled && (\n        <VerificationCodeLink className={styles.switch} identifier={identifier} value={value} />\n      )}\n\n      <input hidden type=\"submit\" />\n    </form>\n  );\n};\n\nexport default PasswordForm;\n","import { SignInIdentifier } from '@logto/schemas';\nimport { useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport ErrorPage from '@/pages/ErrorPage';\nimport { formatPhoneNumberWithCountryCallingCode } from '@/utils/country-code';\nimport { identifierInputDescriptionMap } from '@/utils/form';\n\nimport PasswordForm from './PasswordForm';\n\nconst SignInPassword = () => {\n  const { t } = useTranslation();\n  const { signInMethods } = useSieMethods();\n\n  const { identifierInputValue } = useContext(UserInteractionContext);\n\n  if (!identifierInputValue) {\n    return <ErrorPage title=\"error.invalid_session\" />;\n  }\n\n  const { type, value } = identifierInputValue;\n\n  const methodSetting = signInMethods.find((method) => method.identifier === type);\n\n  // Sign-in method not enabled\n  if (!methodSetting?.password) {\n    return <ErrorPage />;\n  }\n\n  return (\n    <SecondaryPageLayout\n      title=\"description.enter_password\"\n      description=\"description.enter_password_for\"\n      descriptionProps={{\n        method: t(identifierInputDescriptionMap[methodSetting.identifier]),\n        value:\n          methodSetting.identifier === SignInIdentifier.Phone\n            ? formatPhoneNumberWithCountryCallingCode(value)\n            : value,\n      }}\n    >\n      <PasswordForm\n        autoFocus\n        identifier={methodSetting.identifier}\n        value={value}\n        isVerificationCodeEnabled={methodSetting.verificationCode}\n      />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default SignInPassword;\n","import { useContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport SocialLinkButton from '@/components/Button/SocialLinkButton';\nimport useNativeMessageListener from '@/hooks/use-native-message-listener';\nimport useSingleSignOn from '@/hooks/use-single-sign-on';\nimport { getLogoUrl } from '@/utils/logo';\n\nimport styles from './index.module.scss';\n\nconst SingleSignOnConnectors = () => {\n  const { theme } = useContext(PageContext);\n  const { ssoEmail, ssoConnectors } = useContext(UserInteractionContext);\n  const navigate = useNavigate();\n  const onSubmit = useSingleSignOn();\n\n  const [loadingConnectorId, setLoadingConnectorId] = useState<string>();\n\n  const handleSubmit = async (connectorId: string) => {\n    setLoadingConnectorId(connectorId);\n    await onSubmit(connectorId);\n    setLoadingConnectorId(undefined);\n  };\n\n  // Listen to native message\n  useNativeMessageListener();\n\n  useEffect(() => {\n    // Return to the previous page if no email and no connectors are available in the context\n    if (!ssoEmail || ssoConnectors.length === 0) {\n      navigate('../email', {\n        replace: true,\n      });\n    }\n  }, [ssoEmail, navigate, ssoConnectors.length]);\n\n  return (\n    <SecondaryPageLayout\n      title=\"action.single_sign_on\"\n      description=\"description.single_sign_on_connectors_list\"\n      descriptionProps={{ email: ssoEmail }}\n    >\n      <div className={styles.ssoLinkList}>\n        {ssoConnectors.map((connector) => {\n          const { id, connectorName, logo: logoUrl, darkLogo: darkLogoUrl } = connector;\n\n          return (\n            <SocialLinkButton\n              key={id}\n              className={styles.ssoLinkButton}\n              name={{ en: connectorName }} // I18n support for connectorName not supported yet, always display the plain text\n              logo={getLogoUrl({ theme, logoUrl, darkLogoUrl })}\n              target={connectorName}\n              isLoading={loadingConnectorId === connector.id}\n              onClick={() => {\n                void handleSubmit(connector.id);\n              }}\n            />\n          );\n        })}\n      </div>\n    </SecondaryPageLayout>\n  );\n};\n\nexport default SingleSignOnConnectors;\n","import { AgreeToTermsPolicy, SignInIdentifier } from '@logto/schemas';\nimport { useCallback, useContext, useEffect } from 'react';\nimport { Controller, useForm } from 'react-hook-form';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport LockIcon from '@/assets/icons/lock.svg?react';\nimport Button from '@/components/Button';\nimport ErrorMessage from '@/components/ErrorMessage';\nimport SmartInputField, {\n  type IdentifierInputValue,\n} from '@/components/InputFields/SmartInputField';\nimport TermsAndPrivacyCheckbox from '@/containers/TermsAndPrivacyCheckbox';\nimport useOnSubmit from '@/hooks/use-check-single-sign-on';\nimport useTerms from '@/hooks/use-terms';\nimport { getGeneralIdentifierErrorMessage, validateIdentifierField } from '@/utils/form';\n\nimport styles from './index.module.scss';\n\ntype FormState = {\n  identifier: IdentifierInputValue;\n};\n\ntype Props = {\n  readonly isTermsAndPrivacyCheckboxVisible?: boolean;\n};\n\nconst SingleSignOnForm = ({ isTermsAndPrivacyCheckboxVisible }: Props) => {\n  const { errorMessage, clearErrorMessage, onSubmit } = useOnSubmit();\n  const { ssoEmail } = useContext(UserInteractionContext);\n  const { termsValidation, agreeToTermsPolicy } = useTerms();\n\n  const {\n    handleSubmit,\n    control,\n    formState: { errors, isValid, isSubmitting },\n  } = useForm<FormState>({\n    reValidateMode: 'onBlur',\n    defaultValues: {\n      identifier: {\n        value: ssoEmail,\n      },\n    },\n  });\n\n  useEffect(() => {\n    if (!isValid) {\n      clearErrorMessage();\n    }\n  }, [clearErrorMessage, isValid]);\n\n  const onSubmitHandler = useCallback(\n    async (event?: React.FormEvent<HTMLFormElement>) => {\n      /**\n       * Prevent the default form submission behavior to avoid page reload.\n       */\n      event?.preventDefault();\n\n      /**\n       * Check if the user has agreed to the terms and privacy policy when the policy is set to `Manual`.\n       */\n      if (agreeToTermsPolicy === AgreeToTermsPolicy.Manual && !(await termsValidation())) {\n        return;\n      }\n\n      clearErrorMessage();\n\n      await handleSubmit(async ({ identifier: { value } }) => onSubmit(value, true))(event);\n    },\n    [agreeToTermsPolicy, clearErrorMessage, handleSubmit, onSubmit, termsValidation]\n  );\n\n  return (\n    <form className={styles.form} onSubmit={onSubmitHandler}>\n      <Controller\n        control={control}\n        name=\"identifier\"\n        rules={{\n          validate: ({ value }) => {\n            if (!value) {\n              return getGeneralIdentifierErrorMessage([SignInIdentifier.Email], 'required');\n            }\n\n            const errorMessage = validateIdentifierField(SignInIdentifier.Email, value);\n\n            return errorMessage\n              ? getGeneralIdentifierErrorMessage([SignInIdentifier.Email], 'invalid')\n              : true;\n          },\n        }}\n        render={({ field, formState: { defaultValues } }) => (\n          <SmartInputField\n            autoFocus\n            className={styles.inputField}\n            {...field}\n            isDanger={!!errors.identifier}\n            defaultValue={defaultValues?.identifier?.value}\n            errorMessage={errors.identifier?.message}\n            enabledTypes={[SignInIdentifier.Email]}\n          />\n        )}\n      />\n\n      {errorMessage && <ErrorMessage className={styles.formErrors}>{errorMessage}</ErrorMessage>}\n\n      {Boolean(isTermsAndPrivacyCheckboxVisible) && (\n        <TermsAndPrivacyCheckbox className={styles.terms} />\n      )}\n\n      <Button\n        title=\"action.single_sign_on\"\n        htmlType=\"submit\"\n        icon={<LockIcon />}\n        isLoading={isSubmitting}\n      />\n\n      <input hidden type=\"submit\" />\n    </form>\n  );\n};\n\nexport default SingleSignOnForm;\n","import SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport SingleSignOnForm from '@/components/SingleSignOnForm';\n\nconst SingleSignOnEmail = () => {\n  return (\n    <SecondaryPageLayout\n      title=\"action.single_sign_on\"\n      description=\"description.single_sign_on_email_form\"\n    >\n      <SingleSignOnForm />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default SingleSignOnEmail;\n","import { AgreeToTermsPolicy, experience } from '@logto/schemas';\nimport { useTranslation } from 'react-i18next';\nimport { Navigate } from 'react-router-dom';\n\nimport FocusedAuthPageLayout from '@/Layout/FocusedAuthPageLayout';\nimport SingleSignOnForm from '@/components/SingleSignOnForm';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport useTerms from '@/hooks/use-terms';\n\nconst SingleSignOnLanding = () => {\n  const { t } = useTranslation();\n  const { singleSignOnEnabled } = useSieMethods();\n  const { agreeToTermsPolicy } = useTerms();\n\n  // Fallback to sign-in page if SSO is not enabled\n  if (!singleSignOnEnabled) {\n    return <Navigate to={`/${experience.routes.signIn}`} />;\n  }\n\n  return (\n    <FocusedAuthPageLayout\n      pageMeta={{ titleKey: 'action.single_sign_on' }}\n      title=\"action.single_sign_on\"\n      description={t('description.single_sign_on_email_form')}\n      footerTermsDisplayPolicies={[AgreeToTermsPolicy.Automatic]}\n      authOptionsLink={{\n        to: `/${experience.routes.signIn}`,\n        text: 'description.all_sign_in_options',\n      }}\n    >\n      <SingleSignOnForm\n        /* Should display terms and privacy checkbox when we need to confirm the terms and privacy policy for both sign-in and sign-up */\n        isTermsAndPrivacyCheckboxVisible={agreeToTermsPolicy === AgreeToTermsPolicy.Manual}\n      />\n    </FocusedAuthPageLayout>\n  );\n};\n\nexport default SingleSignOnLanding;\n","import { useState, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport useToast from '@/hooks/use-toast';\nimport { SearchParameters } from '@/types';\nimport { getSearchParameters } from '@/utils';\nimport { storeCallbackLink } from '@/utils/social-connectors';\n\nconst useSocialLandingHandler = () => {\n  const [loading, setLoading] = useState(true);\n  const { setToast } = useToast();\n  const { t } = useTranslation();\n  const { search } = window.location;\n\n  const socialLandingHandler = useCallback(\n    (connectorId: string) => {\n      const redirectUri = getSearchParameters(search, SearchParameters.RedirectTo);\n\n      if (!redirectUri) {\n        setLoading(false);\n        setToast(t('error.invalid_connector_request'));\n\n        return;\n      }\n\n      const nativeCallbackLink = getSearchParameters(search, SearchParameters.NativeCallbackLink);\n\n      if (nativeCallbackLink) {\n        storeCallbackLink(connectorId, nativeCallbackLink);\n      }\n\n      window.location.replace(new URL(redirectUri));\n    },\n    [search, setToast, t]\n  );\n\n  return { loading, socialLandingHandler };\n};\n\nexport default useSocialLandingHandler;\n","import { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport StaticPageLayout from '@/Layout/StaticPageLayout';\nimport SocialLandingContainer from '@/containers/SocialLanding';\n\nimport styles from './index.module.scss';\nimport useSocialLandingHandler from './use-social-landing-handler';\n\ntype Parameters = {\n  connectorId: string;\n};\n\n/**\n * SocialLanding page\n * Used for both SocialSignIn and SingleSignOn\n * Only used for native app out of the app webview sign-in flow\n * Store the native callback url in the session storage before redirect to the IdP\n */\nconst SocialLanding = () => {\n  const { connectorId } = useParams<Parameters>();\n  const { loading, socialLandingHandler } = useSocialLandingHandler();\n\n  // SocialSignIn Callback Handler\n  useEffect(() => {\n    if (!connectorId) {\n      return;\n    }\n    socialLandingHandler(connectorId);\n  }, [connectorId, socialLandingHandler]);\n\n  if (!connectorId) {\n    return null;\n  }\n\n  return (\n    <StaticPageLayout>\n      <SocialLandingContainer\n        className={styles.connectorContainer}\n        connectorId={connectorId}\n        isLoading={loading}\n      />\n    </StaticPageLayout>\n  );\n};\n\nexport default SocialLanding;\n","import { AgreeToTermsPolicy, experience, InteractionEvent } from '@logto/schemas';\nimport { useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { registerWithVerifiedIdentifier } from '@/apis/experience';\n\nimport useApi from './use-api';\nimport useErrorHandler from './use-error-handler';\nimport useGlobalRedirectTo from './use-global-redirect-to';\nimport useSubmitInteractionErrorHandler from './use-submit-interaction-error-handler';\nimport useTerms from './use-terms';\n\nconst useSocialRegister = (connectorId: string, replace?: boolean) => {\n  const handleError = useErrorHandler();\n  const asyncRegisterWithSocial = useApi(registerWithVerifiedIdentifier);\n  const redirectTo = useGlobalRedirectTo();\n  const { termsValidation, agreeToTermsPolicy } = useTerms();\n  const navigate = useNavigate();\n\n  const preRegisterErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.Register, {\n    linkSocial: connectorId,\n    replace,\n  });\n\n  return useCallback(\n    async (verificationId: string) => {\n      /**\n       * Agree to terms and conditions first before proceeding\n       * If the agreement policy is `Manual`, the user must agree to the terms to reach this step.\n       * Therefore, skip the check for `Manual` policy.\n       */\n      if (agreeToTermsPolicy !== AgreeToTermsPolicy.Manual && !(await termsValidation())) {\n        navigate('/' + experience.routes.signIn);\n        return;\n      }\n\n      const [error, result] = await asyncRegisterWithSocial(verificationId);\n\n      if (error) {\n        await handleError(error, preRegisterErrorHandler);\n\n        return;\n      }\n\n      if (result?.redirectTo) {\n        await redirectTo(result.redirectTo);\n      }\n    },\n    [\n      agreeToTermsPolicy,\n      asyncRegisterWithSocial,\n      handleError,\n      navigate,\n      preRegisterErrorHandler,\n      redirectTo,\n      termsValidation,\n    ]\n  );\n};\n\nexport default useSocialRegister;\n","import { InteractionEvent } from '@logto/schemas';\nimport { useCallback } from 'react';\n\nimport { bindSocialRelatedUser } from '@/apis/experience';\nimport useApi from '@/hooks/use-api';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport useGlobalRedirectTo from '@/hooks/use-global-redirect-to';\nimport useSubmitInteractionErrorHandler from '@/hooks/use-submit-interaction-error-handler';\n\nconst useBindSocialRelatedUser = () => {\n  const handleError = useErrorHandler();\n  const preSignInErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.SignIn);\n  const redirectTo = useGlobalRedirectTo();\n\n  const asyncBindSocialRelatedUser = useApi(bindSocialRelatedUser);\n\n  return useCallback(\n    async (...payload: Parameters<typeof bindSocialRelatedUser>) => {\n      const [error, result] = await asyncBindSocialRelatedUser(...payload);\n\n      if (error) {\n        await handleError(error, preSignInErrorHandler);\n\n        return;\n      }\n\n      if (result?.redirectTo) {\n        await redirectTo(result.redirectTo);\n      }\n    },\n    [asyncBindSocialRelatedUser, handleError, preSignInErrorHandler, redirectTo]\n  );\n};\n\nexport default useBindSocialRelatedUser;\n","import { SignInIdentifier, SignInMode } from '@logto/schemas';\nimport classNames from 'classnames';\nimport type { TFuncKey } from 'i18next';\nimport { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport Button from '@/components/Button';\nimport DynamicT from '@/components/DynamicT';\nimport TextLink from '@/components/TextLink';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport useSocialRegister from '@/hooks/use-social-register';\nimport type { SocialRelatedUserInfo } from '@/types/guard';\nimport { maskEmail, maskPhone } from '@/utils/format';\n\nimport styles from './index.module.scss';\nimport useBindSocialRelatedUser from './use-social-link-related-user';\n\ntype Props = {\n  readonly className?: string;\n  readonly connectorId: string;\n  readonly verificationId: string;\n  readonly relatedUser: SocialRelatedUserInfo;\n};\n\nconst getCreateAccountActionText = (signUpMethods: string[]): TFuncKey => {\n  if (\n    signUpMethods.includes(SignInIdentifier.Email) &&\n    signUpMethods.includes(SignInIdentifier.Phone)\n  ) {\n    return 'action.link_another_email_or_phone';\n  }\n\n  if (signUpMethods.includes(SignInIdentifier.Email)) {\n    return 'action.link_another_email';\n  }\n\n  if (signUpMethods.includes(SignInIdentifier.Phone)) {\n    return 'action.link_another_phone';\n  }\n\n  return 'action.create_account_without_linking';\n};\n\nconst SocialLinkAccount = ({ connectorId, verificationId, className, relatedUser }: Props) => {\n  const { t } = useTranslation();\n  const { signUpMethods, signInMode } = useSieMethods();\n\n  const bindSocialRelatedUser = useBindSocialRelatedUser();\n  const [isBindingUser, setIsBindingUser] = useState(false);\n\n  const registerWithSocial = useSocialRegister(connectorId);\n\n  const actionText = getCreateAccountActionText(signUpMethods);\n\n  const { type, value } = relatedUser;\n\n  return (\n    <div className={classNames(styles.container, className)}>\n      <div className={styles.desc}>{t('description.social_bind_with_existing')}</div>\n\n      <Button\n        title=\"action.bind\"\n        i18nProps={{ address: type === 'email' ? maskEmail(value) : maskPhone(value) }}\n        isLoading={isBindingUser}\n        onClick={async () => {\n          setIsBindingUser(true);\n          await bindSocialRelatedUser(verificationId);\n          setIsBindingUser(false);\n        }}\n      />\n\n      {signInMode !== SignInMode.SignIn && (\n        <div className={styles.hint}>\n          <div>\n            <DynamicT forKey=\"description.skip_social_linking\" />\n          </div>\n          <TextLink\n            text={actionText}\n            onClick={() => {\n              void registerWithSocial(verificationId);\n            }}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SocialLinkAccount;\n","import { SignInIdentifier, VerificationType } from '@logto/schemas';\nimport type { TFuncKey } from 'i18next';\nimport { useContext } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { is } from 'superstruct';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport SocialLinkAccountContainer from '@/containers/SocialLinkAccount';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport ErrorPage from '@/pages/ErrorPage';\nimport { socialAccountNotExistErrorDataGuard } from '@/types/guard';\n\ntype Parameters = {\n  connectorId: string;\n};\n\nconst getPageTitle = (signUpMethods: SignInIdentifier[]): TFuncKey => {\n  if (\n    signUpMethods.includes(SignInIdentifier.Email) &&\n    signUpMethods.includes(SignInIdentifier.Phone)\n  ) {\n    return 'description.link_email_or_phone';\n  }\n\n  if (signUpMethods.includes(SignInIdentifier.Email)) {\n    return 'description.link_email';\n  }\n\n  if (signUpMethods.includes(SignInIdentifier.Phone)) {\n    return 'description.link_phone';\n  }\n\n  return 'description.bind_account_title';\n};\n\nconst SocialLinkAccount = () => {\n  const { connectorId } = useParams<Parameters>();\n  const { state } = useLocation();\n  const { signUpMethods } = useSieMethods();\n  const { verificationIdsMap } = useContext(UserInteractionContext);\n  const verificationId = verificationIdsMap[VerificationType.Social];\n\n  if (!is(state, socialAccountNotExistErrorDataGuard)) {\n    return <ErrorPage rawMessage=\"Missing relate account info\" />;\n  }\n\n  if (!connectorId) {\n    return <ErrorPage rawMessage=\"Connector not found\" />;\n  }\n\n  if (!verificationId) {\n    return <ErrorPage title=\"error.invalid_session\" rawMessage=\"Verification ID not found\" />;\n  }\n\n  const { relatedUser } = state;\n\n  return (\n    <SecondaryPageLayout title={getPageTitle(signUpMethods)}>\n      <SocialLinkAccountContainer\n        connectorId={connectorId}\n        verificationId={verificationId}\n        relatedUser={relatedUser}\n      />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default SocialLinkAccount;\n","import { AgreeToTermsPolicy, SignInMode, VerificationType, experience } from '@logto/schemas';\nimport { useCallback, useContext, useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport { registerWithVerifiedIdentifier, signInWithSso } from '@/apis/experience';\nimport useApi from '@/hooks/use-api';\nimport useEmailBlockedErrorHandler from '@/hooks/use-email-blocked-error-handler';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport useGlobalRedirectTo from '@/hooks/use-global-redirect-to';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport useTerms from '@/hooks/use-terms';\nimport useToast from '@/hooks/use-toast';\nimport { parseQueryParameters } from '@/utils';\nimport { validateState } from '@/utils/social-connectors';\n\nconst useSingleSignOnRegister = () => {\n  const handleError = useErrorHandler();\n  const emailBlockedErrorHandler = useEmailBlockedErrorHandler();\n\n  const request = useApi(registerWithVerifiedIdentifier);\n  const { termsValidation, agreeToTermsPolicy } = useTerms();\n  const navigate = useNavigate();\n  const redirectTo = useGlobalRedirectTo();\n\n  return useCallback(\n    async (verificationId: string) => {\n      /**\n       * Agree to terms and conditions first before proceeding\n       * If the agreement policy is `Manual`, the user must agree to the terms to reach this step.\n       * Therefore, skip the check for `Manual` policy.\n       */\n      if (agreeToTermsPolicy !== AgreeToTermsPolicy.Manual && !(await termsValidation())) {\n        navigate('/' + experience.routes.signIn);\n        return;\n      }\n\n      const [error, result] = await request(verificationId);\n\n      if (error) {\n        await handleError(error, emailBlockedErrorHandler);\n\n        return;\n      }\n\n      if (result?.redirectTo) {\n        await redirectTo(result.redirectTo);\n      }\n    },\n    [\n      agreeToTermsPolicy,\n      emailBlockedErrorHandler,\n      handleError,\n      navigate,\n      redirectTo,\n      request,\n      termsValidation,\n    ]\n  );\n};\n\n/**\n * Single Sign On authentication callback handler.\n *\n * @remark This hook is used by the Single Sign On authentication sign-in callback page.\n * Read the IdP parameters from the URL and call the Single Sign On authentication API.\n * Forked from @see `useSocialSignInListener`.\n * - SingleSignOn has different API endpoints.\n * - SingleSignOn has different error handling logic.\n */\nconst useSingleSignOnListener = (connectorId: string) => {\n  const { t } = useTranslation();\n\n  const [loading, setLoading] = useState(true);\n  const [isConsumed, setIsConsumed] = useState(false);\n  const [searchParameters, setSearchParameters] = useSearchParams();\n  const { setToast } = useToast();\n  const redirectTo = useGlobalRedirectTo();\n  const { signInMode } = useSieMethods();\n  const { verificationIdsMap } = useContext(UserInteractionContext);\n  const verificationId = verificationIdsMap[VerificationType.EnterpriseSso];\n\n  const handleError = useErrorHandler();\n  const navigate = useNavigate();\n\n  const singleSignOnAuthorizationRequest = useApi(signInWithSso);\n  const registerSingleSignOnIdentity = useSingleSignOnRegister();\n\n  const singleSignOnHandler = useCallback(\n    async (connectorId: string, verificationId: string, data: Record<string, unknown>) => {\n      const [error, result] = await singleSignOnAuthorizationRequest(connectorId, {\n        verificationId,\n        connectorData: {\n          ...data,\n          // For connector validation use\n          redirectUri: `${window.location.origin}/callback/${connectorId}`,\n        },\n      });\n\n      if (error) {\n        setLoading(false);\n        await handleError(error, {\n          'user.identity_not_exist': async (error) => {\n            // Should not let user register new social account under sign-in only mode\n            if (signInMode === SignInMode.SignIn) {\n              setToast(error.message);\n              navigate('/' + experience.routes.signIn);\n              return;\n            }\n\n            await registerSingleSignOnIdentity(verificationId);\n          },\n          // Redirect to sign-in page if error is not handled by the error handlers\n          global: async (error) => {\n            setToast(error.message);\n            navigate('/' + experience.routes.signIn);\n          },\n        });\n        return;\n      }\n\n      if (result?.redirectTo) {\n        await redirectTo(result.redirectTo);\n      }\n    },\n    [\n      handleError,\n      navigate,\n      redirectTo,\n      registerSingleSignOnIdentity,\n      setToast,\n      signInMode,\n      singleSignOnAuthorizationRequest,\n    ]\n  );\n\n  // Single Sign On Callback Handler\n  useEffect(() => {\n    if (isConsumed) {\n      return;\n    }\n\n    setIsConsumed(true);\n\n    const { state, ...rest } = parseQueryParameters(searchParameters);\n\n    // Cleanup the search parameters once it's consumed\n    setSearchParameters({}, { replace: true });\n\n    // Validate the state parameter\n    if (!validateState(state, connectorId)) {\n      setToast(t('error.invalid_connector_auth'));\n      navigate('/' + experience.routes.signIn);\n      return;\n    }\n\n    // Validate the verificationId\n    if (!verificationId) {\n      setToast(t('error.invalid_session'));\n      navigate('/' + experience.routes.signIn);\n      return;\n    }\n\n    void singleSignOnHandler(connectorId, verificationId, rest);\n  }, [\n    connectorId,\n    isConsumed,\n    navigate,\n    searchParameters,\n    setSearchParameters,\n    setToast,\n    singleSignOnHandler,\n    t,\n    verificationId,\n  ]);\n\n  return { loading };\n};\n\nexport default useSingleSignOnListener;\n","import LoadingLayer from '@/components/LoadingLayer';\nimport useNativeMessageListener from '@/hooks/use-native-message-listener';\nimport { useSieMethods } from '@/hooks/use-sie';\n\nimport useSingleSignOnListener from './use-single-sign-on-listener';\n\ntype Props = {\n  readonly connectorId: string;\n};\n\nconst SingleSignOn = ({ connectorId }: Props) => {\n  const { socialConnectors } = useSieMethods();\n\n  /* To avoid register duplicated native message listeners,\n    we only add the native message listener if there are no social connectors.\n    Set the bypass flag to true if there are social connectors.\n  */\n  useNativeMessageListener(socialConnectors.length > 0);\n\n  const { loading } = useSingleSignOnListener(connectorId);\n\n  return loading ? <LoadingLayer /> : null;\n};\n\nexport default SingleSignOn;\n","import { GoogleConnector } from '@logto/connector-kit';\nimport type { RequestErrorBody } from '@logto/schemas';\nimport { InteractionEvent, SignInMode, VerificationType, experience } from '@logto/schemas';\nimport { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { validate } from 'superstruct';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport {\n  identifyAndSubmitInteraction,\n  initInteraction,\n  verifySocialVerification,\n} from '@/apis/experience';\nimport useBindSocialRelatedUser from '@/containers/SocialLinkAccount/use-social-link-related-user';\nimport useApi from '@/hooks/use-api';\nimport type { ErrorHandlers } from '@/hooks/use-error-handler';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport useSocialRegister from '@/hooks/use-social-register';\nimport useSubmitInteractionErrorHandler from '@/hooks/use-submit-interaction-error-handler';\nimport useToast from '@/hooks/use-toast';\nimport { socialAccountNotExistErrorDataGuard } from '@/types/guard';\nimport { parseQueryParameters } from '@/utils';\nimport { validateGoogleOneTapCsrfToken, validateState } from '@/utils/social-connectors';\n\nconst useSocialSignInListener = (connectorId: string) => {\n  const [loading, setLoading] = useState(true);\n  const { setToast } = useToast();\n  const { signInMode, socialSignInSettings } = useSieMethods();\n  const { t } = useTranslation();\n  const [isConsumed, setIsConsumed] = useState(false);\n  const [searchParameters, setSearchParameters] = useSearchParams();\n  const { verificationIdsMap, setVerificationId } = useContext(UserInteractionContext);\n  const verificationId = verificationIdsMap[VerificationType.Social];\n\n  // Google One Tap will mutate the verificationId after the initial render\n  // We need to store a up to date reference of the verificationId\n  const verificationIdRef = useRef(verificationId);\n\n  const navigate = useNavigate();\n  const handleError = useErrorHandler();\n  const bindSocialRelatedUser = useBindSocialRelatedUser();\n  const registerWithSocial = useSocialRegister(connectorId, true);\n  const verifySocial = useApi(verifySocialVerification);\n  const asyncSignInWithSocial = useApi(identifyAndSubmitInteraction);\n  const asyncInitInteraction = useApi(initInteraction);\n\n  const accountNotExistErrorHandler = useCallback(\n    async (error: RequestErrorBody) => {\n      const [, data] = validate(error.data, socialAccountNotExistErrorDataGuard);\n      const { relatedUser } = data ?? {};\n      const verificationId = verificationIdRef.current;\n\n      // Redirect to sign-in page if the verificationId is not set properly\n      if (!verificationId) {\n        setToast(t('error.invalid_session'));\n        navigate('/' + experience.routes.signIn);\n        return;\n      }\n\n      if (relatedUser) {\n        if (socialSignInSettings.automaticAccountLinking) {\n          await bindSocialRelatedUser(verificationId);\n        } else {\n          navigate(`/social/link/${connectorId}`, {\n            replace: true,\n            state: { relatedUser },\n          });\n        }\n\n        return;\n      }\n\n      // Should not let user register new social account under sign-in only mode\n      if (signInMode === SignInMode.SignIn) {\n        setToast(error.message);\n        navigate('/' + experience.routes.signIn);\n        return;\n      }\n\n      // Register with social\n      await registerWithSocial(verificationId);\n    },\n    [\n      bindSocialRelatedUser,\n      connectorId,\n      navigate,\n      registerWithSocial,\n      setToast,\n      signInMode,\n      socialSignInSettings.automaticAccountLinking,\n      t,\n    ]\n  );\n\n  const globalErrorHandler = useCallback(\n    async (error: RequestErrorBody) => {\n      setToast(error.message);\n      navigate('/' + experience.routes.signIn);\n    },\n    [navigate, setToast]\n  );\n\n  const preSignInErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.SignIn, {\n    replace: true,\n  });\n\n  const signInWithSocialErrorHandlers: ErrorHandlers = useMemo(\n    () => ({\n      'user.identity_not_exist': accountNotExistErrorHandler,\n      ...preSignInErrorHandler,\n      global: globalErrorHandler,\n    }),\n    [preSignInErrorHandler, globalErrorHandler, accountNotExistErrorHandler]\n  );\n\n  const verifySocialCallbackData = useCallback(\n    async (connectorId: string, data: Record<string, unknown>) => {\n      // When the callback is called from Google One Tap, the interaction event was not set yet.\n      if (data[GoogleConnector.oneTapParams.csrfToken]) {\n        await asyncInitInteraction(InteractionEvent.SignIn);\n      }\n\n      const [error, result] = await verifySocial(connectorId, {\n        verificationId: verificationIdRef.current,\n        connectorData: {\n          // For validation use only\n          redirectUri: `${window.location.origin}/callback/${connectorId}`,\n          ...data,\n        },\n      });\n\n      if (error || !result) {\n        setLoading(false);\n        await handleError(error, { global: globalErrorHandler });\n        return;\n      }\n\n      const { verificationId } = result;\n\n      // VerificationId might not be available in the UserInteractionContext (Google one tap)\n      // Always update the verificationId here\n      // eslint-disable-next-line @silverhand/fp/no-mutation\n      verificationIdRef.current = verificationId;\n      setVerificationId(VerificationType.Social, verificationId);\n\n      return verificationId;\n    },\n    [asyncInitInteraction, globalErrorHandler, handleError, setVerificationId, verifySocial]\n  );\n\n  const signInWithSocialHandler = useCallback(\n    async (connectorId: string, data: Record<string, unknown>) => {\n      const verificationId = await verifySocialCallbackData(connectorId, data);\n\n      // Exception occurred during verification drop the process\n      if (!verificationId) {\n        return;\n      }\n      const [error, result] = await asyncSignInWithSocial({ verificationId });\n\n      if (error) {\n        setLoading(false);\n        await handleError(error, signInWithSocialErrorHandlers);\n\n        return;\n      }\n\n      if (result?.redirectTo) {\n        window.location.replace(result.redirectTo);\n      }\n    },\n    [asyncSignInWithSocial, handleError, signInWithSocialErrorHandlers, verifySocialCallbackData]\n  );\n\n  // Social Sign-in Callback Handler\n  useEffect(() => {\n    if (isConsumed) {\n      return;\n    }\n\n    setIsConsumed(true);\n\n    const { state, ...rest } = parseQueryParameters(searchParameters);\n\n    const isGoogleOneTap = validateGoogleOneTapCsrfToken(\n      rest[GoogleConnector.oneTapParams.csrfToken]\n    );\n\n    // Cleanup the search parameters once it's consumed\n    setSearchParameters({}, { replace: true });\n\n    if (!validateState(state, connectorId) && !isGoogleOneTap) {\n      setToast(t('error.invalid_connector_auth'));\n      navigate('/' + experience.routes.signIn);\n      return;\n    }\n\n    if (!verificationIdRef.current && !isGoogleOneTap) {\n      setToast(t('error.invalid_session'));\n      navigate('/' + experience.routes.signIn);\n      return;\n    }\n\n    void signInWithSocialHandler(connectorId, rest);\n  }, [\n    connectorId,\n    isConsumed,\n    navigate,\n    searchParameters,\n    setSearchParameters,\n    setToast,\n    signInWithSocialHandler,\n    t,\n  ]);\n\n  return { loading };\n};\n\nexport default useSocialSignInListener;\n","import LoadingLayer from '@/components/LoadingLayer';\n\nimport useSocialSignInListener from './use-social-sign-in-listener';\n\n/**\n * Social sign-in callback page\n */\ntype Props = {\n  readonly connectorId: string;\n};\n\nconst SocialSignIn = ({ connectorId }: Props) => {\n  const { loading } = useSocialSignInListener(connectorId);\n\n  return loading ? <LoadingLayer /> : null;\n};\n\nexport default SocialSignIn;\n","import { experience } from '@logto/schemas';\nimport { Navigate, useParams } from 'react-router-dom';\n\nimport useConnectors from '@/hooks/use-connectors';\n\nimport SingleSignOn from './SingleSignOn';\nimport SocialSignIn from './SocialSignIn';\n\n/** The real callback page for social sign-in in web browsers. */\nconst SocialSignInWebCallback = () => {\n  const parameters = useParams<{ connectorId: string }>();\n  const { findConnectorById } = useConnectors();\n  const result = findConnectorById(parameters.connectorId);\n\n  if (result?.type === 'social') {\n    return <SocialSignIn connectorId={result.connector.id} />;\n  }\n\n  if (result?.type === 'sso') {\n    return <SingleSignOn connectorId={result.connector.id} />;\n  }\n\n  // Connector not found, return sign in page\n  return <Navigate to={'/' + experience.routes.signIn} />;\n};\n\nexport default SocialSignInWebCallback;\n","import { useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport LoadingLayer from '@/components/LoadingLayer';\nimport { storeCallbackLink, storeState } from '@/utils/social-connectors';\n\nconst Springboard = () => {\n  const [searchParameters] = useSearchParams();\n\n  useEffect(() => {\n    const state = searchParameters.get('state');\n    const connectorId = searchParameters.get('connectorId');\n    const callback = searchParameters.get('callback');\n    const redirectTo = searchParameters.get('redirectTo');\n\n    if (callback && connectorId) {\n      storeCallbackLink(connectorId, callback);\n    }\n\n    if (state && connectorId) {\n      storeState(state, connectorId);\n    }\n\n    if (redirectTo) {\n      window.location.assign(redirectTo);\n    }\n  }, [searchParameters]);\n\n  return <LoadingLayer />;\n};\n\nexport default Springboard;\n","import { experience, type ConsentInfoResponse } from '@logto/schemas';\nimport { useContext, useEffect, useState } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\n\nimport StaticPageLayout from '@/Layout/StaticPageLayout';\nimport PageContext from '@/Providers/PageContextProvider/PageContext';\nimport { getConsentInfo } from '@/apis/consent';\nimport Button from '@/components/Button';\nimport DynamicT from '@/components/DynamicT';\nimport LoadingLayer from '@/components/LoadingLayer';\nimport PageMeta from '@/components/PageMeta';\nimport TextLink from '@/components/TextLink';\nimport useApi from '@/hooks/use-api';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport UserProfile from '@/pages/Consent/UserProfile';\nimport ErrorPage from '@/pages/ErrorPage';\nimport { getBrandingLogoUrl } from '@/utils/logo';\n\nimport styles from './index.module.scss';\n\n/**\n * This component is only used when there's an active session, and then the user\n * is trying to sign-in with another account (e.g., using a magic link).\n */\nconst SwitchAccount = () => {\n  const { experienceSettings, theme } = useContext(PageContext);\n  const navigate = useNavigate();\n  const handleError = useErrorHandler();\n\n  const [consentData, setConsentData] = useState<ConsentInfoResponse>();\n  const asyncGetConsentInfo = useApi(getConsentInfo);\n\n  const [params] = useSearchParams();\n  const loginHint = params.get('login_hint');\n\n  useEffect(() => {\n    (async () => {\n      const [error, result] = await asyncGetConsentInfo();\n\n      if (error) {\n        await handleError(error);\n        return;\n      }\n      setConsentData(result);\n    })();\n  }, [asyncGetConsentInfo, handleError]);\n\n  if (!loginHint) {\n    return <ErrorPage title=\"error.unknown\" message=\"error.unknown\" />;\n  }\n\n  if (!experienceSettings || !consentData) {\n    return <LoadingLayer />;\n  }\n\n  const {\n    color: { isDarkModeEnabled },\n    branding,\n  } = experienceSettings;\n  const logoUrl = getBrandingLogoUrl({ theme, branding, isDarkModeEnabled });\n\n  return (\n    <StaticPageLayout>\n      <PageMeta titleKey=\"description.switch_account\" />\n      <div className={styles.container}>\n        {logoUrl && <img className={styles.logo} src={logoUrl} alt=\"app logo\" />}\n        <div className={styles.title}>\n          <DynamicT\n            forKey=\"description.switch_account_title\"\n            interpolation={{ account: consentData.user.primaryEmail }}\n          />\n        </div>\n        <UserProfile user={consentData.user} className={styles.userProfile} />\n        <div className={styles.message}>\n          <DynamicT forKey=\"description.switch_account_description\" />\n        </div>\n        <Button\n          className={styles.button}\n          type=\"primary\"\n          size=\"large\"\n          title=\"action.continue_as\"\n          i18nProps={{ name: loginHint }}\n          onClick={() => {\n            navigate(\n              { pathname: `/${experience.routes.oneTimeToken}`, search: `?${params.toString()}` },\n              { replace: true }\n            );\n          }}\n        />\n        <div className={styles.linkButton}>\n          <TextLink\n            text=\"action.back_to_current_account\"\n            onClick={async () => {\n              history.back();\n            }}\n          />\n        </div>\n      </div>\n    </StaticPageLayout>\n  );\n};\n\nexport default SwitchAccount;\n","import SwitchIcon from '@/assets/icons/switch-icon.svg?react';\nimport TextLink from '@/components/TextLink';\nimport { UserFlow } from '@/types';\n\ntype Props = {\n  readonly className?: string;\n};\n\nconst PasswordSignInLink = ({ className }: Props) => {\n  return (\n    <TextLink\n      replace\n      className={className}\n      icon={<SwitchIcon />}\n      text=\"action.sign_in_via_password\"\n      to={`/${UserFlow.SignIn}/password`}\n    />\n  );\n};\n\nexport default PasswordSignInLink;\n","import { InteractionEvent, type VerificationCodeIdentifier } from '@logto/schemas';\nimport { t } from 'i18next';\nimport { useCallback, useContext, useMemo } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { useTimer } from 'react-timer-hook';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport { sendVerificationCode } from '@/apis/experience';\nimport { getInteractionEventFromState, userFlowToInteractionEventMap } from '@/apis/utils';\nimport useApi from '@/hooks/use-api';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport useToast from '@/hooks/use-toast';\nimport { UserFlow } from '@/types';\nimport { codeVerificationTypeMap } from '@/utils/sign-in-experience';\n\nexport const timeRange = 59;\n\nconst getTimeout = () => {\n  const now = new Date();\n  now.setSeconds(now.getSeconds() + timeRange);\n\n  return now;\n};\n\nconst useResendVerificationCode = (flow: UserFlow, identifier: VerificationCodeIdentifier) => {\n  const { setToast } = useToast();\n  const { state } = useLocation();\n\n  const interactionEvent = useMemo<InteractionEvent>(() => {\n    if (flow === UserFlow.Continue) {\n      const interactionEvent = getInteractionEventFromState(state);\n      console.log('interactionEvent', interactionEvent);\n      return interactionEvent ?? InteractionEvent.SignIn;\n    }\n\n    return userFlowToInteractionEventMap[flow];\n  }, [flow, state]);\n\n  const { seconds, isRunning, restart } = useTimer({\n    autoStart: true,\n    expiryTimestamp: getTimeout(),\n  });\n\n  const handleError = useErrorHandler();\n  const resendVerificationCode = useApi(sendVerificationCode);\n  const { setVerificationId } = useContext(UserInteractionContext);\n\n  const onResendVerificationCode = useCallback(async () => {\n    const [error, result] = await resendVerificationCode(interactionEvent, identifier);\n\n    if (error) {\n      await handleError(error);\n\n      return;\n    }\n\n    if (result) {\n      // Renew the verification ID in the context\n      setVerificationId(codeVerificationTypeMap[identifier.type], result.verificationId);\n      setToast(t('description.passcode_sent'));\n      restart(getTimeout(), true);\n    }\n  }, [\n    resendVerificationCode,\n    interactionEvent,\n    identifier,\n    handleError,\n    setVerificationId,\n    setToast,\n    restart,\n  ]);\n\n  return {\n    seconds,\n    isRunning,\n    onResendVerificationCode,\n  };\n};\n\nexport default useResendVerificationCode;\n","import { useState, useMemo } from 'react';\n\nimport type { ErrorHandlers } from '@/hooks/use-error-handler';\n\nconst useGeneralVerificationCodeErrorHandler = () => {\n  const [errorMessage, setErrorMessage] = useState<string>();\n\n  // Have to wrap up in a useMemo hook otherwise the handler updates on every cycle\n  const generalVerificationCodeErrorHandlers: ErrorHandlers = useMemo(\n    () => ({\n      'verification_code.expired': (error) => {\n        setErrorMessage(error.message);\n      },\n      'verification_code.code_mismatch': (error) => {\n        setErrorMessage(error.message);\n      },\n    }),\n    []\n  );\n\n  return {\n    errorMessage,\n    generalVerificationCodeErrorHandlers,\n    clearErrorMessage: () => {\n      setErrorMessage('');\n    },\n  };\n};\n\nexport default useGeneralVerificationCodeErrorHandler;\n","import { SignInIdentifier } from '@logto/schemas';\nimport { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\n\nimport { usePromiseConfirmModal } from '@/hooks/use-confirm-modal';\nimport type { VerificationCodeIdentifier } from '@/types';\nimport { formatPhoneNumberWithCountryCallingCode } from '@/utils/country-code';\n\nexport enum IdentifierErrorType {\n  IdentifierNotExist = 'IdentifierNotExist',\n  IdentifierAlreadyExists = 'IdentifierAlreadyExists',\n}\n\nconst useIdentifierErrorAlert = () => {\n  const { show } = usePromiseConfirmModal();\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n\n  // Have to wrap up in a useCallback hook otherwise the handler updates on every cycle\n  return useCallback(\n    async (errorType: IdentifierErrorType, method: VerificationCodeIdentifier, value: string) => {\n      await show({\n        type: 'alert',\n        ModalContent: t(\n          errorType === IdentifierErrorType.IdentifierAlreadyExists\n            ? 'description.create_account_id_exists_alert'\n            : 'description.sign_in_id_does_not_exist_alert',\n          {\n            type: t(`description.${method === SignInIdentifier.Email ? 'email' : 'phone_number'}`),\n            value:\n              method === SignInIdentifier.Phone\n                ? formatPhoneNumberWithCountryCallingCode(value)\n                : value,\n          }\n        ),\n        cancelText: 'action.change',\n        cancelTextI18nProps: {\n          method: t(`description.${method === SignInIdentifier.Email ? 'email' : 'phone_number'}`),\n        },\n      });\n      navigate(-1);\n    },\n    [navigate, show, t]\n  );\n};\n\nexport default useIdentifierErrorAlert;\n","import { InteractionEvent } from '@logto/schemas';\nimport { useCallback } from 'react';\n\nimport { signInAndLinkWithSocial } from '@/apis/experience';\nimport useApi from '@/hooks/use-api';\n\nimport useErrorHandler from './use-error-handler';\nimport useGlobalRedirectTo from './use-global-redirect-to';\nimport useSubmitInteractionErrorHandler from './use-submit-interaction-error-handler';\n\nconst useLinkSocial = () => {\n  const handleError = useErrorHandler();\n  const asyncLinkWithSocial = useApi(signInAndLinkWithSocial);\n  const redirectTo = useGlobalRedirectTo();\n  const preSignInErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.SignIn, {\n    replace: true,\n  });\n\n  return useCallback(\n    async (identifierVerificationId: string, socialVerificationId: string) => {\n      const [error, result] = await asyncLinkWithSocial(\n        identifierVerificationId,\n        socialVerificationId\n      );\n\n      if (error) {\n        await handleError(error, preSignInErrorHandler);\n\n        return;\n      }\n\n      if (result?.redirectTo) {\n        await redirectTo(result.redirectTo);\n      }\n    },\n    [asyncLinkWithSocial, handleError, preSignInErrorHandler, redirectTo]\n  );\n};\n\nexport default useLinkSocial;\n","import { SignInIdentifier } from '@logto/schemas';\nimport type { VerificationCodeIdentifier } from '@logto/schemas';\nimport { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\n\nimport { useConfirmModal } from '@/hooks/use-confirm-modal';\nimport useLinkSocial from '@/hooks/use-social-link-account';\nimport { formatPhoneNumberWithCountryCallingCode } from '@/utils/country-code';\n\nconst useLinkSocialConfirmModal = () => {\n  const { show } = useConfirmModal();\n  const { t } = useTranslation();\n  const linkWithSocial = useLinkSocial();\n  const navigate = useNavigate();\n\n  return useCallback(\n    async (\n      identifier: VerificationCodeIdentifier,\n      identifierVerificationId: string,\n      socialVerificationId: string\n    ) => {\n      const { type, value } = identifier;\n\n      show({\n        confirmText: 'action.bind_and_continue',\n        cancelText: 'action.change',\n        cancelTextI18nProps: {\n          method: t(`description.${type === SignInIdentifier.Email ? 'email' : 'phone_number'}`),\n        },\n        ModalContent: t('description.link_account_id_exists', {\n          type: t(`description.${type === SignInIdentifier.Email ? 'email' : 'phone_number'}`),\n          value:\n            type === SignInIdentifier.Phone\n              ? formatPhoneNumberWithCountryCallingCode(value)\n              : value,\n        }),\n        onConfirm: async () => {\n          await linkWithSocial(identifierVerificationId, socialVerificationId);\n        },\n        onCancel: () => {\n          navigate(-1);\n        },\n      });\n    },\n    [linkWithSocial, navigate, show, t]\n  );\n};\n\nexport default useLinkSocialConfirmModal;\n","import {\n  InteractionEvent,\n  SignInIdentifier,\n  type VerificationCodeIdentifier,\n} from '@logto/schemas';\nimport { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { signInWithVerifiedIdentifier } from '@/apis/experience';\nimport useApi from '@/hooks/use-api';\nimport { useConfirmModal } from '@/hooks/use-confirm-modal';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport useGlobalRedirectTo from '@/hooks/use-global-redirect-to';\nimport useSubmitInteractionErrorHandler from '@/hooks/use-submit-interaction-error-handler';\nimport { formatPhoneNumberWithCountryCallingCode } from '@/utils/country-code';\n\ntype CallbackProps = {\n  /**\n   * Email or phone number identifier.\n   * The value will be used to display the detailed identifier info in the confirm modal.\n   **/\n  identifier: VerificationCodeIdentifier;\n  /**\n   * The verification ID for the given identifier.\n   */\n  verificationId: string;\n  onCanceled?: () => void;\n};\n\n/**\n * For sign-up flow user identifier already exists error handling use.\n *\n * Returns a callback function that shows a confirm modal to allow the user to sign-in with the verified identifier directly.\n */\nconst useSignInWithExistIdentifierConfirmModal = () => {\n  const { t } = useTranslation();\n\n  const { show } = useConfirmModal();\n  const handleError = useErrorHandler();\n  const redirectTo = useGlobalRedirectTo();\n\n  const signInWithIdentifierAsync = useApi(signInWithVerifiedIdentifier);\n\n  const submitInteractionErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.SignIn, {\n    replace: true,\n  });\n\n  return useCallback(\n    ({ identifier: { type, value }, verificationId, onCanceled }: CallbackProps) => {\n      show({\n        confirmText: 'action.sign_in',\n        ModalContent: t('description.create_account_id_exists', {\n          type: t(`description.${type === SignInIdentifier.Email ? 'email' : 'phone_number'}`),\n          value:\n            type === SignInIdentifier.Phone\n              ? formatPhoneNumberWithCountryCallingCode(value)\n              : value,\n        }),\n        onConfirm: async () => {\n          const [error, result] = await signInWithIdentifierAsync(verificationId);\n\n          if (error) {\n            await handleError(error, submitInteractionErrorHandler);\n\n            return;\n          }\n\n          if (result?.redirectTo) {\n            await redirectTo(result.redirectTo);\n          }\n        },\n        onCancel: onCanceled,\n      });\n    },\n    [handleError, redirectTo, show, signInWithIdentifierAsync, submitInteractionErrorHandler, t]\n  );\n};\n\nexport default useSignInWithExistIdentifierConfirmModal;\n","import type { VerificationCodeIdentifier } from '@logto/schemas';\nimport { InteractionEvent, VerificationType } from '@logto/schemas';\nimport { useCallback, useContext, useMemo } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'react-router-dom';\n\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport { updateProfileWithVerificationCode } from '@/apis/experience';\nimport { getInteractionEventFromState } from '@/apis/utils';\nimport useApi from '@/hooks/use-api';\nimport type { ErrorHandlers } from '@/hooks/use-error-handler';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport useGlobalRedirectTo from '@/hooks/use-global-redirect-to';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport useSubmitInteractionErrorHandler from '@/hooks/use-submit-interaction-error-handler';\nimport { SearchParameters } from '@/types';\n\nimport useGeneralVerificationCodeErrorHandler from './use-general-verification-code-error-handler';\nimport useIdentifierErrorAlert, { IdentifierErrorType } from './use-identifier-error-alert';\nimport useLinkSocialConfirmModal from './use-link-social-confirm-modal';\nimport useSignInWithExistIdentifierConfirmModal from './use-sign-in-with-exist-identifier-confirm-modal';\n\nconst useContinueFlowCodeVerification = (\n  identifier: VerificationCodeIdentifier,\n  verificationId: string,\n  errorCallback?: () => void\n) => {\n  const [searchParameters] = useSearchParams();\n  const redirectTo = useGlobalRedirectTo();\n  const navigate = useNavigate();\n\n  const { state } = useLocation();\n  const { verificationIdsMap } = useContext(UserInteractionContext);\n  const { isVerificationCodeEnabledForSignIn } = useSieMethods();\n\n  const interactionEvent = useMemo(\n    () => getInteractionEventFromState(state) ?? InteractionEvent.SignIn,\n    [state]\n  );\n\n  const handleError = useErrorHandler();\n\n  const verifyVerificationCode = useApi(updateProfileWithVerificationCode);\n\n  const { generalVerificationCodeErrorHandlers, errorMessage, clearErrorMessage } =\n    useGeneralVerificationCodeErrorHandler();\n\n  const submitInteractionErrorHandler = useSubmitInteractionErrorHandler(interactionEvent, {\n    replace: true,\n  });\n\n  const showIdentifierErrorAlert = useIdentifierErrorAlert();\n  const showLinkSocialConfirmModal = useLinkSocialConfirmModal();\n  const showSignInWithExistIdentifierConfirmModal = useSignInWithExistIdentifierConfirmModal();\n\n  const identifierExistsErrorHandler = useCallback(async () => {\n    const linkSocial = searchParameters.get(SearchParameters.LinkSocial);\n    const socialVerificationId = verificationIdsMap[VerificationType.Social];\n\n    // Show bind with social confirm modal\n    if (linkSocial && socialVerificationId) {\n      await showLinkSocialConfirmModal(identifier, verificationId, socialVerificationId);\n      return;\n    }\n\n    const { type, value } = identifier;\n\n    // This is to ensure a consistent user experience during the registration process.\n    // If email or phone number has been enabled as additional sign-up identifiers,\n    // and user trying to provide an email/phone number that already exists in the system,\n    // prompt the user to sign in with the existing identifier.\n    // @see {user-register-flow-code-verification.ts} for more details.\n    if (\n      interactionEvent === InteractionEvent.Register &&\n      isVerificationCodeEnabledForSignIn(type)\n    ) {\n      showSignInWithExistIdentifierConfirmModal({\n        identifier,\n        verificationId,\n        onCanceled: () => {\n          navigate(-1);\n        },\n      });\n      return;\n    }\n\n    await showIdentifierErrorAlert(IdentifierErrorType.IdentifierAlreadyExists, type, value);\n  }, [\n    identifier,\n    interactionEvent,\n    isVerificationCodeEnabledForSignIn,\n    navigate,\n    searchParameters,\n    showIdentifierErrorAlert,\n    showLinkSocialConfirmModal,\n    showSignInWithExistIdentifierConfirmModal,\n    verificationId,\n    verificationIdsMap,\n  ]);\n\n  const verifyVerificationCodeErrorHandlers: ErrorHandlers = useMemo(\n    () => ({\n      'user.phone_already_in_use': identifierExistsErrorHandler,\n      'user.email_already_in_use': identifierExistsErrorHandler,\n      ...submitInteractionErrorHandler,\n      ...generalVerificationCodeErrorHandlers,\n    }),\n    [\n      submitInteractionErrorHandler,\n      generalVerificationCodeErrorHandlers,\n      identifierExistsErrorHandler,\n    ]\n  );\n\n  const onSubmit = useCallback(\n    async (code: string) => {\n      const [error, result] = await verifyVerificationCode(\n        {\n          code,\n          identifier,\n          verificationId,\n        },\n        interactionEvent\n      );\n\n      if (error) {\n        await handleError(error, verifyVerificationCodeErrorHandlers);\n        errorCallback?.();\n\n        return;\n      }\n\n      if (result?.redirectTo) {\n        await redirectTo(result.redirectTo);\n      }\n    },\n    [\n      errorCallback,\n      handleError,\n      identifier,\n      interactionEvent,\n      redirectTo,\n      verificationId,\n      verifyVerificationCode,\n      verifyVerificationCodeErrorHandlers,\n    ]\n  );\n\n  return {\n    errorMessage,\n    clearErrorMessage,\n    onSubmit,\n  };\n};\n\nexport default useContinueFlowCodeVerification;\n","import type { VerificationCodeIdentifier } from '@logto/schemas';\nimport { useCallback, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { identifyWithVerificationCode } from '@/apis/experience';\nimport useApi from '@/hooks/use-api';\nimport type { ErrorHandlers } from '@/hooks/use-error-handler';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport { UserFlow } from '@/types';\n\nimport useGeneralVerificationCodeErrorHandler from './use-general-verification-code-error-handler';\nimport useIdentifierErrorAlert, { IdentifierErrorType } from './use-identifier-error-alert';\n\nconst useForgotPasswordFlowCodeVerification = (\n  identifier: VerificationCodeIdentifier,\n  verificationId: string,\n  errorCallback?: () => void\n) => {\n  const navigate = useNavigate();\n  const handleError = useErrorHandler();\n  const verifyVerificationCode = useApi(identifyWithVerificationCode);\n\n  const { generalVerificationCodeErrorHandlers, errorMessage, clearErrorMessage } =\n    useGeneralVerificationCodeErrorHandler();\n  const identifierErrorHandler = useIdentifierErrorAlert();\n\n  const errorHandlers: ErrorHandlers = useMemo(\n    () => ({\n      'user.user_not_exist': async () =>\n        identifierErrorHandler(\n          IdentifierErrorType.IdentifierNotExist,\n          identifier.type,\n          identifier.value\n        ),\n      'user.new_password_required_in_profile': () => {\n        navigate(`/${UserFlow.ForgotPassword}/reset`, { replace: true });\n      },\n      ...generalVerificationCodeErrorHandlers,\n    }),\n    [\n      generalVerificationCodeErrorHandlers,\n      identifierErrorHandler,\n      identifier.type,\n      identifier.value,\n      navigate,\n    ]\n  );\n\n  const onSubmit = useCallback(\n    async (code: string) => {\n      const [error, result] = await verifyVerificationCode({\n        code,\n        identifier,\n        verificationId,\n      });\n\n      if (error) {\n        await handleError(error, errorHandlers);\n        errorCallback?.();\n\n        return;\n      }\n\n      if (result) {\n        navigate(`/${UserFlow.SignIn}`, { replace: true });\n      }\n    },\n    [\n      errorCallback,\n      errorHandlers,\n      handleError,\n      identifier,\n      navigate,\n      verificationId,\n      verifyVerificationCode,\n    ]\n  );\n\n  return {\n    errorMessage,\n    clearErrorMessage,\n    onSubmit,\n  };\n};\n\nexport default useForgotPasswordFlowCodeVerification;\n","import {\n  InteractionEvent,\n  SignInIdentifier,\n  type VerificationCodeIdentifier,\n} from '@logto/schemas';\nimport { useCallback, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\n\nimport { identifyWithVerificationCode, signInWithVerifiedIdentifier } from '@/apis/experience';\nimport useApi from '@/hooks/use-api';\nimport { useConfirmModal } from '@/hooks/use-confirm-modal';\nimport type { ErrorHandlers } from '@/hooks/use-error-handler';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport useGlobalRedirectTo from '@/hooks/use-global-redirect-to';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport useSubmitInteractionErrorHandler from '@/hooks/use-submit-interaction-error-handler';\nimport { formatPhoneNumberWithCountryCallingCode } from '@/utils/country-code';\n\nimport useGeneralVerificationCodeErrorHandler from './use-general-verification-code-error-handler';\nimport useIdentifierErrorAlert, { IdentifierErrorType } from './use-identifier-error-alert';\n\nconst useRegisterFlowCodeVerification = (\n  identifier: VerificationCodeIdentifier,\n  verificationId: string,\n  errorCallback?: () => void\n) => {\n  const { t } = useTranslation();\n  const { show } = useConfirmModal();\n  const navigate = useNavigate();\n  const redirectTo = useGlobalRedirectTo();\n\n  const { isVerificationCodeEnabledForSignIn } = useSieMethods();\n\n  const handleError = useErrorHandler();\n\n  const signInWithIdentifierAsync = useApi(signInWithVerifiedIdentifier);\n  const verifyVerificationCode = useApi(identifyWithVerificationCode);\n\n  const { errorMessage, clearErrorMessage, generalVerificationCodeErrorHandlers } =\n    useGeneralVerificationCodeErrorHandler();\n\n  const preRegisterErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.Register, {\n    replace: true,\n  });\n\n  const preSignInErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.SignIn, {\n    replace: true,\n  });\n\n  const showIdentifierErrorAlert = useIdentifierErrorAlert();\n\n  const identifierExistsErrorHandler = useCallback(async () => {\n    const { type, value } = identifier;\n\n    if (!isVerificationCodeEnabledForSignIn(type)) {\n      void showIdentifierErrorAlert(IdentifierErrorType.IdentifierAlreadyExists, type, value);\n      return;\n    }\n\n    // TODO: replace with use-sign-in-with-exist-identifier-confirm-model.ts\n    show({\n      confirmText: 'action.sign_in',\n      ModalContent: t('description.create_account_id_exists', {\n        type: t(`description.${type === SignInIdentifier.Email ? 'email' : 'phone_number'}`),\n        value:\n          type === SignInIdentifier.Phone ? formatPhoneNumberWithCountryCallingCode(value) : value,\n      }),\n      onConfirm: async () => {\n        const [error, result] = await signInWithIdentifierAsync(verificationId);\n\n        if (error) {\n          await handleError(error, preSignInErrorHandler);\n\n          return;\n        }\n\n        if (result?.redirectTo) {\n          await redirectTo(result.redirectTo);\n        }\n      },\n      onCancel: () => {\n        navigate(-1);\n      },\n    });\n  }, [\n    identifier,\n    isVerificationCodeEnabledForSignIn,\n    show,\n    t,\n    showIdentifierErrorAlert,\n    signInWithIdentifierAsync,\n    verificationId,\n    handleError,\n    preSignInErrorHandler,\n    redirectTo,\n    navigate,\n  ]);\n\n  const errorHandlers = useMemo<ErrorHandlers>(\n    () => ({\n      'user.email_already_in_use': identifierExistsErrorHandler,\n      'user.phone_already_in_use': identifierExistsErrorHandler,\n      ...generalVerificationCodeErrorHandlers,\n      ...preRegisterErrorHandler,\n      callback: errorCallback,\n    }),\n    [\n      identifierExistsErrorHandler,\n      generalVerificationCodeErrorHandlers,\n      preRegisterErrorHandler,\n      errorCallback,\n    ]\n  );\n\n  const onSubmit = useCallback(\n    async (code: string) => {\n      const [error, result] = await verifyVerificationCode({\n        verificationId,\n        identifier,\n        code,\n      });\n\n      if (error) {\n        await handleError(error, errorHandlers);\n        errorCallback?.();\n\n        return;\n      }\n\n      if (result?.redirectTo) {\n        await redirectTo(result.redirectTo);\n      }\n    },\n    [\n      errorCallback,\n      errorHandlers,\n      handleError,\n      identifier,\n      redirectTo,\n      verificationId,\n      verifyVerificationCode,\n    ]\n  );\n\n  return {\n    errorMessage,\n    clearErrorMessage,\n    onSubmit,\n  };\n};\n\nexport default useRegisterFlowCodeVerification;\n","import {\n  InteractionEvent,\n  SignInIdentifier,\n  type VerificationCodeIdentifier,\n} from '@logto/schemas';\nimport { useCallback, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\n\nimport { identifyWithVerificationCode, registerWithVerifiedIdentifier } from '@/apis/experience';\nimport useApi from '@/hooks/use-api';\nimport { useConfirmModal } from '@/hooks/use-confirm-modal';\nimport type { ErrorHandlers } from '@/hooks/use-error-handler';\nimport useErrorHandler from '@/hooks/use-error-handler';\nimport useGlobalRedirectTo from '@/hooks/use-global-redirect-to';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport useSubmitInteractionErrorHandler from '@/hooks/use-submit-interaction-error-handler';\nimport { formatPhoneNumberWithCountryCallingCode } from '@/utils/country-code';\n\nimport useGeneralVerificationCodeErrorHandler from './use-general-verification-code-error-handler';\nimport useIdentifierErrorAlert, { IdentifierErrorType } from './use-identifier-error-alert';\n\nconst useSignInFlowCodeVerification = (\n  identifier: VerificationCodeIdentifier,\n  verificationId: string,\n  errorCallback?: () => void\n) => {\n  const { t } = useTranslation();\n  const { show } = useConfirmModal();\n  const navigate = useNavigate();\n  const redirectTo = useGlobalRedirectTo();\n  const { isVerificationCodeEnabledForSignUp } = useSieMethods();\n  const handleError = useErrorHandler();\n  const registerWithIdentifierAsync = useApi(registerWithVerifiedIdentifier);\n  const asyncSignInWithVerificationCodeIdentifier = useApi(identifyWithVerificationCode);\n\n  const { errorMessage, clearErrorMessage, generalVerificationCodeErrorHandlers } =\n    useGeneralVerificationCodeErrorHandler();\n\n  const preSignInErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.SignIn, {\n    replace: true,\n  });\n  const preRegisterErrorHandler = useSubmitInteractionErrorHandler(InteractionEvent.Register, {\n    replace: true,\n  });\n\n  const showIdentifierErrorAlert = useIdentifierErrorAlert();\n\n  const identifierNotExistErrorHandler = useCallback(async () => {\n    const { type, value } = identifier;\n\n    // Should not redirect user to register if is sign-in only mode\n    if (!isVerificationCodeEnabledForSignUp(type)) {\n      void showIdentifierErrorAlert(IdentifierErrorType.IdentifierNotExist, type, value);\n\n      return;\n    }\n\n    show({\n      confirmText: 'action.create',\n      ModalContent: t('description.sign_in_id_does_not_exist', {\n        type: t(`description.${type === SignInIdentifier.Email ? 'email' : 'phone_number'}`),\n        value:\n          type === SignInIdentifier.Phone ? formatPhoneNumberWithCountryCallingCode(value) : value,\n      }),\n      onConfirm: async () => {\n        const [error, result] = await registerWithIdentifierAsync(verificationId);\n\n        if (error) {\n          await handleError(error, preRegisterErrorHandler);\n\n          return;\n        }\n\n        if (result?.redirectTo) {\n          await redirectTo(result.redirectTo);\n        }\n      },\n      onCancel: () => {\n        navigate(-1);\n      },\n    });\n  }, [\n    identifier,\n    isVerificationCodeEnabledForSignUp,\n    show,\n    t,\n    showIdentifierErrorAlert,\n    registerWithIdentifierAsync,\n    verificationId,\n    handleError,\n    preRegisterErrorHandler,\n    redirectTo,\n    navigate,\n  ]);\n\n  const errorHandlers = useMemo<ErrorHandlers>(\n    () => ({\n      'user.user_not_exist': identifierNotExistErrorHandler,\n      ...generalVerificationCodeErrorHandlers,\n      ...preSignInErrorHandler,\n      callback: errorCallback,\n    }),\n    [\n      errorCallback,\n      identifierNotExistErrorHandler,\n      preSignInErrorHandler,\n      generalVerificationCodeErrorHandlers,\n    ]\n  );\n\n  const onSubmit = useCallback(\n    async (code: string) => {\n      const [error, result] = await asyncSignInWithVerificationCodeIdentifier({\n        verificationId,\n        identifier,\n        code,\n      });\n\n      if (error) {\n        await handleError(error, errorHandlers);\n        return;\n      }\n\n      if (result?.redirectTo) {\n        await redirectTo(result.redirectTo);\n      }\n    },\n    [\n      asyncSignInWithVerificationCodeIdentifier,\n      errorHandlers,\n      handleError,\n      identifier,\n      redirectTo,\n      verificationId,\n    ]\n  );\n\n  return {\n    errorMessage,\n    clearErrorMessage,\n    onSubmit,\n  };\n};\n\nexport default useSignInFlowCodeVerification;\n","import { UserFlow } from '@/types';\n\nimport useContinueFlowCodeVerification from './use-continue-flow-code-verification';\nimport useForgotPasswordFlowCodeVerification from './use-forgot-password-flow-code-verification';\nimport useRegisterFlowCodeVerification from './use-register-flow-code-verification';\nimport useSignInFlowCodeVerification from './use-sign-in-flow-code-verification';\n\nexport const codeVerificationHooks = Object.freeze({\n  [UserFlow.SignIn]: useSignInFlowCodeVerification,\n  [UserFlow.Register]: useRegisterFlowCodeVerification,\n  [UserFlow.ForgotPassword]: useForgotPasswordFlowCodeVerification,\n  [UserFlow.Continue]: useContinueFlowCodeVerification,\n});\n\nexport const getCodeVerificationHookByFlow = (flow: UserFlow) => codeVerificationHooks[flow];\n","import { type VerificationCodeIdentifier } from '@logto/schemas';\nimport classNames from 'classnames';\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useTranslation, Trans } from 'react-i18next';\n\nimport Button from '@/components/Button';\nimport TextLink from '@/components/TextLink';\nimport VerificationCodeInput, { defaultLength } from '@/components/VerificationCode';\nimport { UserFlow } from '@/types';\n\nimport PasswordSignInLink from './PasswordSignInLink';\nimport styles from './index.module.scss';\nimport useResendVerificationCode from './use-resend-verification-code';\nimport { getCodeVerificationHookByFlow } from './utils';\n\ntype Props = {\n  readonly flow: UserFlow;\n  readonly identifier: VerificationCodeIdentifier;\n  readonly verificationId: string;\n  readonly hasPasswordButton?: boolean;\n  readonly className?: string;\n};\n\nconst VerificationCode = ({\n  flow,\n  identifier,\n  verificationId,\n  className,\n  hasPasswordButton,\n}: Props) => {\n  const [codeInput, setCodeInput] = useState<string[]>([]);\n  const [inputErrorMessage, setInputErrorMessage] = useState<string>();\n\n  const { t } = useTranslation();\n\n  const isCodeInputReady = useMemo(\n    () => codeInput.length === defaultLength && codeInput.every(Boolean),\n    [codeInput]\n  );\n\n  const useVerificationCode = getCodeVerificationHookByFlow(flow);\n\n  const errorCallback = useCallback(() => {\n    setCodeInput([]);\n    setInputErrorMessage(undefined);\n  }, []);\n\n  const {\n    errorMessage: submitErrorMessage,\n    clearErrorMessage,\n    onSubmit,\n  } = useVerificationCode(identifier, verificationId, errorCallback);\n\n  const errorMessage = inputErrorMessage ?? submitErrorMessage;\n\n  const { seconds, isRunning, onResendVerificationCode } = useResendVerificationCode(\n    flow,\n    identifier\n  );\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = useCallback(\n    async (code: string[]) => {\n      setInputErrorMessage(undefined);\n\n      setIsSubmitting(true);\n\n      await onSubmit(code.join(''));\n\n      setIsSubmitting(false);\n    },\n    [onSubmit]\n  );\n\n  useEffect(() => {\n    if (isCodeInputReady) {\n      void handleSubmit(codeInput);\n    }\n  }, [codeInput, handleSubmit, isCodeInputReady]);\n\n  return (\n    <form className={classNames(styles.form, className)}>\n      <VerificationCodeInput\n        name=\"passcode\"\n        className={classNames(styles.inputField, errorMessage && styles.withError)}\n        value={codeInput}\n        error={errorMessage}\n        onChange={setCodeInput}\n      />\n      <div className={styles.message}>\n        {isRunning ? (\n          <Trans components={{ span: <span key=\"counter\" /> }}>\n            {t('description.resend_after_seconds', { seconds })}\n          </Trans>\n        ) : (\n          <Trans\n            components={{\n              a: (\n                <TextLink\n                  className={styles.link}\n                  onClick={async () => {\n                    clearErrorMessage();\n                    await onResendVerificationCode();\n                    setCodeInput([]);\n                  }}\n                />\n              ),\n            }}\n          >\n            {t('description.resend_passcode')}\n          </Trans>\n        )}\n      </div>\n      {flow === UserFlow.SignIn && hasPasswordButton && (\n        <PasswordSignInLink className={styles.switch} />\n      )}\n      <Button\n        title=\"action.continue\"\n        type=\"primary\"\n        isLoading={isSubmitting}\n        className={styles.continueButton}\n        onClick={() => {\n          if (!isCodeInputReady) {\n            setInputErrorMessage(t('error.invalid_passcode'));\n            return;\n          }\n\n          void handleSubmit(codeInput);\n        }}\n      />\n    </form>\n  );\n};\n\nexport default VerificationCode;\n","import { SignInIdentifier, type VerificationCodeIdentifier } from '@logto/schemas';\nimport { t } from 'i18next';\nimport { useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { validate } from 'superstruct';\n\nimport SecondaryPageLayout from '@/Layout/SecondaryPageLayout';\nimport UserInteractionContext from '@/Providers/UserInteractionContextProvider/UserInteractionContext';\nimport { type IdentifierInputValue } from '@/components/InputFields/SmartInputField';\nimport VerificationCodeContainer from '@/containers/VerificationCode';\nimport { useSieMethods } from '@/hooks/use-sie';\nimport ErrorPage from '@/pages/ErrorPage';\nimport { UserFlow } from '@/types';\nimport { userFlowGuard } from '@/types/guard';\nimport { formatPhoneNumberWithCountryCallingCode } from '@/utils/country-code';\nimport { codeVerificationTypeMap } from '@/utils/sign-in-experience';\n\ntype Parameters = {\n  flow: string;\n};\n\nconst isValidVerificationCodeIdentifier = (\n  identifierInputValue: IdentifierInputValue | undefined\n): identifierInputValue is VerificationCodeIdentifier =>\n  Boolean(\n    identifierInputValue?.type &&\n      identifierInputValue.type !== SignInIdentifier.Username &&\n      identifierInputValue.value\n  );\n\nconst VerificationCode = () => {\n  const { flow } = useParams<Parameters>();\n  const { signInMethods } = useSieMethods();\n\n  const { identifierInputValue, forgotPasswordIdentifierInputValue, verificationIdsMap } =\n    useContext(UserInteractionContext);\n\n  const [, userFlow] = validate(flow, userFlowGuard);\n\n  if (!userFlow) {\n    return <ErrorPage />;\n  }\n\n  const cachedIdentifierInputValue =\n    flow === UserFlow.ForgotPassword ? forgotPasswordIdentifierInputValue : identifierInputValue;\n\n  if (!isValidVerificationCodeIdentifier(cachedIdentifierInputValue)) {\n    return <ErrorPage title=\"error.invalid_session\" />;\n  }\n\n  const { type, value } = cachedIdentifierInputValue;\n\n  const methodSettings = signInMethods.find((method) => method.identifier === type);\n  const hasPasswordButton = userFlow === UserFlow.SignIn && methodSettings?.password;\n\n  // VerificationId not found\n  const verificationId = verificationIdsMap[codeVerificationTypeMap[type]];\n  if (!verificationId) {\n    return <ErrorPage title=\"error.invalid_session\" rawMessage=\"Verification ID not found\" />;\n  }\n\n  return (\n    <SecondaryPageLayout\n      title={`description.verify_${type}`}\n      description=\"description.enter_passcode\"\n      descriptionProps={{\n        address: t(`description.${type === SignInIdentifier.Email ? 'email' : 'phone_number'}`),\n        target:\n          type === SignInIdentifier.Phone ? formatPhoneNumberWithCountryCallingCode(value) : value,\n      }}\n    >\n      <VerificationCodeContainer\n        flow={userFlow}\n        identifier={cachedIdentifierInputValue}\n        verificationId={verificationId}\n        hasPasswordButton={hasPasswordButton}\n      />\n    </SecondaryPageLayout>\n  );\n};\n\nexport default VerificationCode;\n","import { MfaFactor, experience } from '@logto/schemas';\nimport { Route, Routes, BrowserRouter } from 'react-router-dom';\n\nimport AppLayout from './Layout/AppLayout';\nimport AppBoundary from './Providers/AppBoundary';\nimport CaptchaContextProvider from './Providers/CaptchaContextProvider';\nimport LoadingLayerProvider from './Providers/LoadingLayerProvider';\nimport PageContextProvider from './Providers/PageContextProvider';\nimport SettingsProvider from './Providers/SettingsProvider';\nimport UserInteractionContextProvider from './Providers/UserInteractionContextProvider';\nimport DevelopmentTenantNotification from './containers/DevelopmentTenantNotification';\nimport Callback from './pages/Callback';\nimport Consent from './pages/Consent';\nimport Continue from './pages/Continue';\nimport DirectSignIn from './pages/DirectSignIn';\nimport ErrorPage from './pages/ErrorPage';\nimport ForgotPassword from './pages/ForgotPassword';\nimport IdentifierRegister from './pages/IdentifierRegister';\nimport IdentifierSignIn from './pages/IdentifierSignIn';\nimport MfaBinding from './pages/MfaBinding';\nimport BackupCodeBinding from './pages/MfaBinding/BackupCodeBinding';\nimport TotpBinding from './pages/MfaBinding/TotpBinding';\nimport WebAuthnBinding from './pages/MfaBinding/WebAuthnBinding';\nimport MfaVerification from './pages/MfaVerification';\nimport BackupCodeVerification from './pages/MfaVerification/BackupCodeVerification';\nimport TotpVerification from './pages/MfaVerification/TotpVerification';\nimport WebAuthnVerification from './pages/MfaVerification/WebAuthnVerification';\nimport OneTimeToken from './pages/OneTimeToken';\nimport Register from './pages/Register';\nimport RegisterPassword from './pages/RegisterPassword';\nimport ResetPassword from './pages/ResetPassword';\nimport ResetPasswordLanding from './pages/ResetPasswordLanding';\nimport SignIn from './pages/SignIn';\nimport SignInPassword from './pages/SignInPassword';\nimport SingleSignOnConnectors from './pages/SingleSignOnConnectors';\nimport SingleSignOnEmail from './pages/SingleSignOnEmail';\nimport SingleSignOnLanding from './pages/SingleSignOnLanding';\nimport SocialLanding from './pages/SocialLanding';\nimport SocialLinkAccount from './pages/SocialLinkAccount';\nimport SocialSignInWebCallback from './pages/SocialSignInWebCallback';\nimport Springboard from './pages/Springboard';\nimport SwitchAccount from './pages/SwitchAccount';\nimport VerificationCode from './pages/VerificationCode';\nimport { UserMfaFlow } from './types';\nimport { handleSearchParametersData } from './utils/search-parameters';\nimport './scss/normalized.scss';\n\nhandleSearchParametersData();\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <PageContextProvider>\n        <SettingsProvider>\n          <UserInteractionContextProvider>\n            <CaptchaContextProvider>\n              <DevelopmentTenantNotification />\n              <AppBoundary>\n                <Routes>\n                  <Route element={<LoadingLayerProvider />}>\n                    <Route path=\"springboard\" element={<Springboard />} />\n                    <Route path=\"callback/:connectorId\" element={<Callback />} />\n                    <Route\n                      path=\"callback/social/:connectorId\"\n                      element={<SocialSignInWebCallback />}\n                    />\n                    <Route path=\"direct/:method/:target?\" element={<DirectSignIn />} />\n                    <Route element={<AppLayout />}>\n                      <Route path={experience.routes.oneTimeToken} element={<OneTimeToken />} />\n                      <Route path={experience.routes.switchAccount} element={<SwitchAccount />} />\n                      <Route\n                        path=\"unknown-session\"\n                        element={<ErrorPage message=\"error.invalid_session\" />}\n                      />\n\n                      {/* Sign-in */}\n                      <Route path={experience.routes.signIn}>\n                        <Route index element={<SignIn />} />\n                        <Route path=\"password\" element={<SignInPassword />} />\n                      </Route>\n\n                      {/* Register */}\n                      <Route path={experience.routes.register}>\n                        <Route index element={<Register />} />\n                        <Route path=\"password\" element={<RegisterPassword />} />\n                      </Route>\n\n                      {/* Forgot password */}\n                      <Route path=\"forgot-password\">\n                        <Route index element={<ForgotPassword />} />\n                        <Route path=\"reset\" element={<ResetPassword />} />\n                      </Route>\n\n                      {/* Passwordless verification code */}\n                      <Route path=\":flow/verification-code\" element={<VerificationCode />} />\n\n                      {/* Mfa binding */}\n                      <Route path={UserMfaFlow.MfaBinding}>\n                        <Route index element={<MfaBinding />} />\n                        <Route path={MfaFactor.TOTP} element={<TotpBinding />} />\n                        <Route path={MfaFactor.WebAuthn} element={<WebAuthnBinding />} />\n                        <Route path={MfaFactor.BackupCode} element={<BackupCodeBinding />} />\n                      </Route>\n\n                      {/* Mfa verification */}\n                      <Route path={UserMfaFlow.MfaVerification}>\n                        <Route index element={<MfaVerification />} />\n                        <Route path={MfaFactor.TOTP} element={<TotpVerification />} />\n                        <Route path={MfaFactor.WebAuthn} element={<WebAuthnVerification />} />\n                        <Route path={MfaFactor.BackupCode} element={<BackupCodeVerification />} />\n                      </Route>\n\n                      {/* Continue set up missing profile */}\n                      <Route path=\"continue\">\n                        <Route path=\":method\" element={<Continue />} />\n                      </Route>\n\n                      {/* Social sign-in pages */}\n                      <Route path=\"social\">\n                        <Route path=\"link/:connectorId\" element={<SocialLinkAccount />} />\n                        <Route path=\"landing/:connectorId\" element={<SocialLanding />} />\n                      </Route>\n\n                      {/* Single sign-on */}\n                      <Route path={experience.routes.sso}>\n                        {/* Single sign-on first screen landing page */}\n                        <Route index element={<SingleSignOnLanding />} />\n                        <Route path=\"email\" element={<SingleSignOnEmail />} />\n                        <Route path=\"connectors\" element={<SingleSignOnConnectors />} />\n                      </Route>\n\n                      {/* Consent */}\n                      <Route path=\"consent\" element={<Consent />} />\n\n                      {/*\n                       * Identifier sign-in (first screen)\n                       * The first screen which only display specific identifier-based sign-in methods to users\n                       */}\n                      <Route\n                        path={experience.routes.identifierSignIn}\n                        element={<IdentifierSignIn />}\n                      />\n\n                      {/*\n                       * Identifier register (first screen)\n                       * The first screen which only display specific identifier-based registration methods to users\n                       */}\n                      <Route\n                        path={experience.routes.identifierRegister}\n                        element={<IdentifierRegister />}\n                      />\n\n                      {/*\n                       * Reset password (first screen)\n                       * The first screen which allow users to directly access the password reset page\n                       */}\n                      <Route\n                        path={experience.routes.resetPassword}\n                        element={<ResetPasswordLanding />}\n                      />\n                      <Route path=\"*\" element={<ErrorPage />} />\n                    </Route>\n                  </Route>\n                </Routes>\n              </AppBoundary>\n            </CaptchaContextProvider>\n          </UserInteractionContextProvider>\n        </SettingsProvider>\n      </PageContextProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","/* eslint-disable-next-line import/no-unassigned-import, unicorn/no-unnecessary-polyfills -- polyfill by design */\nimport 'core-js/actual';\nimport { createRoot } from 'react-dom/client';\nimport ReactModal from 'react-modal';\n\nimport App from './App';\n\nconst app = document.querySelector('#app');\nconst root = app && createRoot(app);\nReactModal.setAppElement('#app');\nroot?.render(<App />);\n"],"names":["domainDnsRecordGuard","z","domainDnsRecordsGuard","cloudflareDataGuard","DomainStatus","domainStatusGuard","InteractionHookEvent","DataHookSchema","DataHookBasicMutationType","DataHookDetailMutationType","hookEvents","hookEventGuard","hookEventsGuard","hookConfigGuard","absoluteLighten","baseColor","delta","hslArray","color","absoluteDarken","generateDarkColor","lightColor","emailRegEx","phoneRegEx","usernameRegEx","webRedirectUriProtocolRegEx","mobileUriSchemeProtocolRegEx","hexColorRegEx","validateRedirectUrl","url","type","protocol","ReservedScope","ReservedResource","userClaimsList","UserScope","idTokenClaims","userinfoClaims","current","parseE164Number","phone","PhoneNumberParser","parsePhoneNumberWithError","#parsedPhoneNumber","#isValid","isIntegrationTest","yes","define_process_env_default","getPwnPasswordsForTest","passwordPolicyGuard","_PasswordPolicyChecker","password","restrictedPhrasesTolerance","policy","subtle","userInfo","issues","hashArray","issueCodes","repetitionAndSequence","words","rejectUserInfo","rejectWords","fillHashArray","startIndex","length","code","i","sliced","total","characterTypes","char","hash","hashHex","binary","hashPrefix","hashSuffix","hex","repetitionAndSequenceThreshold","firstChar","lowercased","name","username","email","phoneNumber","updateLength","newLength","joined","word","emailPrefix","value","sequence","seq","reversedSeq","item","PasswordPolicyChecker","LogResult","logContextPayloadGuard","partialPasswordPolicyGuard","oidcModelInstancePayloadGuard","oidcClientMetadataGuard","CustomClientMetadataKey","customClientMetadataGuard","translationGuard","languages","isLanguageTag","key","languageTagGuard","Theme","colorGuard","partialColorGuard","brandingGuard","languageInfoGuard","SignInIdentifier","signInIdentifierGuard","AdditionalIdentifier","AlternativeSignUpIdentifier","signUpGuard","signInGuard","socialSignInGuard","connectorTargetsGuard","customContentGuard","MfaFactor","mfaFactorsGuard","MfaPolicy","OrganizationRequiredMfaPolicy","mfaGuard","customUiAssetsGuard","captchaPolicyGuard","sentinelPolicyGuard","emailBlocklistPolicyGuard","SentinelActivityTargetType","sentinelActivityTargetTypeGuard","SentinelActivityAction","sentinelActivityActionGuard","sentinelActivityPayloadGuard","ConnectorConfigFormItemType","baseConfigFormItem","connectorConfigFormItemGuard","ConnectorErrorCodes","ConnectorPlatform","i18nPhrasesGuard","i18nObject","keys","socialConnectorMetadataGuard","connectorMetadataGuard","configurableConnectorMetadataGuard","ConnectorType","VerificationCodeType","TemplateType","templateTypeGuard","sendMessagePayloadGuard","urlRegEx","address","OidcPrompt","oidcPromptsGuard","literalSchema","jsonGuard","jsonObjectGuard","googleOneTapConfigGuard","GoogleConnector","emailTemplateDetailsGuard","DemoConnector","ServiceConnector","userProfileGuard","identityGuard","identitiesGuard","baseMfaVerification","mfaVerificationTotp","webAuthnTransportGuard","mfaVerificationWebAuthn","mfaVerificationBackupCode","mfaVerificationGuard","mfaVerificationsGuard","ssoDomainsGuard","ssoBrandingGuard","idpInitiatedAuthParamsGuard","ssoSamlAssertionContentGuard","customDomainGuard","customDomainsGuard","protectedAppMetadataGuard","VerificationType","AccountCenterControlValue","accountCenterFieldControlGuard","samlAttributeMappingKeys","samlAttributeMappingGuard","claim","BindingType","samlAcsUrlGuard","samlEncryptionGuard","encryptAssertion","encryptThenSign","certificate","ctx","NameIdFormat","nameIdFormatGuard","oneTimeTokenContextGuard","OneTimeTokenStatus","oneTimeTokenStatusGuard","CaptchaType","turnstileConfigGuard","recaptchaEnterpriseConfigGuard","captchaConfigGuard","ApplicationType","OrganizationInvitationStatus","RoleType","SentinelActionResult","SentinelDecision","SignInMode","AgreeToTermsPolicy","UsersPasswordEncryptionMethod","createGuard","guard","ApplicationSignInExperiences","Applications","Connectors","Domains","Hooks","OrganizationInvitations","OrganizationRoles","OrganizationScopes","Organizations","Resources","Roles","SamlApplicationConfigs","SamlApplicationSecrets","Scopes","SignInExperiences","SsoConnectors","UserSsoIdentities","Users","Field","Method","Action","Type","TokenType","ExchangeByType","Scenario","GrantType","userInfoSelectFields","userInfoGuard","field","InternalRole","AdminTenantRole","PredefinedScope","scopeResponseGuard","baseTokenPayloadGuardObject","accessTokenPayloadGuard","clientCredentialsPayloadGuard","jwtCustomizerGuard","LogtoJwtTokenKeyType","jwtCustomizerUserContextGuard","jwtCustomizerGrantContextGuard","accessTokenJwtCustomizerGuard","clientCredentialsJwtCustomizerGuard","commonJwtCustomizerGuard","CustomJwtErrorCode","LogtoOidcConfigKeyType","LogtoOidcConfigKey","SupportedSigningKeyAlgorithm","oidcConfigKeyGuard","logtoOidcConfigGuard","LogtoJwtTokenKey","jwtCustomizerConfigGuard","adminConsoleDataGuard","cloudConnectionDataGuard","LogtoTenantConfigKey","logtoTenantConfigGuard","emailIdentifierGuard","phoneIdentifierGuard","codeGuard","emailVerificationCodePayloadGuard","phoneVerificationCodePayloadGuard","InteractionEvent","interactionIdentifierGuard","usernamePasswordPayloadGuard","emailPasswordPayloadGuard","phonePasswordPayloadGuard","socialConnectorPayloadGuard","socialEmailPayloadGuard","socialPhonePayloadGuard","MissingProfile","bindTotpPayloadGuard","bindWebAuthnPayloadGuard","bindBackupCodePayloadGuard","totpVerificationPayloadGuard","webAuthnVerificationPayloadGuard","backupCodeVerificationPayloadGuard","pendingTotpGuard","pendingWebAuthnGuard","pendingBackupCodeGuard","bindTotpGuard","bindWebAuthnGuard","bindBackupCodeGuard","SearchMatchMode","SearchJointMode","applicationCreateGuard","applicationPatchGuard","resourceScopesGuard","ApplicationUserConsentScopeType","AlterationStateKey","alterationStateGuard","StorageProvider","basicConfig","storageProviderDataGuard","StorageProviderKey","storageProviderGuard","EmailServiceProvider","sendgridEmailServiceConfigGuard","emailServiceConfigGuard","EmailServiceProviderKey","emailServiceProviderGuard","DemoSocialProvider","demoSocialDataGuard","DemoSocialKey","demoSocialGuard","hostnameProviderDataGuard","protectedAppConfigProviderDataGuard","customJwtWorkerConfigGuard","CloudflareKey","cloudflareGuard","allowUploadMimeTypes","allowUploadMimeTypeGuard","hookExecutionStatsGuard","ServiceLogType","dashboardUsersDataGuard","object","number","array","string","webAuthnRegistrationOptionsGuard","webAuthnAuthenticationOptionsGuard","organizationRoleEntityGuard","ssoConnectorMetadataGuard","SsoProviderName","SsoProviderType","ssoConnectorProviderDetailGuard","SsoAuthenticationQueryKey","TenantTag","defaultTenantId","TenantScope","allTenantScopes","TenantRole","publicUserInfoGuard","publicApplicationGuard","applicationSignInExperienceGuard","missingResourceScopesGuard","publicOrganizationGuard","Project","DeploymentType","Title","CompanySize","Reason","Stage","AdditionalFeatures","questionnaireGuard","samlAppConfigGuard","fingerprintFormatGuard","certificateFingerprintsGuard","CloudScope","defaultResourceId","defaultScopeAllId","defaultPrimaryColor","createDefaultSignInExperience","forTenantId","isCloud","inSeconds","ExtraParamsKey","InteractionMode","FirstScreen","ReservedPlanId","SubscriptionRedisCacheKey","routes","experience","PageContext","createContext","isMobile","noop","SvgLogtoLogoDark","props","React.createElement","SvgLogtoLogoLight","SvgLogtoLogoShadow","logtoUrl","LogtoSignature","className","theme","useContext","LogtoLogo","LogtoLogoLight","LogtoLogtoDark","jsx","jsxs","styles","LogtoLogoShadow","usePlatform","platform","layoutClassNames","useSieMethods","experienceSettings","signUpMethods","useMemo","secondaryIdentifiers","identifier","isVerificationCodeEnabledForSignUp","useCallback","signInMethods","verificationCode","isVerificationCodeEnabledForSignIn","passwordRequiredForSignUp","signUp","usePasswordPolicy","t","useTranslation","policyChecker","requirementsDescription","condArray","useForgotPasswordSettings","forgotPassword","enabledMethodSet","CustomContent","customContent","pathname","useLocation","customHtml","AppLayout","classNames","Outlet","generateLightColorLibrary","primaryColor","generateDarkColorLibrary","useColorTheme","darkPrimaryColor","useEffect","lightPrimary","lightColorLibrary","darkPrimary","darkColorLibrary","SvgCloseIcon","DynamicT","forKey","interpolation","translated","Fragment","SvgLoadingRing","RotatingRingIcon","Ring","RotatingRingIconStyles","Button","htmlType","size","title","i18nProps","isDisabled","isLoading","icon","onClick","rest","isLoadingActive","useDebouncedLoader","IconButton","children","ref","forwardRef","onKeyDownHandler","callback","event","AcModal","isOpen","isConfirmLoading","isCancelLoading","cancelText","confirmText","confirmTextI18nProps","cancelTextI18nProps","onConfirm","onClose","contentRef","useRef","ReactModal","modalStyles","CloseIcon","MobileModal","ConfirmModalContext","defaultModalState","ConfirmModalProvider","modalState","setModalState","useState","resolver","callbackRef","ConfirmModal","WebModal","handleShowPromise","resolve","handleShowCallback","onCancel","handleConfirm","data","previous","handleCancel","contextValue","ModalContent","restProps","SvgArrowPrev","SvgNavClose","FlipOnRtl","i18n","isRtl","isValidElement","cloneElement","NavBar","isHidden","onSkip","navigate","useNavigate","isClosable","clickHandler","NavClose","ArrowPrev","IframeModal","href","isLoaded","setIsLoaded","loadingBarRef","brandingColor","LoadingBar","IframeModalContext","useIframeModal","IframeModalProvider","context","Toast","message","duration","text","setText","timer","ToastProvider","toast","setToast","hideToast","defaultAppleTouchLogo","defaultFavicon","themeToFavicon","AppMeta","isPreview","favicon","Helmet","i18next","conditionalString","AppBoundary","useToast","CaptchaContext","scriptId","getScript","config","CaptchaContextProvider","widgetRef","captchaPolicy","captchaConfig","isCaptchaRequired","initCaptcha","script","executeCaptcha","reject","token","errorCode","captchaContext","LoadingMask","LoadingLayerProvider","loading","PageContextProvider","preset","searchParameters","useSearchParams","setLoading","setTheme","setPlatform","termsAgreement","setTermsAgreement","setExperienceSettings","pageContext","MainContext","builtInLanguages","languageTag","resource","en","searchKeysCamelCase","searchKeys","handleSearchParametersData","search","parameters","conditionalParamString","condString","buildSearchParameters","record","entries","entry","conditional","camelCase","_","letter","getSignInExperience","ky","getPhrases","localLanguage","language","request","isObject","detectedLanguage","detectLanguage","response","getPhrasesApi","remotePhrases","lng","getI18nResource","phrases","storageKey","languageSettings","languageDetector","LanguageDetector","changeLanguage","resources","namespace","initReactI18next","initI18n","initialLanguage","options","UserFlow","UserMfaFlow","SearchParameters","generateRandomString","fromUint8Array","parseQueryParameters","queryStringify","getSearchParameters","getLogtoNativeSdk","isNativeWebview","storageStateKeyPrefix","generateState","storeState","state","connectorId","validateState","stateStorage","validateGoogleOneTapCsrfToken","csrfToken","getCookie","storageCallbackLinkKeyPrefix","buildSocialLandingUri","path","redirectTo","origin","callbackLink","storeCallbackLink","getCallbackLinkFromStorage","removeCallbackLinkFromStorage","filterSocialConnectors","socialConnectors","connectorMap","connector","target","supportedConnector","getPostMessage","filterPreviewSocialConnectors","usePreview","previewConfig","setPreviewConfig","previewMessageHandler","isNative","parseSignInExperienceResponse","getSignInExperienceSettings","ssrValue","storageValue","codeVerificationTypeMap","darkThemeWatchMedia","getThemeBySystemConfiguration","useTheme","changeTheme","useSignInExperience","settings","SettingsProvider","userFlowGuard","s.enums","registeredSocialIdentity","s.optional","s.object","s.string","missingProfileErrorDataGuard","s.array","s.union","s.literal","registeredSocialIdentityStateGuard","s.type","socialAccountNotExistErrorDataGuard","mfaErrorDataGuard","s.boolean","mfaFlowStateGuard","totpBindingStateGuard","s.assign","backupCodeBindingStateGuard","webAuthnStateGuard","s.record","s.unknown","identifierEnumGuard","identifierInputValueGuard","mapGuard","verificationIdsMapGuard","s.partial","continueFlowStateGuard","logtoStorageKeyPrefix","StorageKeys","valueGuard","useSessionStorage","set","remove","get","error","rawValue","UserInteractionContext","UserInteractionContextProvider","ssoConnectors","ssoEmail","setSsoEmail","domainFilteredConnectors","setDomainFilteredConnectors","identifierInputValue","setIdentifierInputValue","forgotPasswordIdentifierInputValue","setForgotPasswordIdentifierInputValue","verificationIdsMap","setVerificationIdsMap","ssoConnectorsMap","clearInteractionContextSessionStorage","setVerificationId","id","userInteractionContext","SvgDevIcon","visibilityRelatedStyles","buildPermanentVisibleStyles","applyInlineStylesWithImportant","element","DevelopmentTenantNotification","iconRef","isDevelopmentTenant","iconStyles","createPortal","DevIcon","StaticPageLayout","SvgLoadingIcon","LoadingIcon","LoadingSvg","LoadingIconWithContainer","LoadingLayer","useConnectors","findConnectorById","ssoConnector","socialConnector","getConnectorLogo","SocialLanding","result","useSocialCallbackHandler","searchParams","hashParams","joinedSearchParams","Callback","useParams","socialCallbackHandler","SvgConnectIcon","BrandingHeader","logo","thirdPartyLogo","headline","headlineInterpolation","shouldShowLogo","shouldConnectSvg","ConnectIcon","getLogoUrl","logoUrl","darkLogoUrl","isApple","getBrandingLogoUrl","branding","isDarkModeEnabled","PageMeta","titleKey","titleKeyInterpolation","FirstScreenLayout","pageMeta","LandingPageLayout","titleInterpolation","thirdPartyBranding","api","consent","organizationId","getConsentInfo","TextLink","to","hyperLinkProps","others","Link","TermsLinks","inline","termsOfUseUrl","privacyPolicyUrl","linkType","useApi","args","useErrorHandler","errorHandlers","HTTPError","logtoError","handler","TimeoutError","useGlobalRedirectTo","shouldClearInteractionContextSession","isReplace","SvgExpandableIcon","SvgArrowDown","SvgCheckMark","ScopeGroup","groupName","scopes","isAutoExpand","expanded","setExpanded","toggle","CheckMark","DownArrowIcon","description","SvgOrganizationIcon","OrganizationItem","organization","onSelect","isSelected","suffixElement","OrganizationIcon","OrganizationSelectorModal","parentElementRef","organizations","selectedOrganization","position","setPosition","updatePosition","parent","top","left","height","width","offset","modalContentHeight","maxTop","useLayoutEffect","OrganizationSelector","showDropdown","setShowDropdown","resourceScopes","resourceA","resourceB","ExpandableIcon","isUserScope","scope","ScopesListCard","userScopes","appName","userScopesData","SvgDefaultUserAvatar","UserProfile","avatar","primaryEmail","primaryPhone","UserAvatar","getRedirectUriOrigin","redirectUri","Consent","handleError","asyncConsent","consentData","setConsentData","setSelectedOrganization","isConsentLoading","setIsConsentLoading","asyncGetConsentInfo","consentHandler","displayName","applicationName","showTerms","Trans","SvgEmptyStateDark","SvgEmptyState","TextLinkComponent","SupportInfo","supportEmail","supportWebsiteUrl","ErrorPage","rawMessage","isNavbarHidden","errorMessage","EmptyState","EmptyStateDark","SvgInfoIcon","style","InfoIcon","InlineNotification","SecondaryPageLayout","titleProps","descriptionProps","notification","isNavBarHidden","prefix","experienceApiRoutes","initInteraction","interactionEvent","captchaToken","identifyUser","payload","submitInteraction","updateProfile","updateInteractionEvent","identifyAndSubmitInteraction","addMfa","verificationId","createTotpSecret","createWebAuthnRegistration","registrationOptions","createWebAuthnAuthentication","authenticationOptions","createBackupCode","skipMfa","bindMfa","verifyMfa","getSocialAuthorizationUrl","verifySocialVerification","bindSocialRelatedUser","getSsoConnectors","getSsoAuthorizationUrl","signInWithSso","signInAndLinkWithSocial","socialVerificationid","registerWithOneTimeToken","registerWithVerifiedIdentifier","signInWithVerifiedIdentifier","signInWithPasswordIdentifier","registerWithUsername","continueRegisterWithPassword","sendVerificationCode","verifyVerificationCode","json","identifyWithVerificationCode","updateProfileWithVerificationCode","fulfillProfile","resetPassword","userFlowToInteractionEventMap","getInteractionEventFromState","continueFlowState","validate","sendVerificationCodeApi","flow","useSendVerificationCode","replaceCurrentPage","setErrorMessage","asyncSendVerificationCode","clearErrorMessage","onSubmit","ErrorMessage","getMessage","NotchedBorder","label","isActive","isDanger","isFocused","InputField","inputFieldClassName","suffix","isPrefixVisible","isSuffixFocusVisible","onFocus","onBlur","onChange","reference","innerRef","useImperativeHandle","errorMessages","setIsFocused","hasValue","setHasValue","handleAnimationStart","SvgPasswordHideIcon","SvgPasswordShowIcon","useToggle","defaultValue","setValue","PasswordInputField","showPassword","toggleShowPassword","PasswordShowIcon","PasswordHideIcon","SvgClearIcon","AnimatedPrefix","isVisible","domReady","setDomReady","elementRef","getTargetWidth","animation","useSpring","useIsomorphicLayoutEffect","cleanup","onResize","animated","fallbackCountryCode","countryCallingCodeMap","isValidCountryCode","countryCode","getCountryCallingCode","getDefaultCountryCode","languageCode","upperCaseLanguageCode","getDefaultCountryCallingCode","getCountryList","defaultCountryCode","defaultCountryCallingCode","countryList","countryCallingCode","index","self","next","formatPhoneNumberWithCountryCallingCode","parsePhoneNumber","SvgSearchIcon","useDebounce","delay","debouncedValue","setDebouncedValue","CountryCodeDropdown","inputRef","searchValue","setSearchValue","selectedCountryCode","setSelectedCountryCode","debouncedSearchValue","onSearchChange","onDestroy","onCodeChange","filteredCountryList","firstCountryCode","onInputKeyDown","currentSelectedIndex","nextSelectedCountryCode","selectedItemDom","SearchIcon","countryKeyCode","CountryCodeSelector","isDropdownOpen","setIsDropdownOpen","defaultCountCode","showDropDown","hideDropDown","validateUsername","validateEmail","validatePhone","ParseError","validateIdentifierField","identifierInputPlaceholderMap","identifierInputDescriptionMap","getGeneralIdentifierErrorMessage","enabledFields","parseIdentifierValue","validPhoneNumber","getInputHtmlProps","enabledTypes","currentType","digitsRegex","detectIdentifierType","enabledTypeSet","hasAtSymbol","isAllDigits","useSmartInputField","defaultType","defaultInputValue","setCurrentType","setCountryCode","inputValue","setInputValue","detectInputType","onCountryCodeChange","onInputValueChange","trimValue","onInputValueClear","AnimatedInputField","SmartInputField","identifierType","paddingInlineStart","ClearIcon","IdentifierProfileForm","autoFocus","handleSubmit","control","errors","isValid","isSubmitting","useForm","onSubmitHandler","Controller","maskEmail","domain","maskPhone","SocialIdentityNotification","missingProfileTypes","is","pageContent","formSettings","SetEmailOrPhone","missingProfile","HiddenIdentifierInput","Lite","register","SvgCheckboxIcon","Checkbox","disabled","CheckBox","TogglePassword","isChecked","SetPassword","setShowPassword","watch","resetField","isForgotPasswordEnabled","SetPasswordLite","SetPasswordStandard","usePromiseConfirmModal","showPromise","useConfirmModal","showCallback","usePasswordErrorMessage","getErrorMessage","singleDisplayError","issue","restrictedErrors","getErrorMessageFromBody","usePasswordPolicyChecker","fastCheckErrorMessage","usePasswordRejectionErrorHandler","passwordRejectionHandler","useEmailBlockedErrorHandler","show","errorCallback","useStartBackupCodeBinding","generateBackUpCodes","replace","codes","useStartTotpBinding","asyncCreateTotpSecret","flowState","secret","secretQrCode","useStartWebAuthnProcessing","asyncCreateRegistrationOptions","asyncGenerateAuthnOptions","useMfaErrorHandler","startTotpBinding","startWebAuthnProcessing","startBackupCodeBinding","handleMfaRedirect","availableFactors","factor","handleMfaError","factors","skippable","useRequiredProfileErrorHandler","linkSocial","linkSocialQueryString","useSubmitInteractionErrorHandler","requiredProfileErrorHandler","mfaErrorHandler","emailBlockedErrorHandler","checkPassword","addPassword","passwordRejectionErrorHandler","submitInteractionErrorHandler","min","max","count","SetPasswordForm","useSetUsername","asyncAddProfile","SetUsername","Continue","method","TermsAndPrivacyConfirmModalContent","useTerms","isTermsDisabled","agreeToTermsPolicy","termsAndPrivacyConfirmModalHandler","termsValidation","useSocial","asyncInvokeSocialSignIn","nativeSignInHandler","invokeSocialSignInHandler","authorizationUri","useFallbackRoute","fallbackKey","useSingleSignOn","asyncInvokeSingleSignOn","DirectSignIn","invokeSocialSignIn","invokeSso","fallback","social","sso","useLoginHint","getIdentifierInputValueByTypes","usePrefilledIdentifier","enabledIdentifiers","isForgotPassword","loginHint","cachedInputIdentifier","CaptchaBox","ForgotPasswordForm","defaultValues","ForgotPassword","enabledMethods","prefilledValue","TermsAndPrivacyLinks","FocusedAuthPageLayout","footerTermsDisplayPolicies","authOptionsLink","shouldDisplayFooterTerms","SingleSignOnFormModeContext","SingleSignOnFormModeContextProvider","showSingleSignOnForm","setShowSingleSignOnForm","SvgLock","TermsAndPrivacyCheckbox","useSingleSignOnWatch","identifierInput","singleSignOnEnabled","setSsoConnectors","availableSsoConnectorsMap","singleSignOn","fetchSsoConnectors","connectors","navigateToSingleSignOn","useCheckSingleSignOn","clearContext","continueSignIn","useRegisterWithUsername","usernameErrorHandlers","preRegisterErrorHandler","asyncRegister","asyncSubmitInteraction","onSubmitInteraction","useOnSubmit","checkSingleSignOn","usernameRegisterErrorMessage","clearUsernameRegisterErrorMessage","sendVerificationCodeErrorMessage","clearSendVerificationCodeErrorMessage","IdentifierRegisterForm","prefilledIdentifier","LockIcon","parseIdentifierParamValue","parsed","useIdentifierParams","useIdentifierSignUpMethods","signUpMethodsFromSie","identifiers","methods","IdentifierRegister","signInMode","Navigate","navigateToPasswordPage","isPasswordPrimary","IdentifierSignInForm","enabledSignInMethods","ForgotPasswordLink","identifierData","usePasswordSignIn","asyncSignIn","preSignInErrorHandler","PasswordSignInForm","useIdentifierSignInMethods","IdentifierSignIn","isPasswordOnly","SvgArrowNext","SvgFactorBackupCode","SvgFactorTotp","SvgFactorWebauthn","factorIcon","FactorTotp","FactorWebAuthn","FactorBackupCode","factorName","factorDescription","linkFactorDescription","MfaFactorButton","isBinding","Icon","mfaFactorButtonStyles","ArrowNext","MfaFactorList","handleSelectFactor","useMfaFlowState","mfaFlowState","useSkipMfa","asyncSkipMfa","MfaBinding","sendMfaPayloadApi","useSendMfaPayload","asyncSendMfaPayload","apiOptions","useTextHandler","copyText","successMessage","downloadText","filename","blob","downloadLink","BackupCodeBinding","sendMfaPayload","setIsSubmitting","backupCodeBindingState","backupCodeTextContent","Divider","lineStyle","SvgSwitchIcon","SwitchMfaFactorsLink","SwitchIcon","SectionLayout","SecretSection","isQrCodeFormat","setIsQrCodeFormat","defaultLength","isNumeric","normalize","VerificationCode","inputReferences","updateValue","targetId","chars","trimmedChars","onInputHandler","dataset","onPasteHandler","clipboardData","nextTarget","previousTarget","useTotpCodeVerification","invalidCodeErrorHandlers","totpCodeLength","isCodeReady","TotpCodeVerification","codeInput","setCodeInput","inputErrorMessage","setInputErrorMessage","submitErrorMessage","VerificationCodeInput","VerificationSection","TotpBinding","totpBindingState","isAuthenticationResponseJSON","responseJson","useWebAuthnOperation","browserSupportsWebAuthn","parsedRegistrationOptions","trySafe","startRegistration","startAuthentication","isWebAuthnOptions","WebAuthnBinding","webAuthnState","handleWebAuthn","isCreatingPasskey","setIsCreatingPasskey","MfaVerification","BackupCodeVerification","TotpVerification","WebAuthnVerification","isVerifying","setIsVerifying","OneTimeToken","params","oneTimeTokenError","setOneTimeTokenError","asyncIdentifyUserAndSubmit","asyncSignInWithVerifiedIdentifier","asyncRegisterWithOneTimeToken","signInWithOneTimeToken","submit","GoogleOneTap","SocialLinkButton","localName","socialLinkButtonStyles","useNativeMessageListener","bypass","nativeMessageHandler","SocialSignInList","loadingConnectorId","setLoadingConnectorId","handleClick","RegisterFooter","handleSsoNavigation","Register","RegisterPassword","asyncRegisterPassword","ResetPassword","asyncResetPassword","useResetPasswordMethods","ResetPasswordLanding","Main","SignInFooters","SignIn","VerificationCodeLink","setIsLoading","PasswordForm","isVerificationCodeEnabled","SignInPassword","methodSetting","SingleSignOnConnectors","connectorName","SingleSignOnForm","isTermsAndPrivacyCheckboxVisible","SingleSignOnEmail","SingleSignOnLanding","useSocialLandingHandler","socialLandingHandler","nativeCallbackLink","SocialLandingContainer","useSocialRegister","asyncRegisterWithSocial","useBindSocialRelatedUser","asyncBindSocialRelatedUser","getCreateAccountActionText","SocialLinkAccount","relatedUser","isBindingUser","setIsBindingUser","registerWithSocial","actionText","getPageTitle","SocialLinkAccountContainer","useSingleSignOnRegister","useSingleSignOnListener","isConsumed","setIsConsumed","setSearchParameters","singleSignOnAuthorizationRequest","registerSingleSignOnIdentity","singleSignOnHandler","SingleSignOn","useSocialSignInListener","socialSignInSettings","verificationIdRef","verifySocial","asyncSignInWithSocial","asyncInitInteraction","accountNotExistErrorHandler","globalErrorHandler","signInWithSocialErrorHandlers","verifySocialCallbackData","signInWithSocialHandler","isGoogleOneTap","SocialSignIn","SocialSignInWebCallback","Springboard","SwitchAccount","PasswordSignInLink","timeRange","getTimeout","now","useResendVerificationCode","seconds","isRunning","restart","useTimer","resendVerificationCode","onResendVerificationCode","useGeneralVerificationCodeErrorHandler","generalVerificationCodeErrorHandlers","IdentifierErrorType","useIdentifierErrorAlert","errorType","useLinkSocial","asyncLinkWithSocial","identifierVerificationId","socialVerificationId","useLinkSocialConfirmModal","linkWithSocial","useSignInWithExistIdentifierConfirmModal","signInWithIdentifierAsync","onCanceled","useContinueFlowCodeVerification","showIdentifierErrorAlert","showLinkSocialConfirmModal","showSignInWithExistIdentifierConfirmModal","identifierExistsErrorHandler","verifyVerificationCodeErrorHandlers","useForgotPasswordFlowCodeVerification","identifierErrorHandler","useRegisterFlowCodeVerification","useSignInFlowCodeVerification","registerWithIdentifierAsync","asyncSignInWithVerificationCodeIdentifier","identifierNotExistErrorHandler","codeVerificationHooks","getCodeVerificationHookByFlow","hasPasswordButton","isCodeInputReady","useVerificationCode","isValidVerificationCodeIdentifier","userFlow","cachedIdentifierInputValue","methodSettings","VerificationCodeContainer","App","BrowserRouter","Routes","Route","app","root","createRoot"],"mappings":"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"}